(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f22b4d0"],{"0e84":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"financial-statistics"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"-1"!=t.$authority.indexOf("financeSearch"),expression:"$authority.indexOf('financeSearch') != '-1'"}],staticClass:"search-list"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:4}},[t._v("项目")]),a("el-col",{attrs:{span:18}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.findStatisticscw},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.projectLilst,function(t){return a("el-option",{key:t.orgId,attrs:{label:t.orgName,value:t.orgId}})}),1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:3}},[t._v("时间")]),a("el-col",{attrs:{span:19}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}})],1)],1),a("el-col",{staticClass:"disp-right",attrs:{span:9,offset:4}},["-1"!=t.$authority.indexOf("financeSearch")?a("el-button",{staticClass:"el-button el-button--primary",on:{click:t.findStatisticscw}},[t._v("查询")]):t._e(),"-1"!=t.$authority.indexOf("financeExport")?a("el-button",{staticClass:"greenBtn",on:{click:t.findStatisticsForExport}},[t._v("导出")]):t._e()],1)],1)],1),a("div",{staticClass:"content-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目"}}),a("el-table-column",{attrs:{prop:"receivable",align:"center",label:"应收账款"}}),a("el-table-column",{attrs:{prop:"paymentsDue",align:"center",label:"已收账款"}}),a("el-table-column",{attrs:{prop:"supporting",align:"center",label:"应支账款"}}),a("el-table-column",{attrs:{prop:"supported",align:"center",label:"已支账款"}}),a("el-table-column",{attrs:{prop:"income",align:"center",label:"预收总款"}}),a("el-table-column",{attrs:{prop:"rentIncome",align:"center",label:"租金收入"}}),a("el-table-column",{attrs:{prop:"rentOutcome",align:"center",label:"租金支出"}}),a("el-table-column",{attrs:{prop:"bond",align:"center",label:"其他应付款保证金"}}),a("el-table-column",{attrs:{prop:"management",align:"center",label:"物管收入"}}),a("el-table-column",{attrs:{prop:"electric",align:"center",label:"电费收入"}}),a("el-table-column",{attrs:{prop:"water",align:"center",label:"水费收入"}}),a("el-table-column",{attrs:{prop:"additional",align:"center",label:"附加服务费收入"}}),a("el-table-column",{attrs:{prop:"service",align:"center",label:"服务费收入"}}),a("el-table-column",{attrs:{prop:"other",align:"center",label:"其他收入"}})],1)],1)])},i=[],n=a("591a"),s=a("729c"),r={name:"financial-statistics",data(){return{startTime:"",endTime:"",total:0,value1:"",value2:"",value3:null,tableData:[],currentPage:1,projectLilst:[]}},created(){this.init(),console.log(this)},computed:{...Object(n["b"])(["getPeojectList","gettaCity"])},mounted(){},methods:{clear(){this.projectLilst=[],this.value2=""},getStatisticsOrgList(){Object(s["sb"])().then(t=>{t.data.data.length>0&&(this.projectLilst=[],this.projectLilst=JSON.parse(JSON.stringify(t.data.data)),this.projectLilst.unshift({orgName:"全部",orgId:""}))}).then(()=>{this.projectLilst.length>0&&this.findStatisticscw()}).catch(t=>{})},findStatisticsForExport(){if(0==this.projectLilst.length)return;let t={cityId:this.value1,orgId:this.value2,startTime:"",endTime:""};this.value3&&(t.startTime=this.value3[0],t.endTime=this.value3[1]),window.open(`/api/bill/findStatisticsForExport?cityId=${t.cityId}&orgId=${t.orgId}&startTime=${t.startTime}&endTime=${t.endTime}`)},findStatisticscw(){if(0!=this.projectLilst.length)try{let e={cityId:this.value1,orgId:this.value2};this.value3&&(e.startTime=this.value3[0],e.endTime=this.value3[1]),Object(s["H"])(e).then(t=>{this.tableData=t.data.data.content,this.total=t.data.data.content.length})}catch(t){console.log(t)}},init(){this.getStatisticsOrgList()},handleSizeChange(t){console.log(`每页 ${t} 条`)},handleCurrentChange(t){console.log(`当前页: ${t}`)}}},c=r,o=(a("ba27"),a("6691")),p=Object(o["a"])(c,l,i,!1,null,null,null);e["default"]=p.exports},ac60:function(t,e,a){},ba27:function(t,e,a){"use strict";var l=a("ac60"),i=a.n(l);i.a}}]);
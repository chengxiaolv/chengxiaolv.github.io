(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-673097b0"],{"73a3":function(t,e,a){},"7aa9b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-statistics"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"-1"!=t.$authority.indexOf("projectSearch"),expression:"$authority.indexOf('projectSearch') != '-1'"}],staticClass:"search-list"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:4}},[t._v("项目")]),a("el-col",{attrs:{span:18}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.findStatisticsxm},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.projectLilst,function(t){return a("el-option",{key:t.orgId,attrs:{label:t.orgName,value:t.orgId}})}),1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-col",{attrs:{span:3}},[t._v("时间")]),a("el-col",{attrs:{span:18}},[a("el-col",{attrs:{span:10}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"month",placeholder:"开始月份"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("至")]),a("el-col",{attrs:{span:10}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"month",placeholder:"结束月份"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1)],1),a("el-col",{staticClass:"disp-right",attrs:{span:9,offset:4}},["-1"!=t.$authority.indexOf("projectSearch")?a("el-button",{staticClass:"el-button el-button--primary",on:{click:t.findStatisticsxm}},[t._v("查询")]):t._e(),"-1"!=t.$authority.indexOf("projectExport")?a("el-button",{staticClass:"greenBtn",on:{click:t.ForExport}},[t._v("导出")]):t._e()],1)],1)],1),a("div",{staticClass:"content-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"80",label:"序号"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目"}}),a("el-table-column",{attrs:{prop:"planningRoomNum",align:"center",label:"规划可租房间数"}}),a("el-table-column",{attrs:{prop:"planningRoomArea",align:"center",label:"规划可租面积"}}),a("el-table-column",{attrs:{prop:"actualRoomNum",align:"center",label:"实际出租房间数"}}),a("el-table-column",{attrs:{prop:"actualRoomArea",align:"center",label:"实际出租面积"}}),a("el-table-column",{attrs:{prop:"rentalRate",align:"center",label:"月平均出租率"}}),a("el-table-column",{attrs:{prop:"roomPrice",align:"center",label:"出租单价(元/间)"}}),a("el-table-column",{attrs:{prop:"areaPrice",align:"center",label:"出租单价(元/㎡)"}}),a("el-table-column",{attrs:{prop:"vacantRoom",align:"center",label:"空置房间数量"}}),a("el-table-column",{attrs:{prop:"vacanNum",align:"center",label:"空置房间面积"}}),a("el-table-column",{attrs:{prop:"vacantRate",align:"center",label:"月平均空置率"}}),a("el-table-column",{attrs:{prop:"payRate",align:"center",label:"月收缴率"}}),a("el-table-column",{attrs:{prop:"returnRate",align:"center",label:"前欠款回款率"}})],1)],1)])},i=[],s=a("729c"),r=a("591a"),n={name:"project-statistics",data(){return{startTime:"",endTime:"",currentPage:1,value1:"",value2:"",value3:null,tableData:[],total:0,projectLilst:[]}},created(){this.init()},mounted(){},computed:{...Object(r["b"])(["gettaCity"])},methods:{clear(){this.projectLilst=[],this.value2=""},getStatisticsOrgList(){this.$http("/api/room/getStatisticsOrgList").then(t=>{t.data.data.length>0&&(this.projectLilst=[],this.projectLilst=JSON.parse(JSON.stringify(t.data.data)),this.projectLilst.unshift({orgName:"全部",orgId:""}))}).then(()=>{this.projectLilst.length>0&&this.findStatisticsxm()}).catch(t=>{})},ForExport(){if(0==this.projectLilst.length)return;let t={startTime:"",endTime:""};this.startTime&&this.endTime&&(t.startTime=this.startTime,t.endTime=this.endTime),window.open(`/api/room/findStatisticsForExport?cityId=${this.value1}&orgId=${this.value2}&startTime=${t.startTime}&endTime=${t.endTime}`)},findStatisticsxm(){if(0==this.projectLilst)return;let t=this.endTime.slice(0,4),e=this.endTime.slice(5,7),a=this.endTime.slice(0,8),l={cityId:this.value1,orgId:this.value2,startTime:"",endTime:""};var i=new Date(t,e,0).getDate();this.startTime&&this.endTime&&(l.startTime=this.startTime,l.endTime=`${a}${i}`+" 23:59:59");try{Object(s["J"])(l).then(t=>{t.data.result?(this.tableData=t.data.data,this.total=t.data.data.length):this.$message.error(t.data.message)})}catch(r){console.log(r)}},init(){this.getStatisticsOrgList()},handleSizeChange(t){console.log(`每页 ${t} 条`)},handleCurrentChange(t){console.log(`当前页: ${t}`)}}},o=n,c=(a("b940"),a("6691")),p=Object(c["a"])(o,l,i,!1,null,null,null);e["default"]=p.exports},b940:function(t,e,a){"use strict";var l=a("73a3"),i=a.n(l);i.a}}]);
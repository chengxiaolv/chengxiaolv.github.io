(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f3a4fd3"],{2049:function(e,t,a){},"4b95":function(e,t,a){"use strict";var l=a("2049"),s=a.n(l);s.a},"8a8d":function(e,t,a){var l;(function(s){"use strict";var i,o=20,n=1,r=1e6,c=1e6,u=-7,d=21,p="[big.js] ",h=p+"Invalid ",m=h+"decimal places",f=h+"rounding mode",g=p+"Division by zero",b={},y=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function w(){function e(t){var a=this;if(!(a instanceof e))return t===y?w():new e(t);t instanceof e?(a.s=t.s,a.e=t.e,a.c=t.c.slice()):T(a,t),a.constructor=e}return e.prototype=b,e.DP=o,e.RM=n,e.NE=u,e.PE=d,e.version="5.2.2",e}function T(e,t){var a,l,s;if(0===t&&1/t<0)t="-0";else if(!v.test(t+=""))throw Error(h+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(a=t.indexOf("."))>-1&&(t=t.replace(".","")),(l=t.search(/e/i))>0?(a<0&&(a=l),a+=+t.slice(l+1),t=t.substring(0,l)):a<0&&(a=t.length),s=t.length,l=0;l<s&&"0"==t.charAt(l);)++l;if(l==s)e.c=[e.e=0];else{for(;s>0&&"0"==t.charAt(--s););for(e.e=a-l-1,e.c=[],a=0;l<=s;)e.c[a++]=+t.charAt(l++)}return e}function P(e,t,a,l){var s=e.c,i=e.e+t+1;if(i<s.length){if(1===a)l=s[i]>=5;else if(2===a)l=s[i]>5||5==s[i]&&(l||i<0||s[i+1]!==y||1&s[i-1]);else if(3===a)l=l||!!s[0];else if(l=!1,0!==a)throw Error(f);if(i<1)s.length=1,l?(e.e=-t,s[0]=1):s[0]=e.e=0;else{if(s.length=i--,l)for(;++s[i]>9;)s[i]=0,i--||(++e.e,s.unshift(1));for(i=s.length;!s[--i];)s.pop()}}else if(a<0||a>3||a!==~~a)throw Error(f);return e}function _(e,t,a,l){var s,i,o=e.constructor,n=!e.c[0];if(a!==y){if(a!==~~a||a<(3==t)||a>r)throw Error(3==t?h+"precision":m);for(e=new o(e),a=l-e.e,e.c.length>++l&&P(e,a,o.RM),2==t&&(l=e.e+a+1);e.c.length<l;)e.c.push(0)}if(s=e.e,i=e.c.join(""),a=i.length,2!=t&&(1==t||3==t&&l<=s||s<=o.NE||s>=o.PE))i=i.charAt(0)+(a>1?"."+i.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)i="0"+i;i="0."+i}else if(s>0)if(++s>a)for(s-=a;s--;)i+="0";else s<a&&(i=i.slice(0,s)+"."+i.slice(s));else a>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&(!n||4==t)?"-"+i:i}b.abs=function(){var e=new this.constructor(this);return e.s=1,e},b.cmp=function(e){var t,a=this,l=a.c,s=(e=new a.constructor(e)).c,i=a.s,o=e.s,n=a.e,r=e.e;if(!l[0]||!s[0])return l[0]?i:s[0]?-o:0;if(i!=o)return i;if(t=i<0,n!=r)return n>r^t?1:-1;for(o=(n=l.length)<(r=s.length)?n:r,i=-1;++i<o;)if(l[i]!=s[i])return l[i]>s[i]^t?1:-1;return n==r?0:n>r^t?1:-1},b.div=function(e){var t=this,a=t.constructor,l=t.c,s=(e=new a(e)).c,i=t.s==e.s?1:-1,o=a.DP;if(o!==~~o||o<0||o>r)throw Error(m);if(!s[0])throw Error(g);if(!l[0])return new a(0*i);var n,c,u,d,p,h=s.slice(),f=n=s.length,b=l.length,v=l.slice(0,n),w=v.length,T=e,_=T.c=[],S=0,C=o+(T.e=t.e-e.e)+1;for(T.s=i,i=C<0?0:C,h.unshift(0);w++<n;)v.push(0);do{for(u=0;u<10;u++){if(n!=(w=v.length))d=n>w?1:-1;else for(p=-1,d=0;++p<n;)if(s[p]!=v[p]){d=s[p]>v[p]?1:-1;break}if(!(d<0))break;for(c=w==n?s:h;w;){if(v[--w]<c[w]){for(p=w;p&&!v[--p];)v[p]=9;--v[p],v[w]+=10}v[w]-=c[w]}for(;!v[0];)v.shift()}_[S++]=d?u:++u,v[0]&&d?v[w]=l[f]||0:v=[l[f]]}while((f++<b||v[0]!==y)&&i--);return _[0]||1==S||(_.shift(),T.e--),S>C&&P(T,o,a.RM,v[0]!==y),T},b.eq=function(e){return!this.cmp(e)},b.gt=function(e){return this.cmp(e)>0},b.gte=function(e){return this.cmp(e)>-1},b.lt=function(e){return this.cmp(e)<0},b.lte=function(e){return this.cmp(e)<1},b.minus=b.sub=function(e){var t,a,l,s,i=this,o=i.constructor,n=i.s,r=(e=new o(e)).s;if(n!=r)return e.s=-r,i.plus(e);var c=i.c.slice(),u=i.e,d=e.c,p=e.e;if(!c[0]||!d[0])return d[0]?(e.s=-r,e):new o(c[0]?i:0);if(n=u-p){for((s=n<0)?(n=-n,l=c):(p=u,l=d),l.reverse(),r=n;r--;)l.push(0);l.reverse()}else for(a=((s=c.length<d.length)?c:d).length,n=r=0;r<a;r++)if(c[r]!=d[r]){s=c[r]<d[r];break}if(s&&(l=c,c=d,d=l,e.s=-e.s),(r=(a=d.length)-(t=c.length))>0)for(;r--;)c[t++]=0;for(r=t;a>n;){if(c[--a]<d[a]){for(t=a;t&&!c[--t];)c[t]=9;--c[t],c[a]+=10}c[a]-=d[a]}for(;0===c[--r];)c.pop();for(;0===c[0];)c.shift(),--p;return c[0]||(e.s=1,c=[p=0]),e.c=c,e.e=p,e},b.mod=function(e){var t,a=this,l=a.constructor,s=a.s,i=(e=new l(e)).s;if(!e.c[0])throw Error(g);return a.s=e.s=1,t=1==e.cmp(a),a.s=s,e.s=i,t?new l(a):(s=l.DP,i=l.RM,l.DP=l.RM=0,a=a.div(e),l.DP=s,l.RM=i,this.minus(a.times(e)))},b.plus=b.add=function(e){var t,a=this,l=a.constructor,s=a.s,i=(e=new l(e)).s;if(s!=i)return e.s=-i,a.minus(e);var o=a.e,n=a.c,r=e.e,c=e.c;if(!n[0]||!c[0])return c[0]?e:new l(n[0]?a:0*s);if(n=n.slice(),s=o-r){for(s>0?(r=o,t=c):(s=-s,t=n),t.reverse();s--;)t.push(0);t.reverse()}for(n.length-c.length<0&&(t=c,c=n,n=t),s=c.length,i=0;s;n[s]%=10)i=(n[--s]=n[s]+c[s]+i)/10|0;for(i&&(n.unshift(i),++r),s=n.length;0===n[--s];)n.pop();return e.c=n,e.e=r,e},b.pow=function(e){var t=this,a=new t.constructor(1),l=a,s=e<0;if(e!==~~e||e<-c||e>c)throw Error(h+"exponent");for(s&&(e=-e);;){if(1&e&&(l=l.times(t)),e>>=1,!e)break;t=t.times(t)}return s?a.div(l):l},b.round=function(e,t){var a=this.constructor;if(e===y)e=0;else if(e!==~~e||e<-r||e>r)throw Error(m);return P(new a(this),e,t===y?a.RM:t)},b.sqrt=function(){var e,t,a,l=this,s=l.constructor,i=l.s,o=l.e,n=new s(.5);if(!l.c[0])return new s(l);if(i<0)throw Error(p+"No square root");i=Math.sqrt(l+""),0===i||i===1/0?(t=l.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(o<0||1&o),e=new s((i==1/0?"1e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new s(i),o=e.e+(s.DP+=4);do{a=e,e=n.times(a.plus(l.div(a)))}while(a.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return P(e,s.DP-=4,s.RM)},b.times=b.mul=function(e){var t,a=this,l=a.constructor,s=a.c,i=(e=new l(e)).c,o=s.length,n=i.length,r=a.e,c=e.e;if(e.s=a.s==e.s?1:-1,!s[0]||!i[0])return new l(0*e.s);for(e.e=r+c,o<n&&(t=s,s=i,i=t,c=o,o=n,n=c),t=new Array(c=o+n);c--;)t[c]=0;for(r=n;r--;){for(n=0,c=o+r;c>r;)n=t[c]+i[r]*s[c-r-1]+n,t[c--]=n%10,n=n/10|0;t[c]=(t[c]+n)%10}for(n?++e.e:t.shift(),r=t.length;!t[--r];)t.pop();return e.c=t,e},b.toExponential=function(e){return _(this,1,e,e)},b.toFixed=function(e){return _(this,2,e,this.e+e)},b.toPrecision=function(e){return _(this,3,e,e-1)},b.toString=function(){return _(this)},b.valueOf=b.toJSON=function(){return _(this,4)},i=w(),i["default"]=i.Big=i,l=function(){return i}.call(t,a,t,e),void 0===l||(e.exports=l)})()},e215:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"financial-management"},[a("div",{staticClass:"header-condition"},[a("el-row",[a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.findTotal.length>1,expression:"findTotal.length>1"}],attrs:{span:20}},e._l(e.findTotal,function(t,l){return a("span",{key:l,class:e.isValue==l?"is-active":"",on:{click:function(a){return e.clicks(l,t)}}},[e._v(e._s(t.name.text)+" ("+e._s(t.total)+")")])}),0),a("el-col",{staticClass:"disp-right",staticStyle:{display:"none"},attrs:{span:4}},[a("el-button",{staticClass:"greenBtn",staticStyle:{width:"130px"},on:{click:function(t){e.generateBill(),e.initgenerateBill()}}},[e._v("生成账单 ( "+e._s(e.Numbers)+" )")])],1)],1)],1),"-1"!=e.$authority.indexOf("billTable")?a("div",{staticClass:"search-list"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",attrs:{span:5}},[e._v("项目")]),a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.changePorject},model:{value:e.sPorjectValue2,callback:function(t){e.sPorjectValue2=t},expression:"sPorjectValue2"}},e._l(e.getPeojectList,function(e){return a("el-option",{key:e.orgId,attrs:{label:e.orgName,value:e.orgId}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",attrs:{span:6}},[e._v("房号")]),a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sRoomNumberValue3,callback:function(t){e.sRoomNumberValue3=t},expression:"sRoomNumberValue3"}},e._l(e.aRoomNumberOpentions3,function(e){return a("el-option",{key:e.roomId,attrs:{label:e.roomName,value:e.roomId}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",attrs:{span:6}},[e._v("户型")]),a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sHouseTypeValue4,callback:function(t){e.sHouseTypeValue4=t},expression:"sHouseTypeValue4"}},e._l(e.aHouseTypeOpentions4,function(e){return a("el-option",{key:e.val,attrs:{label:e.text,value:e.val}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",staticStyle:{height:"60px",overflow:"hidden"},attrs:{span:6}},[e._v("账单类型")]),a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sFindTypesVal,callback:function(t){e.sFindTypesVal=t},expression:"sFindTypesVal"}},e._l(e.aFindTypes,function(e){return a("el-option",{key:e.val,attrs:{label:e.text,value:e.val}})}),1)],1)],1)],1),e._e(),a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",attrs:{span:5}},[e._v("时间")]),a("el-col",{attrs:{span:16}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.aStartToEnd,callback:function(t){e.aStartToEnd=t},expression:"aStartToEnd"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",staticStyle:{height:"60px",overflow:"hidden"},attrs:{span:6}},[e._v("承租人信息")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入承租人名称、租客/居住姓名/手机",clearable:""},model:{value:e.sTenantInfoValue8,callback:function(t){e.sTenantInfoValue8=t},expression:"sTenantInfoValue8"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"tr-10",staticStyle:{height:"60px",overflow:"hidden"},attrs:{span:6}},[e._v("支付渠道")]),a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sPaySuorceVal,callback:function(t){e.sPaySuorceVal=t},expression:"sPaySuorceVal"}},e._l(e.aPaySuorce,function(e){return a("el-option",{key:e.val,attrs:{label:e.text,value:e.val}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{staticClass:"disp-right",staticStyle:{"margin-bottom":"20px"},attrs:{span:22}},[a("el-button",{staticClass:"el-button el-button--primary",on:{click:function(t){return t.stopPropagation(),e.serachBtn()}}},[e._v("查询")]),"-1"!=e.$authority.indexOf("tableExport")?a("el-button",{staticClass:"greenBtn",on:{click:e.findAllForExport}},[e._v("导出")]):e._e()],1)],1)],1)],1)],1):e._e(),a("div",{staticClass:"content-table"},["-1"!=e.$authority.indexOf("billTable")?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.aAccountHomePageTableData,border:""},on:{"cell-click":e.lookBlill}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"billNo",align:"center",label:"账单编号"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目"}}),a("el-table-column",{attrs:{prop:"roomName",align:"center",label:"房号"}}),a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"缴纳人"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"缴纳人联系电话"}}),a("el-table-column",{attrs:{prop:"condition.text",align:"center",label:"状态"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"总金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterMoney")(t.row.price)))]}}],null,!1,2740772185)}),a("el-table-column",{attrs:{prop:"",align:"center",width:"200",label:"支付周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.startTime?t.row.startTime:"空")+"至"+e._s(t.row.endTime)+"\n                ")]}}],null,!1,1729559750)}),a("el-table-column",{attrs:{prop:"payType.text",align:"center",label:"支付途径"}}),a("el-table-column",{attrs:{prop:"payTime",align:"center",label:"支付时间"}}),a("el-table-column",{attrs:{prop:"billDetailId",align:"center",width:"140",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.condition.val?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(a){return e.pay1(t.row)}}},[e._v("收款")]):e._e(),2==t.row.condition.val?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(a){return e.pay1(t.row)}}},[e._v("付款")]):e._e(),a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(a){return e.showRemarkDialog(t.row)}}},[e._v("备注")]),3!=t.row.condition.val&&4!=t.row.condition.val?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(a){return e.changeRoomPrice(t.row)}}},[e._v("修改")]):e._e(),"-1"!=e.$authority.indexOf("accountTableDelete")?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(a){return e.delBill(t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,3556266712)})],1):e._e()],1),a("div",{staticClass:"el-page"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,40,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.itotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e.dialogVisible?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:e.modepaytitle,visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1200px","before-close":function(){return e.dialogVisible=!1}},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"padding: 20px 30px;"},[a("el-table",{key:"look-puple",staticStyle:{width:"100%"},attrs:{data:e.aThisRowTabeData,border:""}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目"}}),a("el-table-column",{attrs:{prop:"roomName",align:"center",label:"房号"}}),a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"缴纳人"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"联系电话"}}),a("el-table-column",{attrs:{prop:"condition.text",align:"center",label:"状态"}}),a("el-table-column",{attrs:{prop:"overdue",align:"center",label:"逾期时间(天)"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterMoney")(t.row.price)))]}}],null,!1,2740772185)}),a("el-table-column",{attrs:{prop:"prePayTime",align:"center",label:"预付款时间"}}),a("el-table-column",{attrs:{prop:"",align:"center",label:"费用类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name)+"-"+e._s(0==t.row.demurrage?"正常收支":"违约金"))])]}}],null,!1,4145671270)}),a("el-table-column",{attrs:{prop:"startTime",align:"center",label:"费用周期"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[1===e.sThisRowType.status.val?a("el-button",{attrs:{type:"primary"},on:{click:e.pay1}},[e._v(e._s(e.sThisRowType.income.text))]):e._e()],1)])],1):e._e(),e.dialogReceiveMoney?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"确认收/付",visible:e.dialogReceiveMoney,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"700px","before-close":function(){return e.dialogReceiveMoney=!1}},on:{"update:visible":function(t){e.dialogReceiveMoney=t}}},[a("div",{staticClass:"my-puple-contract"},[a("div",{staticClass:"basic-info"},[a("div",{staticClass:"inner-set-width"},[e._v("房源地址")]),e._v("\n                    "+e._s(e.modepaytitle)+" "+e._s(e.modepaylesseeName.roomNumber)+"\n                ")]),a("div",{staticClass:"basic-info"},[a("div",{staticClass:"inner-set-width"},[e._v("承 租 人")]),e._v("\n                    "+e._s(e.modepaylesseeName.lesseeName)+"\n                ")]),a("el-row",{staticClass:"mt-10",staticStyle:{"font-size":"14px"}},[a("el-col",{staticClass:"is-required-b",staticStyle:{"font-weight":"bold"},attrs:{span:24}},[e._v(e._s(e.modepaylesseeName.state)+"人")]),a("el-col",{staticClass:"pr-10",attrs:{span:8}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"姓名",disabled:!0,value:e.modepaylesseeName.lesseeContactName,clearable:""}})],1),a("el-col",{staticClass:"pr-10",attrs:{span:8}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"手机号",clearable:""},model:{value:e.payValue2,callback:function(t){e.payValue2=t},expression:"payValue2"}})],1),a("el-col",{staticClass:"pr-10",attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd hh:mm:ss",type:"date",placeholder:"收/付日期"},model:{value:e.payValue3,callback:function(t){e.payValue3=t},expression:"payValue3"}})],1)],1),a("div",[a("p",{staticClass:"is-required-b",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.modepaylesseeName.state)+"信息")]),e._l(e.oReceipt.current,function(t,l){return a("el-row",{key:l,staticStyle:{"font-size":"14px","margin-bottom":"10px"},nativeOn:{click:function(t){return e.receipt(l,"current")}}},[a("el-col",{attrs:{span:1}},[a("span",[a("el-checkbox",{on:{change:function(a){return e.moneySelectChange(t)}}})],1)]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[e._v(e._s(t.prePayTime))]),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"init-font-color"},[e._v(e._s(t.condition.text))])]),a("el-col",{attrs:{span:16}},[a("span",{staticClass:"init-font-color"},[e._v(e._s(t.contstr))])])],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:8,offset:1}},[a("el-upload",{attrs:{action:"/api/file/uploadthumbCompress","file-list":e.fileList,"show-file-list":!0,limit:1,beforeUpload:e.success}},[a("div",{staticClass:"input-pic-box"},[a("span",[e._v("添加图片")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1)],1)})],2),e.oReceipt.history.length>=1?a("div",[a("p",{staticStyle:{color:"#d1ccc8"}},[e._v("系统检测到 "+e._s(e.time)+" 前未处理应收费用")]),e._l(e.oReceipt.history,function(t,l){return a("el-row",{key:l,staticStyle:{"font-size":"14px","margin-bottom":"10px"},nativeOn:{click:function(t){return e.receipt(l,"history")}}},[a("el-col",{attrs:{span:1}},[a("span",[a("el-checkbox",{on:{change:function(a){return e.moneySelectChange(t)}}})],1)]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[e._v(e._s(t.prePayTime))]),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"init-font-color"},[e._v("应收")])]),a("el-col",{attrs:{span:16}},[a("span",{staticClass:"init-font-color"},[e._v(e._s(t.contstr))])])],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:8,offset:1}},[a("el-upload",{attrs:{action:"/api/file/uploadthumbCompress","file-list":e.fileList,"show-file-list":!0,limit:1,beforeUpload:e.success}},[a("div",{staticClass:"input-pic-box"},[a("span",[e._v("添加图片")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1)],1)})],2):e._e(),a("div",{staticStyle:{height:"46px","line-height":"46px"}},[a("span",{staticStyle:{float:"right","font-size":"16px"}},[e._v("\n                        合计：\n                        "),a("span",{staticStyle:{color:"#f3893b"}},[e._v(e._s(e._f("toFixeds")(e.iCountTotal)))]),e._v(" 元\n                    ")])]),a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticStyle:{"line-height":"initial"}},[e._v("支付方式")]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:22}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"付款方式"},model:{value:e.sfindOfflinePayTypes,callback:function(t){e.sfindOfflinePayTypes=t},expression:"sfindOfflinePayTypes"}},e._l(e.afindOfflinePayTypes,function(e){return a("el-option",{key:e.val,attrs:{label:e.text,value:e.val}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("p",{staticStyle:{"line-height":"initial"}},[e._v("备注")]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:22}},[a("el-input",{staticStyle:{width:"100%"},attrs:{span:2,placeholder:"请输入",clearable:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)],1),e.oReceipt.other.length>1?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticStyle:{float:"right"}},[a("span",{staticClass:"init-font-color"},[e._v("查看其他费用")]),a("i",{staticClass:"el-icon-arrow-down"})])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:5}},[a("div",{staticStyle:{"text-align":"right",border:"1px solid #e6e6e6"}},[a("div",{staticStyle:{"text-align":"center"}},[e._v("以下费用将向"+e._s(e.modepaylesseeName.lesseeName)+"线下收取")]),e._l(e.oReceipt.other,function(t,l){return a("el-col",{key:l},[a("el-col",{attrs:{span:9}},[e._v(e._s(t.prePayTime))]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[a("span",{staticClass:"red-color"},[e._v("应收")])]),a("el-col",{staticClass:"red-color",staticStyle:{"text-align":"right"},attrs:{span:7}},[e._v(e._s(t.contstr))])],1)}),a("div",{staticStyle:{"font-size":"18px"}},[e._v("\n                                    需收合计：\n                                    "),a("span",{staticClass:"red-color"},[e._v(e._s(e.iRestsTotal))]),e._v(" 元\n                                ")])],2)])],1)],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.Proceeds()}}},[e._v(e._s(e.iCountTotal>=0?"确认收款":"确认支出"))])],1)])],1):e._e(),e.dialogVisibleAccount?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"生成账单",visible:e.dialogVisibleAccount,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1240px","before-close":function(){return e.dialogVisibleAccount=!1}},on:{"update:visible":function(t){e.dialogVisibleAccount=t}}},[a("div",{staticClass:"padding: 20px 30px;"},[a("div",{staticClass:"step-container mb-10"},[a("div",{staticClass:"step-ceil",class:{"current-step":1==e.accountChoiceVal}},[e._v("步骤1：水费")]),a("div",{staticClass:"step-dash-line"}),a("div",{staticClass:"step-ceil",class:{"current-step":2==e.accountChoiceVal}},[e._v("步骤2：电费")]),a("div",{staticClass:"step-dash-line"}),a("div",{staticClass:"step-ceil",class:{"current-step":3==e.accountChoiceVal}},[e._v("步骤3：物业费")]),a("div",{staticClass:"step-dash-line"}),a("div",{staticClass:"step-ceil",class:{"current-step":4==e.accountChoiceVal}},[e._v("步骤4：租金")])]),a("div",{staticStyle:{color:"#938b89"}},[a("div",{staticClass:"mb-10"},[e._v("\n                        房屋缴费数据正常（可正常生成房屋账单）：\n                        "),a("span",{staticClass:"yellow-color"},[e._v(e._s(e.oNumbers.normal?e.oNumbers.normal:0)+"条")])]),a("div",[e._v("\n                        房屋缴费数据异常（需处理异常账单后生成房屋账单）：\n                        "),a("span",{staticClass:"yellow-color"},[e._v(e._s(e.oNumbers.error?e.oNumbers.error:0)+"条")]),e._v("，其中涉及到\n                        "),e._l(e.oNumbers.data,function(t,l){return a("span",{key:l},[e._v("\n                            "+e._s(t.name.text)+":\n                            "),a("span",{staticClass:"yellow-color"},[e._v(e._s(t.total))]),e._v("条、\n                        ")])})],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.accountChoiceVal<3,expression:"accountChoiceVal<3"}],staticClass:"has-top-tab"},[a("el-tabs",{on:{"tab-click":e.getMeterReading},model:{value:e.sStatus,callback:function(t){e.sStatus=t},expression:"sStatus"}},[a("el-tab-pane",{attrs:{label:"抄表异常("+e.iAbnormal+")",name:"0"}}),a("el-tab-pane",{attrs:{label:"抄表正常("+e.iNormal+")",name:"1"}})],1)],1),a("div",{staticClass:"search-list",staticStyle:{"padding-left":"0px"}},[a("el-row",[a("el-col",{attrs:{span:21}},[a("el-col",{staticStyle:{},attrs:{span:1}},[e._v("项目")]),a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择"},on:{change:e.changePorject},model:{value:e.sPorjectValue2,callback:function(t){e.sPorjectValue2=t},expression:"sPorjectValue2"}},e._l(e.oNewgetPeojectLists,function(e){return a("el-option",{key:e.orgId,attrs:{label:e.orgName,value:e.orgId}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v("房号")]),a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sRoomNumberValue3,callback:function(t){e.sRoomNumberValue3=t},expression:"sRoomNumberValue3"}},e._l(e.aRoomNumberOpentions3,function(e){return a("el-option",{key:e.roomId,attrs:{label:e.roomName,value:e.roomId}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("承租人信息")]),a("el-col",{attrs:{span:4}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入承租人名称、租客/居住姓名/手机",clearable:""},model:{value:e.sTenantInfoValue8,callback:function(t){e.sTenantInfoValue8=t},expression:"sTenantInfoValue8"}})],1)],1),a("el-col",{staticClass:"disp-right",attrs:{span:3}},[a("el-button",{staticClass:"el-button el-button--primary",on:{click:function(t){return e.Change()}}},[e._v("查询")])],1)],1)],1),1==e.accountChoiceVal?a("div",{staticClass:"water"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.modeloading,expression:"modeloading"}],key:"water-puple",staticStyle:{width:"100%"},attrs:{data:e.aTabeDataWater,border:""},on:{"cell-click":e.cellclick}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目",width:"100"}}),a("el-table-column",{attrs:{prop:"roomName",align:"center",label:"房号"}}),a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人名称",width:"140"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"租户/居住姓名"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"租户/居住电话"}}),a("el-table-column",{attrs:{prop:"newValue",align:"center",label:"本期表余数"}}),a("el-table-column",{attrs:{prop:"oldValue",align:"center",label:"历史表数"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"总金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterMoney")(t.row.price)))]}}],null,!1,2740772185)}),a("el-table-column",{attrs:{align:"center",label:"费用周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.startTime?t.row.startTime:"空")+"至"+e._s(t.row.endTime)+"\n                            ")]}}],null,!1,1256000198)}),a("el-table-column",{attrs:{prop:"newTime",align:"center",label:"抄表时间"}}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return["-1"!=e.$authority.indexOf("changeWatchData")?a("span",{staticClass:"greenFont tabOperteBtn"},[e._v("修改本期表余数")]):e._e()]}}],null,!1,2735347131)})],1)],1):2==e.accountChoiceVal?a("div",{staticClass:"electronic"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.modeloading,expression:"modeloading"}],key:"electronic",staticStyle:{width:"100%"},attrs:{data:e.aTabeDataWater,border:""},on:{"cell-click":e.cellclick}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目",width:"100"}}),a("el-table-column",{attrs:{prop:"roomName",align:"center",label:"房号"}}),a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人名称"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"租户/居住姓名"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"租户/居住电话"}}),a("el-table-column",{attrs:{prop:"newValue",align:"center",label:"本期表余数"}}),a("el-table-column",{attrs:{prop:"oldValue",align:"center",label:"历史表数"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"总金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterMoney")(t.row.price)))]}}],null,!1,2740772185)}),a("el-table-column",{attrs:{align:"center",label:"费用周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.startTime?t.row.startTime:"空")+"至"+e._s(t.row.endTime)+"\n                            ")]}}],null,!1,1256000198)}),a("el-table-column",{attrs:{prop:"newTime",align:"center",label:"抄表时间"}}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return["-1"!=e.$authority.indexOf("changeWatchData")?a("span",{staticClass:"greenFont tabOperteBtn"},[e._v("修改本期表余数")]):e._e()]}}],null,!1,2735347131)})],1)],1):3==e.accountChoiceVal?a("div",{staticClass:"propertyFee"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.modeloading,expression:"modeloading"}],key:"propertyFee",staticStyle:{width:"100%"},attrs:{data:e.aTabeDataWater,border:""},on:{"cell-click":e.cellclick}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目",width:"100"}}),a("el-table-column",{attrs:{prop:"roomName",align:"center",label:"房号"}}),a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人名称"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"租户/居住姓名"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"租户/居住电话"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"总金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterMoney")(t.row.price)))]}}],null,!1,2740772185)}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"费用周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.startTime)+"至"+e._s(t.row.endTime)+"\n                            ")]}}],null,!1,568059500)}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["-1"!=e.$authority.indexOf("editWatchData")?a("span",{staticClass:"greenFont tabOperteBtn"},[e._v("修改")]):e._e()]}}],null,!1,809907059)})],1)],1):a("div",{staticClass:"rentFee"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.modeloading,expression:"modeloading"}],key:"rentFee",staticStyle:{width:"100%"},attrs:{data:e.aTabeDataWater,border:""},on:{"cell-click":e.cellclick}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"项目",width:"100"}}),a("el-table-column",{attrs:{prop:"roomName",align:"center",label:"房号"}}),a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人名称"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"租户/居住姓名"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"租户/居住电话"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"总金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("filterMoney")(t.row.price)))]}}],null,!1,2740772185)}),a("el-table-column",{attrs:{align:"center",label:"费用周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s(t.row.startTime)+"至"+e._s(t.row.endTime)+"\n                            ")]}}],null,!1,568059500)}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["-1"!=e.$authority.indexOf("editWatchData")?a("span",{staticClass:"greenFont tabOperteBtn"},[e._v("修改")]):e._e()]}}],null,!1,809907059)})],1)],1),a("div",{staticClass:"el-page"},[a("div",{staticClass:"el-page"},[a("el-pagination",{attrs:{background:"","current-page":e.iNewcurrentPage,"page-sizes":[5,20,30,40,50],"page-size":e.iNewDefalutNumber,layout:"total, sizes, prev, pager, next, jumper",total:e.iModetotal},on:{"size-change":e.newhandleSizeChange,"current-change":e.newhandleCurrentChange}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.accountChoiceVal>1&&"-1"!=e.$authority.indexOf("toBefore")?a("el-button",{staticClass:"greenBtn",on:{click:function(t){return e.NextStep("back")}}},[e._v("上一步")]):e._e(),e.accountChoiceVal<=3&&"-1"!=e.$authority.indexOf("saveToNext")?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.NextStep("go")}}},[e._v("保存并下一步")]):"-1"!=e.$authority.indexOf("comfirmGenerateBill")?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogComformAccount=!0}}},[e._v("确定生成账单")]):e._e()],1)])],1):e._e(),e.dialogFormVisible?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"手动抄表",visible:e.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"660px","before-close":function(){return e.dialogFormVisible=!1}},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"my-puple-contract"},[a("p",[e._v("房源地址："+e._s(e.handleTableInfo.orgName)+e._s(e.handleTableInfo.roomName))]),a("el-row",{staticStyle:{"font-size":"14px"}},[a("el-col",{staticClass:"is-required-a",attrs:{span:3}},[e._v("表余数")]),a("el-col",{attrs:{span:20}},[a("el-col",{attrs:{span:21}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入表余数",clearable:""},model:{value:e.handleTableInfo.newValue,callback:function(t){e.$set(e.handleTableInfo,"newValue",t)},expression:"handleTableInfo.newValue"}})],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:3}},[e._v("千瓦.时")])],1)],1),a("el-row",{staticClass:"mt-10",staticStyle:{"font-size":"14px"}},[a("el-col",{staticClass:"is-required-a",attrs:{span:3}},[e._v("抄表时间")]),a("el-col",{attrs:{span:20}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.meterReadingNewTime,callback:function(t){e.meterReadingNewTime=t},expression:"meterReadingNewTime"}})],1)],1),a("el-row",{staticClass:"mt-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:3}},[e._v("备注")]),a("el-col",{attrs:{span:20}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:"请输入备注",clearable:""},model:{value:e.meterReadingRemark,callback:function(t){e.meterReadingRemark=t},expression:"meterReadingRemark"}})],1)],1),a("el-row",{staticClass:"mt-10"},[a("el-col",{attrs:{span:3}},[e._v("附件")]),a("el-col",{attrs:{span:6}},[a("el-upload",{attrs:{action:"/api/file/uploadthumbCompress",multiple:!0,"before-upload":e.houseUploadImgPreview}},[a("div",{staticClass:"input-pic-box"},[a("i",{staticClass:"el-icon-picture-outline"}),a("span",[e._v("点击添加附件")])])])],1)],1)],1),a("span",{staticClass:"dialog-footer mt-10",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfirmHandleTable}},[e._v("确定")]),a("el-button",{staticClass:"greenBtn",on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)])],1):e._e(),e.RoomPayInfoEdit?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"修改",visible:e.RoomPayInfoEdit,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px","before-close":function(){return e.RoomPayInfoEdit=!1}},on:{"update:visible":function(t){e.RoomPayInfoEdit=t}}},[a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("租金：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入租金",clearable:"",disabled:""},model:{value:e.roomPayEditInfo.originRentPay,callback:function(t){e.$set(e.roomPayEditInfo,"originRentPay",t)},expression:"roomPayEditInfo.originRentPay"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{staticClass:"is-required-b",attrs:{span:4}},[e._v("金额：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入金额",clearable:""},model:{value:e.roomPayEditInfo.newPay,callback:function(t){e.$set(e.roomPayEditInfo,"newPay",t)},expression:"roomPayEditInfo.newPay"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{attrs:{span:4}},[e._v("备注：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.roomPayEditInfo.label,callback:function(t){e.$set(e.roomPayEditInfo,"label",t)},expression:"roomPayEditInfo.label"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.comfirmSubmitRoomPrice}},[e._v("提 交")])],1)])],1):e._e(),e.RoomPayRemark?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"添加备注",visible:e.RoomPayRemark,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px","before-close":function(){return e.RoomPayRemark=!1}},on:{"update:visible":function(t){e.RoomPayRemark=t}}},[a("div",[a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{attrs:{span:4}},[e._v("备注：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:e.roomPayEditInfo.label,callback:function(t){e.$set(e.roomPayEditInfo,"label",t)},expression:"roomPayEditInfo.label"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addRemark}},[e._v("提 交")])],1)])],1):e._e(),e.dialogComformAccount?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"确定产生账单",visible:e.dialogComformAccount,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px","before-close":function(){return e.dialogComformAccount=!1}},on:{"update:visible":function(t){e.dialogComformAccount=t}}},[a("div",[a("el-row",[a("el-col",{attrs:{span:16,offset:1}},[e._v("房屋缴费数据正常（可正常生成房屋账单）："+e._s(e.oNumbers.normal?e.oNumbers.normal:0))])],1),a("el-row",[a("el-col",{attrs:{span:16,offset:1}},[e._v("房屋缴费数据异常（异常房屋账单）："+e._s(e.oNumbers.error?e.oNumbers.error:0))])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.generateBills(),e.findStatistics()}}},[e._v("确定生成账单")])],1)])],1):e._e(),e.dialogVisibleEdit?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"修改",visible:e.dialogVisibleEdit,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px","before-close":function(){return e.dialogVisibleEdit=!1}},on:{"update:visible":function(t){e.dialogVisibleEdit=t}}},[a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("物业费：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请输入物业费",clearable:""},model:{value:e.oThisCellData.price,callback:function(t){e.$set(e.oThisCellData,"price",t)},expression:"oThisCellData.price"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{staticClass:"is-required-b",attrs:{span:4}},[e._v("金额：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入减免金额",type:"number",min:0,clearable:""},model:{value:e.aterSum,callback:function(t){e.aterSum=t},expression:"aterSum"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{attrs:{span:4}},[e._v("备注：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:"请输入"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.SendUpData}},[e._v("提 交")])],1)])],1):e._e()])},s=[],i=a("8a8d"),o=a.n(i),n=a("591a"),r=a("729c"),c=a("90b9"),u={name:"financial-management",data(){return{time:"",dialogFormVisible:!1,modeloading:!0,itotal:0,remarks:"",currentPage:1,sCityValue1:"",aterSum:0,sPorjectValue2:"",aRoomNumberOpentions3:[],sRoomNumberValue3:"",aHouseTypeOpentions4:[],sHouseTypeValue4:"",aPayModeOpentions6:[],sTenantInfoValue8:"",sDialogCityValue1:"",aAccountHomePageTableData:[],aThisRowTabeData:{},value:"",aTabeDataWater:[],oThisCellData:{},handleTableInfo:{deviceId:"",contractNo:"",address:"",surplus:"",meterTime:"",info:"",imgId:"",isFirst:!1,oldSurplus:""},iDefalutNumber:10,dialogVisible:!1,dialogReceiveMoney:!1,dialogVisibleAccount:!1,dialogVisibleEdit:!1,dialogComformAccount:!1,modepaytitle:"",accountTypeList:[],iReqType:"",accountChoiceVal:1,accountActiveTab:0,fileList:[],aPaySuorce:[],sPaySuorceVal:"",aFindTypes:[],sFindTypesVal:"",oNewgetPeojectList:[],oNewgetPeojectLists:[],aStartToEnd:null,sRoomId:"",sBillId:"",sBillDetailId:"",sBillStatus:0,sStatus:0,iModetotal:0,sType:5,iNewcurrentPage:1,iNewDefalutNumber:10,iAbnormal:0,iNormal:"",sThisRowType:"",oReceipt:{},payValue1:"",payValue2:"",payValue3:"",iCountTotal:0,iRestsTotal:0,pickerOptions:{disabledDate(e){return e.getTime()>Date.now()}},findTotal:[{name:{text:"",val:""},total:0}],form:{name:""},sUploadImgId:"",modepaylesseeName:{},isValue:0,condition:-1,clickTile:"",Numbers:0,oNumbers:{},inxs:{title:"",inx:""},index:"",onFetching:!1,param:"",abillDetailId:[],houseUploadImgList:[],pickerOptionsLimit:{disabledDate(e){return e.getTime()>Date.now()-864e5}},afindOfflinePayTypes:[],sfindOfflinePayTypes:null,deviceType:2,meterReadingNewTime:"",meterReadingRemark:"",oPayData:{roomId:"",time:null,price:"",current:[],history:[],info:"完成交款"},getPeojectList:[],RoomPayRemark:!1,RoomPayInfoEdit:!1,roomPayEditInfo:{roomId:0,billDetailId:"",originRentPay:"",newPay:"",label:""}}},computed:{...Object(n["b"])(["gettaCity"])},created(){this.init()},filters:{toFixeds:function(e){return parseFloat(e).toFixed(2)}},mounted(){this.$root.Bus.$on("brgenerateBill",()=>{this.initgenerateBill(),this.generateBill(),this.getBillGenerateInfo(this.sPorjectValue2)})},methods:{addRemark(){if(""==this.roomPayEditInfo.label)return this.$message({message:"请输入备注内容",type:"error"});this.$http.post("/api/bill/addsBillDetailRemark",{billDetailId:this.roomPayEditInfo.billDetailId,info:this.roomPayEditInfo.label}).then(e=>{var t=e.data;0==t.errorCode&&setTimeout(()=>{this.$message({message:"备注成功！",type:"success"}),this.RoomPayRemark=!1},500)}).catch(function(e){console.log(e)})},comfirmSubmitRoomPrice(){if(""==this.roomPayEditInfo.newPay)return this.$message({message:"请输入金额！",type:"error"});this.$http.post("/api/bill/updatePrice",{roomId:this.roomPayEditInfo.roomId,billDetailId:this.roomPayEditInfo.billDetailId,oldPrice:this.roomPayEditInfo.originRentPay,newPrice:this.roomPayEditInfo.newPay,info:this.roomPayEditInfo.label}).then(e=>{var t=e.data;0==t.errorCode&&setTimeout(()=>{this.$message({message:"编辑成功！",type:"success"}),this.RoomPayInfoEdit=!1,this.seefindAll()},500)}).catch(function(e){console.log(e)})},changeRoomPrice(e){this.RoomPayInfoEdit=!0,this.roomPayEditInfo.roomId=e.roomId,this.roomPayEditInfo.originRentPay=e.price,this.roomPayEditInfo.billDetailId=e.billDetailId,this.roomPayEditInfo.newPay="",this.roomPayEditInfo.label=""},showRemarkDialog(e){this.RoomPayRemark=!0,this.roomPayEditInfo.billDetailId=e.billDetailId,this.roomPayEditInfo.label=""},modifyBill(e){this.$store.commit("setBillInfo",{isShow:!0,count:1,item:JSON.stringify(e)})},clear(){this.sCityValue1="",this.oNewgetPeojectLists=[],this.sPorjectValue2="",this.aRoomNumberOpentions3=[],this.sRoomNumberValue3=""},init(){this.getproj(),this.getPayType(),this.getRoomType(),this.findTypes(),this.findPayTypes(),this.sPorjectValue2?this.findStatistics():this.noOrgIdGetfindStatistics()},getproj(){try{this.$http.get("/api/bill/getOrgList").then(e=>{this.getPeojectList=e.data.data,this.oNewgetPeojectLists=e.data.data,this.$root.Bus.$emit("changeSelec",this.sPorjectValue2)}).then(()=>{this.getPeojectList.length>0&&(this.getPeojectList.unshift({orgName:"全部",orgId:""}),this.changePorject(),this.seefindAll(),this.findStatistics())}).catch(e=>{console.log(e)})}catch(e){console.log(e)}},comfirmHandleTable(){try{let a=this;var e={surplus:this.handleTableInfo.newValue,meterTime:this.meterReadingNewTime,info:this.meterReadingRemark,imgId:1==this.houseUploadImgList.length?this.houseUploadImgList[0].id:"",roomId:this.handleTableInfo.roomId,contractId:this.handleTableInfo.objectId,billDetailType:this.handleTableInfo.type.val};this.handleTableInfo.objectId&&(e.contractId=this.handleTableInfo.objectId);let l="";5==a.handleTableInfo.type.val?l="/api/deviceManage/addWaterRecords":4==a.handleTableInfo.type.val&&(l="/api/deviceManage/addElectricityRecords"),Object(r["h"])(e,l).then(e=>{var t=e.data;0==t.errorCode&&(this.generateBill(this.sStatus),setTimeout(()=>{this.$message({message:"手动操表成功！",type:"success"}),this.dialogFormVisible=!1},1e3))})}catch(t){console.log(t)}},delBill(e){try{let a=this,l={billDetailId:e.billDetailId};a.$confirm("是否确认删除此账单",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{a.$http("/api/bill/delBill",{method:"post",data:l}).then(e=>{e.data.result?(a.$message({message:"删除成功！",type:"success"}),a.seefindAll()):a.$message.error("删除账单失败！")}).catch(e=>{console.log(e)})}).catch(()=>{})}catch(t){console.log(t)}},Proceeds(){try{let l=this;var e=[];l.oReceipt.current.map((t,a,s)=>{t.isSelect&&e.push(l.oPayData.current[a])});var t=[];l.oReceipt.history.map((e,a,s)=>{e.isSelect&&t.push(l.oPayData.history[a])}),l.oPayData.roomId=l.sRoomId,l.oPayData.time=l.payValue3,l.oPayData.price=l.iCountTotal,l.oPayData.info=l.value+l.payValue3,l.oPayData.offlinePayType=l.sfindOfflinePayTypes;let s={roomId:l.sRoomId,time:l.payValue3,price:l.iCountTotal,info:l.value+l.payValue3,offlinePayType:l.sfindOfflinePayTypes,current:e,history:t};if(!l.payValue3)return void this.$message.error("收/付日期不能空！");if(null==l.sfindOfflinePayTypes||""==l.sfindOfflinePayTypes)return void this.$message.error("支付方式必须选择！");if(0==e.length&&0==t.length)return void this.$message.error("至少选择一条收支明细");Object(r["Ib"])(s).then(e=>{e.data.result?(l.$message({message:e.data.message,type:"success"}),l.seefindAll(),l.getBillGenerateInfo(this.sPorjectValue2),l.findStatistics(),l.dialogReceiveMoney=!1,l.dialogVisible=!1):this.$message.error(e.data.message)})}catch(a){console.log(a)}},houseUploadImgPreview(e){const t=e.size/1024/1024<3;if(!t)return this.$message({message:"上传图片大小不能超过 3MB!",type:"error"});let a=new FormData;a.append("file",e),this.$http({method:"post",url:"./api/file/uploadthumbCompress",data:a}).then(e=>{})},initgenerateBill(){this.accountChoiceVal=1,this.sStatus="0",this.aTabeDataWater=[]},findTypes(){try{let t=this;Object(r["K"])().then(e=>{e.data.result?t.aFindTypes=e.data.data:this.$message({message:e.result.message,type:"error"})})}catch(e){console.log(e)}},findPayTypes(){try{let t=this;Object(r["F"])().then(e=>{e.data.result?t.aPaySuorce=e.data.data:this.$message({message:e.result.message,type:"error"})})}catch(e){console.log(e)}},SendUpData(){if(this.aterSum.length<=0)return void this.$message({message:"金额不能为空",type:"warning"});let e={roomId:this.oThisCellData.billId,billDetailId:this.oThisCellData.billDetailId,oldPrice:this.oThisCellData.price,newPrice:this.aterSum,info:this.remarks};try{Object(r["Ob"])(e).then(e=>{e.data.result?(this.dialogVisibleEdit=!1,this.$set(this.oThisCellData,"price",parseFloat(this.aterSum).toFixed(2)),this.$message({message:e.data.message,type:"success"}),this.generateBill()):this.$message({message:e.data.message,type:"warning"})})}catch(t){}},success(e){let t=this;const a=e.size/1024/1024<3;if(!a)return this.$message({message:"上传图片大小不能超过 3MB!",type:"error"});let l=new FormData;l.append("file",e),this.$http({method:"post",url:"./api/file/uploadthumbCompress",data:l}).then(e=>{"current"==this.inxs.title?(this.oPayData.current[t.index].fileId=e.data.data.id,this.oPayData.current[t.index].url=e.data.data.thumb_1,this.oPayData.current.map((e,a,l)=>{a===t.index&&console.log(e)})):"history"==this.inxs.title&&(this.oPayData.history[t.index].fileId=e.data.data.id,this.oPayData.history[t.index].url=e.data.data.thumb_1)})},clicks(e,t){this.isValue=e,this.condition=t.name.val,this.iNewcurrentPage=1,this.iNewDefalutNumber=10;let a={currentPage:this.iNewcurrentPage,pageSize:this.iNewDefalutNumber,cityId:this.sCityValue1,orgId:this.sPorjectValue2,roomId:this.sRoomNumberValue3,roomTypeId:this.sHouseTypeValue4,condition:this.condition,searchInfo:Object(c["m"])(this.sTenantInfoValue8)};this.aStartToEnd&&(a.startTime=this.aStartToEnd[0],a.endTime=this.aStartToEnd[1]),Object(r["Cb"])(a).then(e=>{this.aAccountHomePageTableData=JSON.parse(JSON.stringify(e.data.data.content)),this.itotal=e.data.data.total})},noOrgIdGetfindStatistics(){try{let t=this;t.$http.get("/api/bill/findTotalType").then(e=>{this.findTotal=e.data.data.content?e.data.data.content:[]}).catch(e=>{console.log(e)})}catch(e){console.log(e)}},findStatistics(){try{let t={currentPage:1,pageSize:this.iDefalutNumber,condition:this.condition,cityId:this.sCityValue1,orgId:this.sPorjectValue2,roomId:this.sRoomNumberValue3,roomTypeId:this.sHouseTypeValue4,type:this.sFindTypesVal,payType:this.sPaySuorceVal};Object(r["G"])(t).then(e=>{this.findTotal=e.data.data.content}).catch(e=>{})}catch(e){console.log(e)}},upModealter(){this.dialogFormVisible=!1,this.oThisCellData.billId,this.oThisCellData.roomId},cellclick(e,t,a,l){"修改本期表余数"==l.target.innerText?(this.handleTableInfo=e,this.meterReadingNewTime="",this.meterReadingRemark="",this.dialogFormVisible=!0):"修改"==l.target.innerText&&(this.aterSum=0,this.dialogVisibleEdit=!0),this.clickTile=l.target.innerText,this.oThisCellData=e},moneySelectChange(e){e.isSelect=!e.isSelect;let t=this;t.iCountTotal=0;let a=0,l=0;t.oReceipt.current.map((e,l,s)=>{e.isSelect&&(0===e.income.val&&(a+=e.originPrice),1===e.income.val&&(t.iCountTotal+=e.originPrice))}),t.oReceipt.history.map((e,a,s)=>{e.isSelect&&(1===e.income.val?t.iCountTotal+=e.originPrice:0===e.income.val&&(l+=e.originPrice))}),t.iCountTotal=t.iCountTotal-(a+l),t.iCountTotal=new o.a(t.iCountTotal).toFixed(2)},pay1(e){var t=this;t.iCountTotal=0,t.iRestsTotal=0,t.oPayData.current=[],t.oPayData.history=[],t.time=Object(c["f"])(new Date),this.modepaytitle=e.orgName,this.modepaylesseeName={lesseeName:e.lesseeName,lesseeContactName:e.payerName,lesseePhone:e.payerPhone,state:"",roomNumber:e.roomName},1===e.condition.val?this.modepaylesseeName.state="付款":2===e.condition.val&&(this.modepaylesseeName.state="收款"),this.payValue2=this.modepaylesseeName.lesseePhone,this.sRoomId=e.roomId;let a={roomId:e.roomId,billDetailId:e.billDetailId};Object(r["L"])(a).then(e=>{0!=e.data.result?(t.oReceipt=JSON.parse(JSON.stringify(e.data.data)),t.oReceipt.current.map((e,a,l)=>{t.oPayData.current.push({billDetailId:e.billDetailId,fileId:null,url:""}),e.isSelect=!1,e.originPrice=e.price,e.price=this.$filter(e.price),e.contstr=`${e.name} ${e.price} 元`}),t.oReceipt.other.map(e=>{t.iRestsTotal+=e.price,e.price=this.$filter(e.price),e.contstr=`${e.name} ${e.price} 元`}),t.oReceipt.history.map((e,a,l)=>{t.oPayData.history.push({billDetailId:e.billDetailId,fileId:null,url:""}),e.isSelect=!1,e.originPrice=e.price,e.type.text&&(e.price=this.$filter(e.price),e.contstr=`${e.type.text} ${e.price} 元`)}),t.dialogReceiveMoney=!0):t.$message.error(e.data.message)}).catch(e=>{}),Object(r["E"])().then(e=>{0==e.data.errorCode&&(t.afindOfflinePayTypes=e.data.data)})},getBillGenerateInfo(e){if(!e)return;let t={orgId:e};Object(r["T"])(t).then(e=>{this.oNumbers={data:e.data.data.abnormal,normal:e.data.data.normal,error:e.data.data.error},this.Numbers=e.data.data.error+e.data.data.normal})},serachBtn(){if(0==this.getPeojectList.length)return;let e={currentPage:this.currentPage,pageSize:this.iDefalutNumber,cityId:this.sCityValue1,orgId:this.sPorjectValue2,roomId:this.sRoomNumberValue3,roomTypeId:this.sHouseTypeValue4,type:this.sFindTypesVal,payType:this.sPaySuorceVal,condition:this.condition,searchInfo:Object(c["m"])(this.sTenantInfoValue8)};this.aStartToEnd&&(e.startTime=this.aStartToEnd[0],e.endTime=this.aStartToEnd[1]),Object(r["Cb"])(e).then(e=>{e.data.data.content?(this.aAccountHomePageTableData=JSON.parse(JSON.stringify(e.data.data.content)),this.itotal=e.data.data.total):(this.itotal=0,this.aAccountHomePageTableData=[])})},receipt(e,t){this.index=e,this.inxs.title=t,this.inxs.inx=e},generateBills(){if(!this.sPorjectValue2)return;let e={orgId:this.sPorjectValue2};Object(r["M"])(e).then(e=>{0===e.data.errorCode&&this.$message({message:"生成订单成功",type:"success"})}).then(()=>{this.getBillGenerateInfo(this.sPorjectValue2),this.$root.Bus.$emit("changeSelec",this.sPorjectValue2),this.dialogVisibleAccount=!1,this.dialogComformAccount=!1}).catch(e=>{})},lookBlill(e,t,a,l){let s=this;if("操作"!=l.target.innerText)return;this.sRoomId=e.roomId,this.sBillId=e.billId,this.modepaytitle=e.orgName,this.modepaylesseeName={lesseeName:e.lesseeName,lesseeContactName:e.payerName,lesseePhone:e.lesseePhone,state:"",roomNumber:e.roomName},1===e.status.val?this.modepaylesseeName.state="付款":2===e.status.val&&(this.modepaylesseeName.state="收款"),this.payValue2=this.modepaylesseeName.lesseePhone,this.sThisRowType={income:e.income,status:e.status};let i={orgId:e.orgId,billId:e.billId,roomId:e.roomId,pageSize:100};Object(r["Db"])(i).then(e=>{0==e.data.errorCode&&(e.data.data.content.map((e,t,a)=>{e.startTime&&(e.startTime=e.startTime.substr(0,10)),e.endTime&&(e.endTime=e.endTime.substr(0,10)),e.startTime=`${e.startTime}至${e.endTime}`}),this.dialogVisible=!0,this.aThisRowTabeData=JSON.parse(JSON.stringify(e.data.data.content)))}).then(()=>{Object(r["E"])().then(e=>{0==e.data.errorCode&&(s.afindOfflinePayTypes=e.data.data)})})},NextStep(e){"go"===e?this.accountChoiceVal+=1:this.accountChoiceVal-=1,this.iNewcurrentPage=1,this.iNewDefalutNumber=5,1==this.accountChoiceVal?(this.deviceType=2,this.sType=5):2==this.accountChoiceVal?(this.deviceType=1,this.iReqType=4,this.sType=4):3==this.accountChoiceVal?this.sType=3:4==this.accountChoiceVal&&(this.sType=2),this.sStatus=this.accountChoiceVal>=3?"":"0",this.generateBill(1)},async generateBill(e=1){if(!this.sPorjectValue2)return;let t={orgId:this.sPorjectValue2,billStatus:this.sBillStatus,status:this.accountChoiceVal>=3?"":this.sStatus,type:this.sType,currentPage:this.iNewcurrentPage,pageSize:this.iNewDefalutNumber};if(this.dialogVisibleAccount=!0,0!=e&&this.accountChoiceVal<3){let e=await this.generateBillnew();this.iNormal=e.data.data.total}Object(r["Db"])(t).then(e=>{this.aTabeDataWater=JSON.parse(JSON.stringify(e.data.data.content)),this.iAbnormal=e.data.data.total,this.iModetotal=e.data.data.total}).then(()=>{this.modeloading=!1}).catch(e=>{console.log(e)})},async getPayType(){let e=await Object(r["jb"])();e=e.data;let t={...e};t.data.map((e,t,a)=>{e.label=e.text,e.value=`${e.val}-${e.depositMonth}-${e.rentMonth}`}),this.aPayModeOpentions6=t.data},changeCity(){Object(r["lb"])(`cityId=${this.sCityValue1}`).then(e=>{this.oNewgetPeojectLists=[],this.oNewgetPeojectLists=JSON.parse(JSON.stringify(e.data.data)),this.sPorjectValue2="",this.sRoomNumberValue3="",this.iDefalutNumber=10,this.currentPage=1}).cathc(e=>{})},confromChangeCity(){Object(r["lb"])(`cityId=${this.sDialogCityValue1}`).then(e=>{this.oNewgetPeojectLists=[],this.oNewgetPeojectLists=JSON.parse(JSON.stringify(e.data.data)),this.sPorjectValue2="",this.sRoomNumberValue3="",this.iNewDefalutNumber=10,this.iNewcurrentPage=1}).cathc(e=>{})},async changePorject(){if(this.getPeojectList.length<=0)return!1;this.currentPage=1,this.aRoomNumberOpentions3=[],this.sRoomNumberValue3="",this.$root.Bus.$emit("changeSelec",this.sPorjectValue2),this.seefindAll(),Object(r["qb"])(this.sPorjectValue2).then(e=>{this.aRoomNumberOpentions3=JSON.parse(JSON.stringify(e.data.data)),this.findStatistics()}).catch(e=>{})},getRoomType(){Object(r["S"])().then(e=>{this.aHouseTypeOpentions4=JSON.parse(JSON.stringify(e.data.data))}).catch(e=>{})},generateBillnew(){let e={orgId:this.sPorjectValue2,billStatus:this.sBillStatus,status:this.accountChoiceVal>=3?"":1,type:this.sType};return Object(r["Db"])(e)},findAllForExport(){if(this.getPeojectList.length<=0)return;let e={startTime:"",endTime:""};this.aStartToEnd&&(e.startTime=this.aStartToEnd[0],e.endTime=this.aStartToEnd[1]),this.sTenantInfoValue8=Object(c["m"])(this.sTenantInfoValue8),window.open(`/api/bill/findAllForExport?cityId=${this.sCityValue1}&payType=${this.sPaySuorceVal}&orgId=${this.sPorjectValue2}&roomId=${this.sRoomNumberValue3}&roomTypeId=${this.sHouseTypeValue4}\n        &startTime=${e.startTime}&endTime=${e.endTime}&type=${this.sFindTypesVal}&condition=${this.condition}&searchInfo=${this.sTenantInfoValue8}`)},seefindAll(){try{let t={currentPage:this.currentPage,pageSize:this.iDefalutNumber,condition:this.condition,cityId:this.sCityValue1,orgId:this.sPorjectValue2,roomId:this.sRoomNumberValue3,roomTypeId:this.sHouseTypeValue4,type:this.sFindTypesVal,payType:this.sPaySuorceVal,condition:this.condition,searchInfo:Object(c["m"])(this.sTenantInfoValue8)};Object(r["Cb"])(t).then(e=>{this.aAccountHomePageTableData=JSON.parse(JSON.stringify(e.data.data.content)),this.itotal=e.data.data.total}).catch(e=>{this.aAccountHomePageTableData=[],this.itotal=0})}catch(e){console.log(e)}},handleSizeChange(e){this.iDefalutNumber=e;let t={currentPage:1,pageSize:this.iDefalutNumber,condition:this.condition,cityId:this.sCityValue1,orgId:this.sPorjectValue2,roomId:this.sRoomNumberValue3,roomTypeId:this.sHouseTypeValue4,type:this.sFindTypesVal,payType:this.sPaySuorceVal};Object(r["Cb"])(t).then(e=>{let t={...e.data.data};this.aAccountHomePageTableData=t.content}).catch(e=>{console.log(e)})},handleCurrentChange(e){this.currentPage=e,this.seefindAll()},Change(){let e={roomId:this.sRoomNumberValue3,billStatus:this.sBillStatus,status:this.sStatus,type:this.sType,currentPage:this.iNewcurrentPage,pageSize:this.iNewDefalutNumber,cityId:this.sDialogCityValue1,orgId:this.sPorjectValue2,searchInfo:Object(c["m"])(this.sTenantInfoValue8)};Object(r["Db"])(e).then(e=>{this.aTabeDataWater=JSON.parse(JSON.stringify(e.data.data.content)),this.iModetotal=e.data.data.total}).then(()=>{this.modeloading=!1}).catch(e=>{console.log(e)})},newhandleSizeChange(e){this.iNewDefalutNumber=e,this.iNewcurrentPage=1,this.generateBill(0),console.log(`每页 ${e} 条`)},newhandleCurrentChange(e){this.iNewcurrentPage=e,this.generateBill(0),console.log(`当前页: ${e}`)},async getMeterReading(e){this.iNewcurrentPage=1,this.iNewDefalutNumber=5,this.sStatus=`${e.index}`;let t={orgId:this.sPorjectValue2,billStatus:this.sBillStatus,status:this.sStatus,type:this.sType,currentPage:this.iNewcurrentPage,pageSize:this.iNewDefalutNumber};if(!this.iNormal){let e=await this.generateBillnew();this.iNormal=e.data.data.total}Object(r["Db"])(t).then(e=>{this.aTabeDataWater=JSON.parse(JSON.stringify(e.data.data.content)),this.iModetotal=e.data.data.total})}}},d=u,p=(a("4b95"),a("6691")),h=Object(p["a"])(d,l,s,!1,null,null,null);t["default"]=h.exports}}]);
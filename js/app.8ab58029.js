(function(t){function e(e){for(var a,n,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)n=s[d],i[n]&&p.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,n=1;n<o.length;n++){var s=o[n];0!==i[s]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=o[0]))}return t}var a={},n={app:0},i={app:0},r=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-017ceb90":"4036713b","chunk-02c7e01e":"84d68cb3","chunk-0f22b4d0":"5bdf54c8","chunk-15512961":"6930f9e7","chunk-276ac746":"938f094f","chunk-28f4237a":"863962a4","chunk-2c6ce4e1":"2edee2d1","chunk-5310e9e2":"302030a8","chunk-5827461f":"c53c0973","chunk-62b3165c":"01426dc9","chunk-7a28594e":"c509aaf2","chunk-2f309c45":"3e632683","chunk-32921417":"fbac6b3b","chunk-3bf4a87e":"ac1b145b","chunk-3dad52dc":"b12445d5","chunk-5219bbb0":"a451affd","chunk-523a7fdb":"e26fde5a","chunk-54e36cb5":"3ca573a9","chunk-5c19a49b":"c23a947c","chunk-60bf9635":"d0a3b44e","chunk-6231b2e7":"f6ba675d","chunk-673097b0":"98401037","chunk-6fd87afa":"119513f1","chunk-7f3a4fd3":"3e65bc3a","chunk-7f5a4a72":"0d3c301e","chunk-872a2c72":"cc697893","chunk-8dd56872":"569e3f54","chunk-95bad6d6":"220e7c0f","chunk-ab5985ec":"ef238b6d","chunk-afaf04c4":"82b64dbd","chunk-e945a432":"8989d961"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={"chunk-017ceb90":1,"chunk-02c7e01e":1,"chunk-0f22b4d0":1,"chunk-15512961":1,"chunk-276ac746":1,"chunk-28f4237a":1,"chunk-2c6ce4e1":1,"chunk-5310e9e2":1,"chunk-5827461f":1,"chunk-62b3165c":1,"chunk-7a28594e":1,"chunk-2f309c45":1,"chunk-32921417":1,"chunk-3bf4a87e":1,"chunk-3dad52dc":1,"chunk-5219bbb0":1,"chunk-523a7fdb":1,"chunk-54e36cb5":1,"chunk-5c19a49b":1,"chunk-60bf9635":1,"chunk-6231b2e7":1,"chunk-673097b0":1,"chunk-6fd87afa":1,"chunk-7f3a4fd3":1,"chunk-7f5a4a72":1,"chunk-872a2c72":1,"chunk-8dd56872":1,"chunk-95bad6d6":1,"chunk-ab5985ec":1,"chunk-afaf04c4":1,"chunk-e945a432":1};n[t]?e.push(n[t]):0!==n[t]&&o[t]&&e.push(n[t]=new Promise(function(e,o){for(var a="css/"+({}[t]||t)+"."+{"chunk-017ceb90":"16eac966","chunk-02c7e01e":"bd1950ae","chunk-0f22b4d0":"3ae93944","chunk-15512961":"53ae0718","chunk-276ac746":"00d73850","chunk-28f4237a":"623e7084","chunk-2c6ce4e1":"79709ca4","chunk-5310e9e2":"47605d7e","chunk-5827461f":"d6f44beb","chunk-62b3165c":"2c4c9ad4","chunk-7a28594e":"f3724ce3","chunk-2f309c45":"21d80d66","chunk-32921417":"6fe449b7","chunk-3bf4a87e":"8ed53d62","chunk-3dad52dc":"913031e2","chunk-5219bbb0":"0cd31693","chunk-523a7fdb":"b75df3dd","chunk-54e36cb5":"4db05b2e","chunk-5c19a49b":"86b5eba8","chunk-60bf9635":"4d3b236c","chunk-6231b2e7":"c9e20052","chunk-673097b0":"6443c692","chunk-6fd87afa":"b746d7eb","chunk-7f3a4fd3":"510f60ad","chunk-7f5a4a72":"7b5fe014","chunk-872a2c72":"26d6a994","chunk-8dd56872":"cad4f339","chunk-95bad6d6":"913b3d82","chunk-ab5985ec":"44b301c7","chunk-afaf04c4":"505e9ab1","chunk-e945a432":"6a0831c7"}[t]+".css",i=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===a||d===i))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){l=p[s],d=l.getAttribute("data-href");if(d===a||d===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[t],h.parentNode.removeChild(h),o(r)},h.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(h)}).then(function(){n[t]=0}));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,o){a=i[t]=[e,o]});e.push(a[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t),l=function(e){d.onerror=d.onload=null,clearTimeout(p);var o=i[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+n+")");r.type=a,r.request=n,o[1](r)}i[t]=void 0}};var p=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(o,a,function(e){return t[e]}.bind(null,a));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var h=d;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},1543:function(t,e,o){},3207:function(t,e,o){"use strict";var a=o("4cbe"),n=o.n(a);n.a},"3e36":function(t,e,o){t.exports=o.p+"img/apartment-logo.41d475b9.png"},"48aa":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"deptPersonList"},[o("el-input",{attrs:{placeholder:"",readonly:""},nativeOn:{click:function(e){return t.changeShowMode(e)}},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),""!=t.inputVal?o("i",{staticClass:"el-icon-close",on:{click:t.clearInputValFunc}}):t._e(),o("transition",{attrs:{name:"el-zoom-in-top"}},[t.isShow?o("div",{staticClass:"show-tree"},[o("el-row",[o("el-col",{attrs:{span:16}},[o("a-tree",{staticStyle:{width:"100%"},attrs:{showLine:"",autoExpandParent:!0,selectedKeys:t.selectedKeys,defaultExpandedKeys:t.defaultExpandKeys,treeData:t.deptOrgTree},on:{expand:t.onExpand,select:t.onSelect},model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}})],1),t.personList.length>0?o("el-col",{attrs:{span:8}},t._l(t.personList,function(e,a){return o("div",{key:a},[o("span",{domProps:{innerHTML:t._s(e.employeeName)},on:{click:function(e){return t.selectPerson(a)}}})])}),0):o("el-col",{attrs:{span:8}},[o("div",[o("span",[t._v("暂无成员信息！")])])])],1)],1):t._e()])],1)},n=[],i={name:"deptPersonList",data(){return{deptOrgTree:[],checkedKeys:[],expandedKeys:[],selectedKeys:[],defaultExpandKeys:[],deptInfo:{},inputVal:"",isShow:!1,getDefaultKey:!1,personList:[],selectInfo:{}}},props:["choiceDept","choicePerson","choicePersonName"],created(){if(this.getDeptTree(),this.choiceDept&&""!=this.choiceDept){var t=[];t.push(this.choiceDept),this.onSelect(t,"")}this.choicePersonName&&""!=this.choicePersonName&&(this.inputVal=this.choicePersonName)},watch:{choiceDept(){if(this.choiceDept&&""!=this.choiceDept){var t=[];t.push(this.choiceDept),this.onSelect(t,"")}},choicePersonName(){this.choicePersonName&&""!=this.choicePersonName&&(this.inputVal=this.choicePersonName)}},methods:{onExpand(t){this.expandedKeys=t,this.autoExpandParent=!1},onSelect(t,e){this.selectedKeys=t,this.getdeptInfo(this.deptOrgTree),this.getDefaultKey=!1,this.deptInfo.key&&""!=this.deptInfo.key&&this.getPersonList()},getdeptInfo(t){if(this.selectedKeys&&1==this.selectedKeys.length&&t&&t.length>0)for(var e=0;e<t.length;e++)this.selectedKeys[0]==t[e].key&&(this.deptInfo=t[e]),t[e].children&&t[e].children.length>0&&this.getdeptInfo(t[e].children)},getDefaultExpand(t){if(t&&t.length>0)for(var e=0;e<t.length;e++){if(this.selectedKeys[0]==t[e].key)return void(this.getDefaultKey=!0);this.defaultExpandKeys.push(t[e].key),t[e].children&&t[e].children.length>0&&!this.getDefaultKey&&this.getDefaultExpand(t[e].children)}},changeShowMode(){this.isShow=!this.isShow,this.defaultExpandKeys=[],this.isShow||(this.getDefaultKey=!1),this.isShow&&""!==this.inputVal&&this.getDefaultExpand(this.deptOrgTree)},clearInputValFunc(){this.inputVal="",this.deptInfo={},this.selectInfo={},this.selectedKeys=[],this.$emit("deptSelectPerson",{})},leaveDeptArea(){this.isShow=!1},getDeptTree(){this.$http.get("/api/department/getAllTreeDepartment").then(t=>{var e=t.data;if(0==e.errorCode&&(this.deptOrgTree=e.data||[],this.renderTree(this.deptOrgTree),this.choiceDept&&""!=this.choiceDept)){var o=[];o.push(this.choiceDept),this.onSelect(o,"")}}).catch(function(t){console.log(t)})},renderTree(t){for(var e=0;e<t.length;e++)t[e].title=t[e].name,t[e].key=t[e].departmentId,t[e].children=t[e].childList||[],delete t[e].name,delete t[e].departmentId,delete t[e].childList,delete t[e].type,delete t[e].level,delete t[e].sort,delete t[e].id,t[e]&&t[e].children.length>0&&this.renderTree(t[e].children)},getPersonList(){this.$http.get("/api/auth/getSysUserDepartmentIdList",{params:{departmentId:this.deptInfo.key}}).then(t=>{var e=t.data;0==e.errorCode&&(this.personList=e.data||[])}).catch(function(t){console.log(t)})},selectPerson(t){this.selectInfo=this.personList[t],this.inputVal=this.selectInfo.employeeName||"",this.$emit("deptSelectPerson",this.selectInfo),this.isShow=!1}}},r=i,s=(o("3207"),o("6691")),c=Object(s["a"])(r,a,n,!1,null,null,null);e["a"]=c.exports},"4cbe":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var a=o("6e6d"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("BlueHeader",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],ref:"BlueHeader",attrs:{list:t.listDetail,user:t.userInfo},on:{setProjectMode:t.setProjectMode}}),o("div",{staticClass:"appContainer"},[t.isLogin?o("div",{staticClass:"menuContainer"},[o("el-menu",{attrs:{"default-active":t.menuActiveNum,"background-color":"#fff","text-color":"#8492a6","active-text-color":"#f3893b"}},t._l(t.menuList,function(e,a){return o("router-link",{key:a,attrs:{to:e.url,exact:""},nativeOn:{click:function(e){return t.menuListDetail(a)}}},[o("el-menu-item",{attrs:{index:a+1+""}},[o("i",{class:e.iconClass,staticStyle:{"margin-right":"2px"}}),o("span",{attrs:{slot:"title"},domProps:{innerHTML:t._s(e.name)},slot:"title"})])],1)}),1)],1):t._e(),o("router-view",{ref:"routerView",staticClass:"container",class:{"no-padding":!t.isLogin}})],1)],1)},i=[],r=(o("debc"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blue-header"},[a("div",{staticClass:"left-icon"},[t.brandInfo?a("img",{staticStyle:{height:"64px"},attrs:{src:t.brandInfo,alt:""}}):t._e(),""==t.brandInfo?a("img",{attrs:{src:o("3e36"),alt:""}}):t._e()]),t.list&&t.list.length>0?a("div",{staticClass:"left-tab-list"},t._l(t.list,function(e,o){return a("router-link",{key:o,staticClass:"tab-ceil",attrs:{to:e.url,exact:""},domProps:{innerHTML:t._s(e.name)}})}),1):t._e(),a("div",{staticClass:"right-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"account"===t.$route.name||"index"===t.$route.name||"deptManage"===t.$route.name||"roleManage"===t.$route.name||"realRoom"===t.$route.name,expression:"$route.name==='account' \n                || $route.name==='index' \n                || $route.name==='deptManage' \n                || $route.name==='roleManage'\n                || $route.name==='realRoom'"}],staticClass:"rg-box-d1"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"account"===t.$route.name&&"-1"!=t.$authority.indexOf("generateBill"),expression:"$route.name==='account'&& $authority.indexOf('generateBill') != '-1'"}],staticClass:"greenBtn",staticStyle:{width:"130px"},on:{click:t.generateBill}},[t._v("生成账单 ( "+t._s(t.Numbers)+" )")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"index"===t.$route.name&&"-1"!=t.$authority.indexOf("outRoomManage"),expression:"$route.name==='index'&&$authority.indexOf('outRoomManage') != '-1'"}],staticClass:"greenBtn",on:{click:t.showProjectManage}},[t._v("项目管理")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"deptManage"===t.$route.name&&"-1"!=t.$authority.indexOf("departmentAdd"),expression:"$route.name==='deptManage'&&$authority.indexOf('departmentAdd') != '-1'"}],staticClass:"greenBtn",on:{click:t.showInsertDept}},[t._v("添加部门")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"roleManage"===t.$route.name&&"-1"!=t.$authority.indexOf("roleAdd"),expression:"$route.name==='roleManage'&&$authority.indexOf('roleAdd') != '-1'"}],staticClass:"greenBtn",on:{click:t.showInsertRole}},[t._v("添加角色")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"realRoom"===t.$route.name&&"-1"!=t.$authority.indexOf("dailyDailyAccount"),expression:"$route.name==='realRoom'&&$authority.indexOf('dailyDailyAccount') != '-1'"}],staticClass:"greenBtn",on:{click:function(e){return t.showRealRoom("account")}}},[t._v("日租记账")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"realRoom"===t.$route.name&&"-1"!=t.$authority.indexOf("dailyOrderInsertReserve"),expression:"$route.name==='realRoom'&&$authority.indexOf('dailyOrderInsertReserve') != '-1'"}],staticClass:"greenBtn",on:{click:function(e){return t.showRealRoom("reserve")}}},[t._v("新增预定")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"memberManage"===t.$route.name,expression:"$route.name==='memberManage'"}],staticClass:"rg-box-d1"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"memberManage"===t.$route.name&&"-1"!=t.$authority.indexOf("memberAdd"),expression:"$route.name==='memberManage'&&$authority.indexOf('memberAdd') != '-1'"}],staticClass:"greenBtn",on:{click:t.showAddMember}},[t._v("添加员工")])],1),a("div",{staticClass:"person-icon"},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[a("img",{attrs:{src:t.user.icon,alt:""}}),a("span",[t._v(t._s(t.user.name||""))])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.showChangePassword("change")}}},[t._v("修改密码")]),t._e(),a("el-dropdown-item",{nativeOn:{click:function(e){return t.doLogout(e)}}},[t._v("退出")])],1)],1)],1),-1!=t.$headerAuth.indexOf("headerInsertAll")?a("div",{staticClass:"person-icon insert-servals"},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[a("img",{attrs:{src:o("a1a3"),alt:""}})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[-1!=t.$headerAuth.indexOf("headerInsertRoom")?a("el-dropdown-item",{nativeOn:{click:function(e){return t.enterInsertHouse("insert")}}},[t._v("新增房源")]):t._e(),-1!=t.$headerAuth.indexOf("headerInsertContract")?a("el-dropdown-item",{nativeOn:{click:function(e){return t.enterInsertConcat("insert")}}},[t._v("新增合同")]):t._e(),-1!=t.$headerAuth.indexOf("headerInsertProject")?a("el-dropdown-item",{nativeOn:{click:function(e){return t.enterInsertProject("insert")}}},[t._v("新增项目")]):t._e()],1)],1)],1):t._e()]),a("div",{staticClass:"left-tab-list right-box"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"housingManage"===t.$route.name,expression:"$route.name==='housingManage'"}],staticClass:"greenBtn",on:{click:t.addRental}},[t._v("添加楼盘")])],1),t.dialogInsertHouse?a("div",{staticClass:"my-puple-contract"},[a("el-dialog",{attrs:{title:t.insertHouseInfo.title,visible:t.dialogInsertHouse,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1000px","before-close":t.closeInsertHousePuple},on:{"update:visible":function(e){t.dialogInsertHouse=e}}},[a("el-row",[a("el-row",{staticClass:"each-item",staticStyle:{height:"40px","line-height":"40px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房源信息")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",disabled:"edit"==t.insertHouseInfo.mode,placeholder:"请选择项目"},on:{change:t.houseChoiceProject},model:{value:t.insertHouseInfo.project,callback:function(e){t.$set(t.insertHouseInfo,"project",e)},expression:"insertHouseInfo.project"}},t._l(t.projectList,function(t){return a("el-option",{key:t.orgId,attrs:{label:t.orgName,value:t.orgId}})}),1)],1),t.projectList.length>0&&t.insertHouseInfo.address?a("el-col",{staticClass:"pl-10",attrs:{span:17}},[t._v("详细地址："+t._s(t.insertHouseInfo.address))]):t._e()],1),t._l(t.roomList,function(e,o){return a("div",{key:o,staticStyle:{overflow:"hidden","margin-top":"10px"}},[a("el-col",{attrs:{span:3}},[a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"必填",clearable:"",size:"small"},model:{value:e.roomName,callback:function(o){t.$set(e,"roomName",o)},expression:"item.roomName"}})],1),a("el-col",{attrs:{span:4}},[t._v("室")])],1),a("el-col",{attrs:{span:3}},[a("el-col",{attrs:{span:3}},[t._v("第")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"必填",clearable:"",size:"small"},model:{value:e.floor,callback:function(o){t.$set(e,"floor",o)},expression:"item.floor"}})],1),a("el-col",{attrs:{span:2}},[t._v("层")])],1),a("el-col",{attrs:{span:3}},[a("el-col",{attrs:{span:3}},[t._v("共")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"必填",clearable:"",size:"small"},model:{value:e.totalFloor,callback:function(o){t.$set(e,"totalFloor",o)},expression:"item.totalFloor"}})],1),a("el-col",{attrs:{span:2}},[t._v("层")])],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:5}},[t._v("朝向")]),a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.towardId,callback:function(o){t.$set(e,"towardId",o)},expression:"item.towardId"}},t._l(t.faceDirectionList,function(t){return a("el-option",{key:t.roomCodeId,attrs:{label:t.name,value:t.roomCodeId}})}),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:3}},[t._v("共")]),a("el-col",{attrs:{span:15}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"必填",clearable:"",size:"small"},model:{value:e.acreage,callback:function(o){t.$set(e,"acreage",o)},expression:"item.acreage"}})],1),a("el-col",{attrs:{span:4}},[t._v("m"),a("sup",[t._v("2")])])],1),"edit"!=t.insertHouseInfo.mode?a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"greenBtn",attrs:{size:"small"},on:{click:function(e){return t.houseDeleteRoom(o)}}},[t._v("删除")]),t.roomList.length==o+1?a("el-button",{staticClass:"greenBtn",attrs:{size:"small"},on:{click:t.houseInsertRoom}},[t._v("新增房号")]):t._e()],1):t._e()],1)})],2),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房屋格局")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:16}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,label:"必填",size:"small",controls:!1},model:{value:t.housingPattern.room,callback:function(e){t.$set(t.housingPattern,"room",e)},expression:"housingPattern.room"}})],1),a("el-col",{attrs:{span:4}},[t._v("室")])],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:16}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,label:"必填",size:"small",controls:!1},model:{value:t.housingPattern.parlour,callback:function(e){t.$set(t.housingPattern,"parlour",e)},expression:"housingPattern.parlour"}})],1),a("el-col",{attrs:{span:4}},[t._v("厅")])],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:16}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,label:"必填",size:"small",controls:!1},model:{value:t.housingPattern.toilet,callback:function(e){t.$set(t.housingPattern,"toilet",e)},expression:"housingPattern.toilet"}})],1),a("el-col",{attrs:{span:4}},[t._v("卫")])],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:16}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,label:"必填",size:"small",controls:!1},model:{value:t.housingPattern.kitchen,callback:function(e){t.$set(t.housingPattern,"kitchen",e)},expression:"housingPattern.kitchen"}})],1),a("el-col",{attrs:{span:4}},[t._v("厨")])],1),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:16}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,label:"必填",size:"small",controls:!1},model:{value:t.housingPattern.balcony,callback:function(e){t.$set(t.housingPattern,"balcony",e)},expression:"housingPattern.balcony"}})],1),a("el-col",{attrs:{span:4}},[t._v("台")])],1)],1)]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房屋类型")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:t.insertHouseInfo.roomType,callback:function(e){t.$set(t.insertHouseInfo,"roomType",e)},expression:"insertHouseInfo.roomType"}},t._l(t.roomTypeList,function(t){return a("el-option",{key:t.roomCodeId,attrs:{label:t.name,value:t.roomCodeId}})}),1)],1)],1)]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"is-required-b font-title"},[t._v("装修情况")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:t.insertHouseInfo.decoration,callback:function(e){t.$set(t.insertHouseInfo,"decoration",e)},expression:"insertHouseInfo.decoration"}},t._l(t.decorationList,function(t){return a("el-option",{key:t.roomCodeId,attrs:{label:t.name,value:t.roomCodeId}})}),1)],1)],1)]),a("el-col",{attrs:{span:23}},[a("div",{staticClass:"is-required-b font-title"},[t._v("出租价格")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:5}},[t._v("出租价格")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"必填",clearable:"",size:"small"},model:{value:t.insertHouseInfo.priceInfo.monthPrice,callback:function(e){t.$set(t.insertHouseInfo.priceInfo,"monthPrice",e)},expression:"insertHouseInfo.priceInfo.monthPrice"}})],1),a("el-col",{attrs:{span:3}},[t._v("元/月")])],1),a("el-col",{attrs:{span:8}},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t._v("底价")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"必填",clearable:"",size:"small"},model:{value:t.insertHouseInfo.priceInfo.lowPrice,callback:function(e){t.$set(t.insertHouseInfo.priceInfo,"lowPrice",e)},expression:"insertHouseInfo.priceInfo.lowPrice"}})],1),a("el-col",{attrs:{span:4}},[t._v("元/月")])],1),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:16}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"small",placeholder:"请选择"},model:{value:t.insertHouseInfo.priceInfo.livingType,callback:function(e){t.$set(t.insertHouseInfo.priceInfo,"livingType",e)},expression:"insertHouseInfo.priceInfo.livingType"}},t._l(t.payTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1)],1)],1)]),a("el-col",{attrs:{span:21}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房屋服务")]),a("div",{staticStyle:{overflow:"hidden","background-color":"#fcfdfd",padding:"20px"}},[a("el-checkbox-group",{model:{value:t.roomServiceCheckeds,callback:function(e){t.roomServiceCheckeds=e},expression:"roomServiceCheckeds"}},[a("el-col",{staticStyle:{"line-height":"20px"},attrs:{span:24}},[a("el-col",{staticClass:"checked-select-all",attrs:{span:6}},[a("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange("service")}},model:{value:t.roomServiceCheckAll,callback:function(e){t.roomServiceCheckAll=e},expression:"roomServiceCheckAll"}},[t._v("全选/取消")])],1),t._l(t.roomServiceList,function(e,o){return o<3?a("el-col",{key:o,attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.name,disable:0==e.state}})],1):t._e()})],2),t._l(parseInt((t.roomServiceList.length-3)/4)+1,function(e,o){return t.roomServiceList.length>=3?a("el-col",{key:o,staticStyle:{"line-height":"20px"},attrs:{span:24}},t._l(t.roomServiceList,function(e,n){return n>=3&&n>=4*o+3&&n<4*o+7?a("el-col",{key:n,attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.name,disable:0==e.state}})],1):t._e()}),1):t._e()})],2)],1)]),a("el-col",{attrs:{span:21}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房屋配备")]),a("div",{staticStyle:{overflow:"hidden","background-color":"#fcfdfd",padding:"20px"}},[a("el-checkbox-group",{model:{value:t.roomDeviceCheckeds,callback:function(e){t.roomDeviceCheckeds=e},expression:"roomDeviceCheckeds"}},[a("el-col",{staticStyle:{"line-height":"20px"},attrs:{span:24}},[a("el-col",{staticClass:"checked-select-all",attrs:{span:6}},[a("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange("device")}},model:{value:t.roomServiceDeviceAll,callback:function(e){t.roomServiceDeviceAll=e},expression:"roomServiceDeviceAll"}},[t._v("全选/取消")])],1),t._l(t.roomDeviceList,function(e,o){return o<3?a("el-col",{key:o,attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.name}})],1):t._e()})],2),t._l(parseInt((t.roomDeviceList.length-3)/4)+1,function(e,o){return t.roomDeviceList.length>=3?a("el-col",{key:o,staticStyle:{"line-height":"20px"},attrs:{span:24}},t._l(t.roomDeviceList,function(e,n){return n>=3&&n>=4*o+3&&n<4*o+7?a("el-col",{key:n,attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.name}})],1):t._e()}),1):t._e()})],2)],1)]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房源描述")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:21}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:"对租客的要求，周边交通及生活配套..."},model:{value:t.insertHouseInfo.roomDescribe,callback:function(e){t.$set(t.insertHouseInfo,"roomDescribe",e)},expression:"insertHouseInfo.roomDescribe"}})],1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房屋图片")]),a("div",{staticStyle:{height:"80px"}},[a("el-upload",{attrs:{action:"",multiple:!0,"before-upload":t.houseUploadImgPreview,accept:"image"}},[a("div",{staticClass:"input-pic-box show-row"},[a("i",{staticClass:"el-icon-picture-outline"}),a("span",[t._v("点击添加附件")])])])],1),a("div",[t._v("最多上传24张，每张最大3M")])]),a("el-col",{attrs:{span:24}},t._l(t.houseUploadImgList,function(e,o){return a("el-col",{key:o,staticClass:"mb-10",attrs:{span:8}},[a("div",{staticClass:"upload-img-box"},[a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgItem(o)}}}),a("img",{attrs:{src:e.maxPic,alt:""}})])])}),1)],1)],1),a("div",{staticClass:"deep-bottom-box",staticStyle:{"margin-top":"26px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.houseInsertComfirmSubmit}},[t._v("确 定")]),a("el-button",{staticClass:"greenBtn",on:{click:t.closeInsertHousePuple}},[t._v("取 消")])],1)],1)],1):t._e(),t.dialogCustomerSigning?a("div",{staticClass:"my-puple-contract"},[a("el-dialog",{attrs:{title:t.contractInfo.title,visible:t.dialogCustomerSigning,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1200px","before-close":t.closeDialogCustomerSigning},on:{"update:visible":function(e){t.dialogCustomerSigning=e}}},[a("el-row",[a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:"detail"==t.contractInfo.contractMode?20:18}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房间信息：\n                            "),"insert"==t.contractInfo.contractMode&&t.fromRemoteInsert&&t.roomHasReserved.name&&""!=t.roomHasReserved.name&&t.roomHasReserved.phone&&""!=t.roomHasReserved.phone?a("span",{staticStyle:{color:"#C0C4CC"}},[t._v("\n                                (该房间已经被预定，预定人信息："+t._s(t.roomHasReserved.name)+" - "+t._s(t.roomHasReserved.phone)+")\n                            ")]):t._e()]),"detail"==t.contractInfo.contractMode||"extend"==t.contractInfo.contractMode?a("div",[a("el-input",{attrs:{disabled:"",placeholder:"请输入小区名称，房间号"},model:{value:t.contractInfo.orgName,callback:function(e){t.$set(t.contractInfo,"orgName",e)},expression:"contractInfo.orgName"}})],1):"insert"==t.contractInfo.contractMode&&t.fromRemoteInsert?a("div",[a("el-input",{attrs:{disabled:"",placeholder:"请输入小区名称，房间号"},model:{value:t.contractInfo.orgName,callback:function(e){t.$set(t.contractInfo,"orgName",e)},expression:"contractInfo.orgName"}})],1):a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入小区名称，房间号","remote-method":t.remoteRequestRoom,loading:t.loadingReqRoom},on:{change:t.changeRoomName},model:{value:t.contractInfo.roomId,callback:function(e){t.$set(t.contractInfo,"roomId",e)},expression:"contractInfo.roomId"}},t._l(t.contractRoomList,function(t,e){return a("el-option",{key:e.roomId,attrs:{label:t.orgAndRoomName,value:t.roomId}})}),1)],1)]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"font-title"},[t._v(" ")]),"detail"!=t.contractInfo.contractMode?a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.clearInputContract}},[t._v("清空租赁合同")]):t._e(),"detail"==t.contractInfo.contractMode?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.getRoomRecordTable}},[t._v("查看")]):t._e()],1)],1),a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"is-required-b font-title"},[t._v("合同类型：")]),a("div",[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractInfo.type,callback:function(e){t.$set(t.contractInfo,"type",e)},expression:"contractInfo.type"}},[a("el-radio",{attrs:{label:0}},[t._v("已签纸质合同")]),a("el-radio",{attrs:{label:3}},[t._v("虚拟合同")])],1)],1)]),1==t.contractInfo.type?a("el-col",{staticStyle:{"margin-top":"10px","line-height":"40px"},attrs:{span:22}},[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"模板"},on:{change:t.changeContractTempVal},model:{value:t.contractInfo.templateId,callback:function(e){t.$set(t.contractInfo,"templateId",e)},expression:"contractInfo.templateId"}},t._l(t.contractTemplateList,function(t){return a("el-option",{key:t.contractTemplateId,attrs:{label:t.templateName,value:t.contractTemplateId}})}),1)],1),""!=t.contractInfo.templateId&&void 0!=t.contractInfo.templateId?a("el-col",{attrs:{span:4,offset:1}},[a("span",{staticClass:"greenFont tabOperteBtn",on:{click:t.editContractTemplate}},[t._v("编辑")])]):t._e()],1):t._e(),"extend"==t.contractInfo.contractMode&&2==t.contractInfo.type?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:22}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:t.getLastContractDetail}},[t._v("查看上份合同详情")])],1)],1):t._e()],1),a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"is-required-b font-title"},[t._v("承租人：")]),a("div",[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},on:{change:t.changeContractLessee},model:{value:t.contractInfo.lessee,callback:function(e){t.$set(t.contractInfo,"lessee",e)},expression:"contractInfo.lessee"}},[a("el-radio",{attrs:{label:0}},[t._v("个人签约")]),a("el-radio",{attrs:{label:1}},[t._v("企业签约")])],1)],1)]),0!=t.contractInfo.lessee?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:22}},[a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"请选择企业"},on:{change:t.choiceContractEnterprise},model:{value:t.contractEnterpriseInfo.enterpriseId,callback:function(e){t.$set(t.contractEnterpriseInfo,"enterpriseId",e)},expression:"contractEnterpriseInfo.enterpriseId"}},t._l(t.enterpriseList,function(t){return a("el-option",{key:t.enterpriseId,attrs:{label:t.enterpriseName,value:t.enterpriseId}})}),1)],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:5,offset:1}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"请选择银行"},model:{value:t.contractEnterpriseInfo.bank,callback:function(e){t.$set(t.contractEnterpriseInfo,"bank",e)},expression:"contractEnterpriseInfo.bank"}},t._l(t.bankNameList,function(t){return a("el-option",{key:t.id,attrs:{label:t.bankName,value:t.id}})}),1)],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:5,offset:1}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入银行卡号",clearable:"",disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractEnterpriseInfo.bankNo,callback:function(e){t.$set(t.contractEnterpriseInfo,"bankNo",e)},expression:"contractEnterpriseInfo.bankNo"}})],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:5,offset:1}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"请选择租金/押金费用缴纳方"},model:{value:t.contractEnterpriseInfo.rentPayType,callback:function(e){t.$set(t.contractEnterpriseInfo,"rentPayType",e)},expression:"contractEnterpriseInfo.rentPayType"}},t._l(t.contractPayType,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)],1)],1):t._e()],1),0==t.contractInfo.lessee?a("el-row",{staticClass:"each-item person-info"},[a("el-col",{attrs:{span:22}},[a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"姓名",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:t.contractPersonInfo.personName,callback:function(e){t.$set(t.contractPersonInfo,"personName",e)},expression:"contractPersonInfo.personName"}})],1),a("el-col",{staticClass:"person-info-ceil person-info-last",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"手机号",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:t.contractPersonInfo.phone,callback:function(e){t.$set(t.contractPersonInfo,"phone",e)},expression:"contractPersonInfo.phone"}})],1),a("el-col",{staticClass:"person-info-ceil",staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractPersonInfo.gender,callback:function(e){t.$set(t.contractPersonInfo,"gender",e)},expression:"contractPersonInfo.gender"}},[a("el-radio",{attrs:{label:1}},[t._v("男")]),a("el-radio",{attrs:{label:2}},[t._v("女")])],1)],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"请选择"},model:{value:t.contractPersonInfo.cardType,callback:function(e){t.$set(t.contractPersonInfo,"cardType",e)},expression:"contractPersonInfo.cardType"}},t._l(t.cardTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:t.getUserIdCardInfo},model:{value:t.contractPersonInfo.cardNo,callback:function(e){t.$set(t.contractPersonInfo,"cardNo",e)},expression:"contractPersonInfo.cardNo"}})],1),"detail"!=t.contractInfo.contractMode?a("el-col",{staticClass:"person-info-ceil",attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.insertVRIdNum}},[t._v("虚拟身份证")])],1):t._e()],1)],1):t._e(),0==t.contractInfo.lessee?a("el-row",{staticClass:"each-item person-info"},[a("el-col",{attrs:{span:22}},[""==t.contractEnterpriseInfo.frontPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("enterprise","front","-1")}}},[a("span",[t._v("身份证正面")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(t.contractEnterpriseInfo.frontPicName)},on:{click:function(e){return t.showBigImg(t.contractEnterpriseInfo.frontPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("enterprise","front","-1")}}})])]),""==t.contractEnterpriseInfo.backPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("enterprise","back","-1")}}},[a("span",[t._v("身份证反面")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(t.contractEnterpriseInfo.backPicName)},on:{click:function(e){return t.showBigImg(t.contractEnterpriseInfo.backPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("enterprise","back","-1")}}})])]),""==t.contractEnterpriseInfo.otherPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("enterprise","other","-1")}}},[a("span",[t._v("其他证明")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(t.contractEnterpriseInfo.otherPicName)},on:{click:function(e){return t.showBigImg(t.contractEnterpriseInfo.otherPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("enterprise","other","-1")}}})])]),a("el-col",{staticClass:"person-info-ceil",attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"银行"},model:{value:t.contractPersonList[0].bank,callback:function(e){t.$set(t.contractPersonList[0],"bank",e)},expression:"contractPersonList[0].bank"}},t._l(t.bankNameList,function(t){return a("el-option",{key:t.id,attrs:{label:t.bankName,value:t.id}})}),1)],1),a("el-col",{staticClass:"person-info-ceil person-info-last",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"银行卡号",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:t.contractPersonList[0].bankCardNo,callback:function(e){t.$set(t.contractPersonList[0],"bankCardNo",e)},expression:"contractPersonList[0].bankCardNo"}})],1)],1)],1):t._e(),t._l(t.contractEnterpriseList,function(e,o){return 1==t.contractInfo.lessee?a("el-row",{key:o,staticClass:"each-item person-info has-dashed-line"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"is-required-b font-title"},[t._v("居住人：")]),a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"姓名",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:function(e){return t.changeLivePersonName(o)}},model:{value:e.personName,callback:function(o){t.$set(e,"personName",o)},expression:"item.personName"}})],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"手机号",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:e.phone,callback:function(o){t.$set(e,"phone",o)},expression:"item.phone"}})],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:e.gender,callback:function(o){t.$set(e,"gender",o)},expression:"item.gender"}},[a("el-radio",{attrs:{label:1}},[t._v("男")]),a("el-radio",{attrs:{label:2}},[t._v("女")])],1)],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"身份证号"},model:{value:e.cardType,callback:function(o){t.$set(e,"cardType",o)},expression:"item.cardType"}},t._l(t.cardTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticClass:"person-info-ceil person-info-last",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",clearable:"",disabled:"detail"==t.contractInfo.contractMode},on:{blur:function(e){return t.getUserCompareIdCardInfo("enterprise",o)}},model:{value:e.cardNo,callback:function(o){t.$set(e,"cardNo",o)},expression:"item.cardNo"}})],1),a("el-col",{staticClass:"person-info-ceil",staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("el-radio",{attrs:{label:"1",disabled:"detail"==t.contractInfo.contractMode},on:{change:function(e){return t.setPersonPayMoney(o)}},model:{value:e.payRent,callback:function(o){t.$set(e,"payRent",o)},expression:"item.payRent"}},[t._v("是否该居住人缴纳")])],1),"detail"!=t.contractInfo.contractMode?a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:3}},[a("i",{staticClass:"el-icon-remove-outline",on:{click:function(e){return t.removeLivePerson(o)}}}),o>=t.contractEnterpriseList.length-1?a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertLivePerson}}):t._e()]):t._e()],1),a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:22}},[""==t.contractEnterpriseList[o].frontPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("enterprise","front",o)}}},[a("span",[t._v("身份证正面")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.frontPicName)},on:{click:function(o){return t.showBigImg(e.frontPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("enterprise","front",o)}}})])]),""==t.contractEnterpriseList[o].backPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("enterprise","back",o)}}},[a("span",[t._v("身份证反面")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.backPicName)},on:{click:function(o){return t.showBigImg(e.backPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("enterprise","back",o)}}})])]),""==t.contractEnterpriseList[o].otherPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("enterprise","other",o)}}},[a("span",[t._v("其他证明")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.otherPicName)},on:{click:function(o){return t.showBigImg(e.otherPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("enterprise","other",o)}}})])]),0==o?a("el-col",{staticClass:"person-info-ceil",attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"银行"},model:{value:e.bank,callback:function(o){t.$set(e,"bank",o)},expression:"item.bank"}},t._l(t.bankNameList,function(t){return a("el-option",{key:t.id,attrs:{label:t.bankName,value:t.id}})}),1)],1):t._e(),0==o?a("el-col",{staticClass:"person-info-ceil person-info-last",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"银行卡号",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:e.bankCardNo,callback:function(o){t.$set(e,"bankCardNo",o)},expression:"item.bankCardNo"}})],1):t._e()],1)],1):t._e()}),1!=t.contractInfo.lessee?a("el-row",{staticClass:"each-item has-dashed-line"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"font-title"},[t._v("同住人：")]),t._l(t.contractPersonList,function(e,o){return a("div",{key:o,staticClass:"person-info"},[a("div",[a("el-col",{attrs:{span:22}},[a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"姓名",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:e.personName,callback:function(o){t.$set(e,"personName",o)},expression:"item.personName"}})],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"手机号",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:e.phone,callback:function(o){t.$set(e,"phone",o)},expression:"item.phone"}})],1),a("el-col",{staticClass:"person-info-ceil",staticStyle:{"padding-left":"10px"},attrs:{span:4,disabled:"detail"==t.contractInfo.contractMode}},[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:e.gender,callback:function(o){t.$set(e,"gender",o)},expression:"item.gender"}},[a("el-radio",{attrs:{label:1}},[t._v("男")]),a("el-radio",{attrs:{label:2}},[t._v("女")])],1)],1),a("el-col",{staticClass:"person-info-ceil",attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"身份证号"},model:{value:e.cardType,callback:function(o){t.$set(e,"cardType",o)},expression:"item.cardType"}},t._l(t.cardTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticClass:"person-info-ceil person-info-last",attrs:{span:6}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:function(e){return t.getUserCompareIdCardInfo("person",o)}},model:{value:e.cardNo,callback:function(o){t.$set(e,"cardNo",o)},expression:"item.cardNo"}})],1),"detail"!=t.contractInfo.contractMode?a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-remove-outline",on:{click:function(e){return t.removeLivePerson(o)}}}),o>=t.contractPersonList.length-1?a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertLivePerson}}):t._e()]):t._e()],1),a("el-col",{staticStyle:{margin:"10px 0px"},attrs:{span:22}},[""==t.contractPersonList[o].frontPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("person","front",o)}}},[a("span",[t._v("身份证正面")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.frontPicName)},on:{click:function(o){return t.showBigImg(e.frontPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("person","front",o)}}})])]),""==t.contractPersonList[o].backPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("person","back",o)}}},[a("span",[t._v("身份证反面")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.backPicName)},on:{click:function(o){return t.showBigImg(e.backPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("person","back",o)}}})])]),""==t.contractPersonList[o].otherPicId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadImg,disabled:"detail"==t.contractInfo.contractMode,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getUploadImgOrigin("person","other",o)}}},[a("span",[t._v("其他证明")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:5}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.otherPicName)},on:{click:function(o){return t.showBigImg(e.otherPicUrl)}}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgOrigin("person","other",o)}}})])]),1==t.contractInfo.lessee&&0==o?a("el-col",{staticClass:"person-info-ceil",attrs:{span:3}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"银行"},model:{value:e.bank,callback:function(o){t.$set(e,"bank",o)},expression:"item.bank"}},t._l(t.bankNameList,function(t){return a("el-option",{key:t.id,attrs:{label:t.bankName,value:t.id}})}),1)],1):t._e(),1==t.contractInfo.lessee&&0==o?a("el-col",{staticClass:"person-info-ceil person-info-last",attrs:{span:6}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"银行卡号",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:e.bankCardNo,callback:function(o){t.$set(e,"bankCardNo",o)},expression:"item.bankCardNo"}})],1):t._e()],1)],1)])})],2)],1):t._e(),a("el-row",{staticClass:"each-item person-info has-dashed-line"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"font-title has-right-content"},[t._v("紧急联系人：")]),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("姓名")]),a("el-col",{attrs:{span:6}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"请输入紧急联系人姓名"},model:{value:t.contractInfo.emergeName,callback:function(e){t.$set(t.contractInfo,"emergeName",e)},expression:"contractInfo.emergeName"}})],1),a("el-col",{attrs:{span:2,offset:2}},[t._v("手机号码")]),a("el-col",{attrs:{span:6}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"请输入紧急联系人手机号码"},model:{value:t.contractInfo.emergePhone,callback:function(e){t.$set(t.contractInfo,"emergePhone",e)},expression:"contractInfo.emergePhone"}})],1)],1)])],1),0==t.contractInfo.lessee?a("el-row",{staticClass:"each-item person-info has-dashed-line"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"is-required-b font-title has-right-content"},[t._v("合同信息：\n                            "),"detail"!=t.contractInfo.contractMode?a("span",{staticClass:"right-contents"},[t._v("\n                                当前月剩余"+t._s(t.contractInfo.monthHasDay||0)+"天，\n                                本期应交租金："),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.infoRentPrice||0))]),t._v("元；\n                                押金："),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.isExtended?Number(t.contractInfo.payPrice-t.contractInfo.inheritDeposit).toFixed(2):t.contractInfo.payPrice))]),t._v("元；\n                                "),"extend"!=t.contractInfo.contractMode?a("span",[t._v("定金："),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.reservePrice||0))]),t._v("元；")]):t._e(),t._v(" \n                                合计为"),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.isExtended?(Math.round(100*(t.contractInfo.infoTotalMoney-t.contractInfo.inheritDeposit))/100).toFixed(2):t.contractInfo.infoTotalMoney))]),t._v(" 元\n                            ")]):t._e()]),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("合同期限")]),t.contractInfo.contractStartData&&""!=t.contractInfo.contractStartData?a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",disabled:"detail"==t.contractInfo.contractMode,clearable:!1,editable:!1,placeholder:"选择日期"},model:{value:t.contractInfo.contractStartData,callback:function(e){t.$set(t.contractInfo,"contractStartData",e)},expression:"contractInfo.contractStartData"}})],1):t._e(),t.contractInfo.contractStartData&&""!=t.contractInfo.contractStartData?a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v("-")]):t._e(),a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",disabled:"detail"==t.contractInfo.contractMode,placeholder:"选择日期"},model:{value:t.contractInfo.contractData,callback:function(e){t.$set(t.contractInfo,"contractData",e)},expression:"contractInfo.contractData"}})],1),"detail"!=t.contractInfo.contractMode?a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("span",{staticClass:"greenFont",class:{"choice-pay-active":3==t.contractInfo.payType},on:{click:function(e){return t.choiceContractData(3)}}},[t._v("季度")]),a("span",{staticClass:"greenFont",class:{"choice-pay-active":6==t.contractInfo.payType},on:{click:function(e){return t.choiceContractData(6)}}},[t._v("半年")]),a("span",{staticClass:"greenFont",class:{"choice-pay-active":12==t.contractInfo.payType},on:{click:function(e){return t.choiceContractData(12)}}},[t._v("1年")])]):t._e(),"insert"!=t.contractInfo.contractMode||t.fromRemoteInsert&&(!t.fromRemoteInsert||""!=this.roomHasReserved.name&&void 0!=this.roomHasReserved.name||""!=this.roomHasReserved.phone&&void 0!=this.roomHasReserved.phone)?t._e():a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.changeSignatureType}},[t._v("抄表")])],1)],1),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("租金")]),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:18}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:t.changeRentPriceFunc},model:{value:t.contractInfo.rentPrice,callback:function(e){t.$set(t.contractInfo,"rentPrice",e)},expression:"contractInfo.rentPrice"}})],1),a("el-col",{attrs:{span:6}},[t._v("\n                                    元/月\n                                ")])],1),t._e(),t._e(),t._e(),a("el-col",{staticClass:"pr-10",attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"涨租起始年数"},model:{value:t.contractInfo.riseMode,callback:function(e){t.$set(t.contractInfo,"riseMode",e)},expression:"contractInfo.riseMode"}},t._l(t.personRentRiseYear,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{attrs:{span:22}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"逐年涨租浮动百分比",disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:t.contractInfo.riseRate,callback:function(e){t.$set(t.contractInfo,"riseRate",e)},expression:"contractInfo.riseRate"}})],1),a("el-col",{attrs:{span:2}},[t._v("%")])],1)],1),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("租金押金")]),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"押金类型"},on:{change:t.enterGetContractMoney},model:{value:t.contractInfo.deliveryMethod,callback:function(e){t.$set(t.contractInfo,"deliveryMethod",e)},expression:"contractInfo.deliveryMethod"}},t._l(t.payTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("押金")]),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:18}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,readonly:"",clearable:""},model:{value:t.contractInfo.payPrice,callback:function(e){t.$set(t.contractInfo,"payPrice",e)},expression:"contractInfo.payPrice"}})],1),a("el-col",{attrs:{span:6}},[t._v("\n                                    元\n                                ")])],1),"extend"==t.contractInfo.contractMode||"detail"==t.contractInfo.contractMode?a("el-col",{attrs:{span:9}},[a("el-checkbox",{staticStyle:{"margin-right":"6px"},attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractInfo.isExtended,callback:function(e){t.$set(t.contractInfo,"isExtended",e)},expression:"contractInfo.isExtended"}},[t._v("使用上份合同押金")]),t.contractInfo.isExtended?a("span",[t._v("上份合同已收"+t._s(t.contractInfo.inheritDeposit||0)+"元")]):t._e()],1):t._e(),a("el-col",{staticClass:"pr-10",attrs:{span:1}},["detail"!=t.contractInfo.contractMode?a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertMoneyTypeList}}):t._e()])],1),t._l(t.depositTypeList,function(e,o){return a("div",{key:o,staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},0==o?[t._v("其它押金")]:[t._v(" ")]),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"押金类型"},on:{change:function(e){return t.changeDepositMonetChoice(o)}},model:{value:e.type,callback:function(o){t.$set(e,"type",o)},expression:"item.type"}},t._l(t.depositMonetList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("金额")]),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:18}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:t.getContractMoney},model:{value:e.amount,callback:function(o){t.$set(e,"amount",o)},expression:"item.amount"}})],1),a("el-col",{attrs:{span:6}},[t._v("\n                                    元\n                                ")])],1),"detail"!=t.contractInfo.contractMode?a("el-col",{staticClass:"pr-10",attrs:{span:4}},[a("i",{staticClass:"el-icon-remove-outline",on:{click:function(e){return t.deleteMoneyTypeList(o)}}}),a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertMoneyTypeList}})]):t._e()],1)})],2)],1):a("el-row",{staticClass:"each-item person-info has-dashed-line"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"is-required-b font-title has-right-content"},[t._v("合同信息：\n                            "),"detail"!=t.contractInfo.contractMode?a("span",{staticClass:"right-contents"},[t._v("\n                                当前月剩余"+t._s(t.contractInfo.monthHasDay||0)+"天，\n                                本期应交租金："),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.infoRentPrice||0))]),t._v("元；\n                                押金："),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.isExtended?Number(t.contractInfo.payPrice-t.contractInfo.inheritDeposit).toFixed(2):t.contractInfo.payPrice))]),t._v("元；\n                                "),"extend"!=t.contractInfo.contractMode?a("span",[t._v("定金："),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.reservePrice||0))]),t._v("元； ")]):t._e(),t._v("\n                                合计为"),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.isExtended?(Math.round(100*(t.contractInfo.infoTotalMoney-t.contractInfo.inheritDeposit))/100).toFixed(2):t.contractInfo.infoTotalMoney))]),t._v(" 元\n                            ")]):t._e()]),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("合同期限")]),t.contractInfo.contractStartData&&""!=t.contractInfo.contractStartData?a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",disabled:"detail"==t.contractInfo.contractMode,clearable:!1,editable:!1,placeholder:"选择日期"},model:{value:t.contractInfo.contractStartData,callback:function(e){t.$set(t.contractInfo,"contractStartData",e)},expression:"contractInfo.contractStartData"}})],1):t._e(),t.contractInfo.contractStartData&&""!=t.contractInfo.contractStartData?a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v("-")]):t._e(),a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",disabled:"detail"==t.contractInfo.contractMode,placeholder:"选择日期"},model:{value:t.contractInfo.contractData,callback:function(e){t.$set(t.contractInfo,"contractData",e)},expression:"contractInfo.contractData"}})],1),"detail"!=t.contractInfo.contractMode?a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("span",{staticClass:"greenFont",class:{"choice-pay-active":3==t.contractInfo.payType},on:{click:function(e){return t.choiceContractData(3)}}},[t._v("季度")]),a("span",{staticClass:"greenFont",class:{"choice-pay-active":6==t.contractInfo.payType},on:{click:function(e){return t.choiceContractData(6)}}},[t._v("半年")]),a("span",{staticClass:"greenFont",class:{"choice-pay-active":12==t.contractInfo.payType},on:{click:function(e){return t.choiceContractData(12)}}},[t._v("1年")])]):t._e(),"insert"!=t.contractInfo.contractMode||t.fromRemoteInsert&&(!t.fromRemoteInsert||""!=this.roomHasReserved.name&&void 0!=this.roomHasReserved.name||""!=this.roomHasReserved.phone&&void 0!=this.roomHasReserved.phone)?t._e():a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.changeSignatureType}},[t._v("抄表")])],1)],1),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("租金")]),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:18}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:t.changeRentPriceFunc},model:{value:t.contractInfo.rentPrice,callback:function(e){t.$set(t.contractInfo,"rentPrice",e)},expression:"contractInfo.rentPrice"}})],1),a("el-col",{attrs:{span:6}},[t._v("\n                                    元/月\n                                ")])],1),t._e(),t._e(),t._e()],1),a("div",{staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},[t._v("租金押金")]),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,clearable:"",placeholder:"押金类型"},on:{change:t.enterGetContractMoney},model:{value:t.contractInfo.deliveryMethod,callback:function(e){t.$set(t.contractInfo,"deliveryMethod",e)},expression:"contractInfo.deliveryMethod"}},t._l(t.payTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("押金")]),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:18}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:"",readonly:""},model:{value:t.contractInfo.payPrice,callback:function(e){t.$set(t.contractInfo,"payPrice",e)},expression:"contractInfo.payPrice"}})],1),a("el-col",{attrs:{span:6}},[t._v("\n                                    元\n                                ")])],1),"extend"==t.contractInfo.contractMode||"detail"==t.contractInfo.contractMode?a("el-col",{attrs:{span:9}},[a("el-checkbox",{staticStyle:{"margin-right":"6px"},attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractInfo.isExtended,callback:function(e){t.$set(t.contractInfo,"isExtended",e)},expression:"contractInfo.isExtended"}},[t._v("使用上份合同押金")]),t.contractInfo.isExtended?a("span",[t._v("上份合同已收"+t._s(t.contractInfo.inheritDeposit||0)+"元")]):t._e()],1):t._e(),a("el-col",{staticClass:"pr-10",attrs:{span:1}},["detail"!=t.contractInfo.contractMode?a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertMoneyTypeList}}):t._e()])],1),t._l(t.depositTypeList,function(e,o){return a("div",{key:o,staticStyle:{"margin-top":"12px",overflow:"hidden"}},[a("el-col",{attrs:{span:2}},0==o?[t._v("其它押金")]:[t._v(" ")]),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"押金类型"},on:{change:function(e){return t.changeDepositMonetChoice(o)}},model:{value:e.type,callback:function(o){t.$set(e,"type",o)},expression:"item.type"}},t._l(t.depositMonetList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("金额")]),a("el-col",{attrs:{span:4}},[a("el-col",{attrs:{span:18}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",disabled:"detail"==t.contractInfo.contractMode,clearable:""},on:{blur:t.getContractMoney},model:{value:e.amount,callback:function(o){t.$set(e,"amount",o)},expression:"item.amount"}})],1),a("el-col",{attrs:{span:6}},[t._v("\n                                    元\n                                ")])],1),"detail"!=t.contractInfo.contractMode?a("el-col",{staticClass:"pr-10",attrs:{span:4}},[a("i",{staticClass:"el-icon-remove-outline",on:{click:function(e){return t.deleteMoneyTypeList(o)}}}),a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertMoneyTypeList}})]):t._e()],1)})],2)],1),a("el-row",{staticClass:"each-item person-info has-dashed-line"},[a("el-col",{attrs:{span:22}},[t.discountList.length>0?a("div",{staticClass:"font-title has-right-content"},[t._v("折扣设置："),a("span",{staticStyle:{color:"#4ea5fd",cursor:"pointer",float:"right"},on:{click:t.clearDiscountRadio}},[t._v("清除")])]):a("div",{staticClass:"font-title has-right-content"},[t._v("暂无折扣设置：")]),t._l(t.discountList,function(e,o){return t.discountList.length>0?a("div",{key:o,staticClass:"radio-unselect",class:{"radio-select":1==e.isSelect}},[a("el-col",{staticClass:"show",attrs:{span:5}},[a("el-radio",{attrs:{disabled:"detail"==t.contractInfo.contractMode,label:"1"},on:{change:function(e){return t.changeDiscountMode(o)}},model:{value:e.isSelect,callback:function(o){t.$set(e,"isSelect",o)},expression:"item.isSelect"}},[t._v(t._s("合同期内月租金*"+100*e.discountRate+"%"))])],1),a("el-col",{staticClass:"show",attrs:{span:7}},[t._v("折扣名称 "+t._s(e.discountName))]),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[t._v("每月租金优惠："),a("span",{staticClass:"red-font"},[t._v(t._s(e.lessMongy))]),t._v(" 元")])],1):t._e()}),"detail"!=t.contractInfo.contractMode?a("div",[a("span",{staticClass:"right-contents"},[t._v("实收总费用为"),a("span",{staticClass:"red-font"},[t._v(t._s(t.contractInfo.isExtended?(Math.round(100*(t.contractInfo.allTotalMoney-t.contractInfo.inheritDeposit))/100).toFixed(2):t.contractInfo.allTotalMoney))]),t._v(" 元")])]):t._e()],2)],1),(t.contractInfo.lessee,t._e()),(t.contractInfo.lessee,t._e()),1==t.contractInfo.lessee?a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"font-title"},[t._v("杂费设置：")]),a("div",[a("el-row",{staticStyle:{"margin-bottom":"10px",height:"40px","line-height":"40px"}},[a("el-col",{attrs:{span:3}},[t._v("水费")]),a("el-col",{staticClass:"pr-10",attrs:{span:10}},[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractInfo.waterFee.included,callback:function(e){t.$set(t.contractInfo.waterFee,"included",e)},expression:"contractInfo.waterFee.included"}},[a("el-radio",{attrs:{label:1}},[t._v("包含到租金里面")]),a("el-radio",{attrs:{label:0}},[t._v("不包含到租金里面")])],1)],1),0==t.contractInfo.waterFee.included?a("el-col",{staticClass:"pr-10",attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"请选择缴纳方"},on:{change:function(e){return t.isPayTypeMode("water")}},model:{value:t.contractInfo.waterFee.payType,callback:function(e){t.$set(t.contractInfo.waterFee,"payType",e)},expression:"contractInfo.waterFee.payType"}},t._l(t.contractPayType,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)],1):t._e(),0==t.contractInfo.waterFee.included&&0==t.contractInfo.waterFee.payType?a("el-col",{attrs:{span:4}},[a("span",[t._v(t._s(t.contractInfo.waterFee.personName))])]):t._e()],1),a("el-row",{staticStyle:{"margin-bottom":"10px",height:"40px","line-height":"40px"}},[a("el-col",{attrs:{span:3}},[t._v("电费")]),a("el-col",{staticClass:"pr-10",attrs:{span:10}},[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractInfo.electricFee.included,callback:function(e){t.$set(t.contractInfo.electricFee,"included",e)},expression:"contractInfo.electricFee.included"}},[a("el-radio",{attrs:{label:1}},[t._v("包含到租金里面")]),a("el-radio",{attrs:{label:0}},[t._v("不包含到租金里面")])],1)],1),0==t.contractInfo.electricFee.included?a("el-col",{staticClass:"pr-10",attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"请选择缴纳方"},on:{change:function(e){return t.isPayTypeMode("electronic")}},model:{value:t.contractInfo.electricFee.payType,callback:function(e){t.$set(t.contractInfo.electricFee,"payType",e)},expression:"contractInfo.electricFee.payType"}},t._l(t.contractPayType,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)],1):t._e(),0==t.contractInfo.electricFee.included&&0==t.contractInfo.electricFee.payType?a("el-col",{attrs:{span:4}},[a("span",[t._v(t._s(t.contractInfo.electricFee.personName))])]):t._e()],1),a("el-row",{staticStyle:{"margin-bottom":"10px",height:"40px","line-height":"40px"}},[a("el-col",{attrs:{span:3}},[t._v("物业费")]),a("el-col",{staticClass:"pr-10",attrs:{span:10}},[a("el-radio-group",{attrs:{disabled:"detail"==t.contractInfo.contractMode},model:{value:t.contractInfo.propertyFee.included,callback:function(e){t.$set(t.contractInfo.propertyFee,"included",e)},expression:"contractInfo.propertyFee.included"}},[a("el-radio",{attrs:{label:1}},[t._v("包含到租金里面")]),a("el-radio",{attrs:{label:0}},[t._v("不包含到租金里面")])],1)],1),0==t.contractInfo.propertyFee.included?a("el-col",{staticClass:"pr-10",attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"detail"==t.contractInfo.contractMode,placeholder:"请选择缴纳方"},on:{change:function(e){return t.isPayTypeMode("property")}},model:{value:t.contractInfo.propertyFee.payType,callback:function(e){t.$set(t.contractInfo.propertyFee,"payType",e)},expression:"contractInfo.propertyFee.payType"}},t._l(t.contractPayType,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)],1):t._e(),0==t.contractInfo.propertyFee.included&&0==t.contractInfo.propertyFee.payType?a("el-col",{attrs:{span:4}},[a("span",[t._v(t._s(t.contractInfo.propertyFee.personName))])]):t._e()],1)],1)])],1):t._e(),a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"font-title"},[t._v("补充说明：")]),a("div",[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"补充说明",type:"textarea",rows:3,disabled:"detail"==t.contractInfo.contractMode,clearable:""},model:{value:t.contractInfo.addtionContent,callback:function(e){t.$set(t.contractInfo,"addtionContent",e)},expression:"contractInfo.addtionContent"}})],1)])],1),1!=t.contractInfo.type&&3!=t.contractInfo.type?a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"font-title"},[t._v("合同附件：")]),a("div",[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.contractUploadFile,disabled:"detail"==t.contractInfo.contractMode,accept:"*"}},[a("div",{staticClass:"upload-file-box"},[t._v("附件")])])],1)]),a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:14}},[a("div",{staticClass:"font-title"},[t._v(" ")]),a("div",{staticStyle:{height:"38px","line-height":"38px"}},[a("span",{staticStyle:{color:"#f3893b",cursor:"pointer"},on:{click:function(e){return t.downloadFileFunc(t.uploadFile.url)}}},[t._v(t._s(t.uploadFile.name))])])])],1):t._e()],2),a("div",{staticClass:"deep-bottom-box",staticStyle:{"margin-top":"26px"}},["detail"!=t.contractInfo.contractMode?a("el-button",{attrs:{type:"primary"},on:{click:t.enterSignIncomeCheck}},[t._v("提 交")]):t._e(),a("el-button",{staticClass:"greenBtn",on:{click:t.closeDialogCustomerSigning}},[t._v("取 消")])],1)],1)],1):t._e(),t.dialogVisibleHandle?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"输入水电表底数",visible:t.dialogVisibleHandle,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px","before-close":function(){return t.dialogVisibleHandle=!1}},on:{"update:visible":function(e){t.dialogVisibleHandle=e}}},[a("div",{staticClass:"my-puple-contract"},[a("el-row",{staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:3}},[t._v("水表")]),a("el-col",{attrs:{span:20}},[a("el-col",{attrs:{span:20}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",clearable:!1},model:{value:t.contractInfo.waterSurplusData,callback:function(e){t.$set(t.contractInfo,"waterSurplusData",e)},expression:"contractInfo.waterSurplusData"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleWatchData("water")}}},[t._v("抄表")])],1)],1)],1),a("el-row",{staticClass:"mt-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:3}},[t._v(" ")]),a("el-col",{attrs:{span:20}},[a("el-col",{attrs:{span:20}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"表余数",clearable:""},model:{value:t.contractInfo.waterSurplus,callback:function(e){t.$set(t.contractInfo,"waterSurplus",e)},expression:"contractInfo.waterSurplus"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[t._v("\n                            m"),a("sup",[t._v("3")])])],1)],1),a("el-row",{staticStyle:{"font-size":"14px","margin-top":"20px"}},[a("el-col",{attrs:{span:3}},[t._v("电表")]),a("el-col",{attrs:{span:20}},[a("el-col",{attrs:{span:20}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",clearable:!1},model:{value:t.contractInfo.electronicSurplusData,callback:function(e){t.$set(t.contractInfo,"electronicSurplusData",e)},expression:"contractInfo.electronicSurplusData"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleWatchData("electronic")}}},[t._v("抄表")])],1)],1)],1),a("el-row",{staticClass:"mt-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:3}},[t._v(" ")]),a("el-col",{attrs:{span:20}},[a("el-col",{attrs:{span:20}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"表余数",clearable:""},model:{value:t.contractInfo.electronicSurplus,callback:function(e){t.$set(t.contractInfo,"electronicSurplus",e)},expression:"contractInfo.electronicSurplus"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[t._v("\n                            千瓦.时\n                        ")])],1)],1)],1),a("span",{staticClass:"dialog-footer mt-10",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.comfirmHandleWatch}},[t._v("确定")]),a("el-button",{staticClass:"greenBtn",on:{click:t.cancelHandleWatch}},[t._v("取消")])],1)])],1):t._e(),t.dialogInsertProject?a("div",{staticClass:"my-puple-contract"},[a("el-dialog",{attrs:{title:t.insertProjectInfo.projectComfirmTitle,visible:t.dialogInsertProject,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1000px","before-close":t.closeProjectPuple},on:{"update:visible":function(e){t.dialogInsertProject=e}}},[a("el-row",[a("el-row",{staticClass:"each-item",staticStyle:{height:"40px","line-height":"40px"}},[a("el-col",{attrs:{span:12}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"is-required-b font-title"},[t._v("社区名称")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:20,a:"1"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入社区名称",clearable:""},model:{value:t.insertProjectInfo.projectName,callback:function(e){t.$set(t.insertProjectInfo,"projectName",e)},expression:"insertProjectInfo.projectName"}})],1)],1),a("div",{staticClass:"is-required-b font-title"},[t._v("社区地址")]),a("div",{staticStyle:{overflow:"hidden"}},[t.insertProjectInfo.provinceListShow?a("el-col",{staticClass:"pr-10",attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"选择省"},on:{change:t.changeProvinceList},model:{value:t.insertProjectInfo.provinceId,callback:function(e){t.$set(t.insertProjectInfo,"provinceId",e)},expression:"insertProjectInfo.provinceId"}},t._l(t.provinceList,function(t){return a("el-option",{key:t.id,attrs:{label:t.cityName,value:t.id}})}),1)],1):t._e(),a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"选择市"},on:{change:function(e){return t.changeChoiceProjectVal(t.insertProjectInfo.cityId)}},model:{value:t.insertProjectInfo.cityId,callback:function(e){t.$set(t.insertProjectInfo,"cityId",e)},expression:"insertProjectInfo.cityId"}},t._l(t.cityList,function(t){return a("el-option",{key:t.id,attrs:{label:t.cityName,value:t.id}})}),1)],1),a("el-col",{staticClass:"pl-10",attrs:{span:t.insertProjectInfo.provinceListShow?10:15,a:"1"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"详细地址",clearable:""},model:{value:t.insertProjectInfo.address,callback:function(e){t.$set(t.insertProjectInfo,"address",e)},expression:"insertProjectInfo.address"}})],1)],1),a("div",{staticClass:"mt-10"},[a("el-col",{attrs:{span:20}},[a("baidu-map",{staticClass:"bm-view",attrs:{center:t.adss,ak:"YOUR_APP_KEY","scroll-wheel-zoom":!0},on:{click:t.mapPaintPolyDot}},[a("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),a("bm-local-search",{attrs:{keyword:t.insertProjectInfo.address,"auto-viewport":!0,panel:!1,location:t.mapInfo.location}})],1)],1)],1),a("div",{staticClass:"mt-10"},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"is-required-b font-title"},[t._v("房屋图片")]),a("div",{staticClass:"area-choice-box"},[a("div",{staticClass:"upload-area"},[a("el-upload",{attrs:{action:"",multiple:!0,"before-upload":t.projectUploadImgPreview,accept:"image"}},[a("div",{staticClass:"input-pic-box"},[a("span",[t._v("上传照片")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1),a("div",{staticClass:"choice-list",on:{click:t.getUploadImgType}},[a("div",{class:{"area-is-active":0==t.insertProjectInfo.imgType.value},attrs:{id:"0"}},[t._v("环境")]),a("div",{class:{"area-is-active":1==t.insertProjectInfo.imgType.value},attrs:{id:"1"}},[t._v("楼道")]),a("div",{class:{"area-is-active":2==t.insertProjectInfo.imgType.value},attrs:{id:"2"}},[t._v("客厅")]),a("div",{class:{"area-is-active":3==t.insertProjectInfo.imgType.value},attrs:{id:"3"}},[t._v("卧室")]),a("div",{class:{"area-is-active":4==t.insertProjectInfo.imgType.value},staticStyle:{"border-top":"1px solid #eeeeee"},attrs:{id:"4"}},[t._v("厨房")]),a("div",{class:{"area-is-active":5==t.insertProjectInfo.imgType.value},staticStyle:{"border-top":"1px solid #eeeeee"},attrs:{id:"5"}},[t._v("卫生间")]),a("div",{class:{"area-is-active":6==t.insertProjectInfo.imgType.value},staticStyle:{"border-top":"1px solid #eeeeee"},attrs:{id:"6"}},[t._v("户型图")]),a("div",{class:{"area-is-active":7==t.insertProjectInfo.imgType.value},staticStyle:{"border-top":"1px solid #eeeeee"},attrs:{id:"7"}},[t._v("其它")])])]),a("div",{staticStyle:{color:"#d1ccc8"}},[t._v("最多上传24张，每张最大3M")])])],1)])],1),a("el-col",{attrs:{span:12}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"is-required-b font-title"},[t._v("社区服务")]),a("div",{staticStyle:{overflow:"hidden",padding:"20px"}},[a("el-checkbox-group",{model:{value:t.projectServiceCheckeds,callback:function(e){t.projectServiceCheckeds=e},expression:"projectServiceCheckeds"}},[a("el-col",{staticStyle:{"line-height":"20px"},attrs:{span:24}},[a("el-col",{staticClass:"checked-select-all",attrs:{span:6}},[a("el-checkbox",{on:{change:function(e){return t.projectCheckAllChange("device")}},model:{value:t.projectServiceCheckAll,callback:function(e){t.projectServiceCheckAll=e},expression:"projectServiceCheckAll"}},[t._v("全选/取消")])],1),t._l(t.projectServiceList,function(e,o){return o<3?a("el-col",{key:o,attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.name}})],1):t._e()})],2),t._l(parseInt((t.projectServiceList.length-3)/4)+1,function(e,o){return t.projectServiceList.length>=3?a("el-col",{key:o,staticStyle:{"line-height":"20px"},attrs:{span:24}},t._l(t.projectServiceList,function(e,n){return n>=3&&n>=4*o+3&&n<4*o+7?a("el-col",{key:n,attrs:{span:6}},[a("el-checkbox",{attrs:{label:e.name}})],1):t._e()}),1):t._e()})],2)],1)]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"is-required-b font-title"},[t._v("社区预约热线")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入客户联系电话",clearable:""},model:{value:t.insertProjectInfo.hotLine,callback:function(e){t.$set(t.insertProjectInfo,"hotLine",e)},expression:"insertProjectInfo.hotLine"}})],1)]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"is-required-b font-title"},[t._v("社区描述")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"对租客的要求，周边交通及生活配套..."},model:{value:t.insertProjectInfo.roomDescribe,callback:function(e){t.$set(t.insertProjectInfo,"roomDescribe",e)},expression:"insertProjectInfo.roomDescribe"}})],1)]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"is-required-b font-title"},[t._v("抄表人员电话")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"系统自动抄表失败后发短信到该手机号上..."},model:{value:t.insertProjectInfo.deviceManagerPhone,callback:function(e){t.$set(t.insertProjectInfo,"deviceManagerPhone",e)},expression:"insertProjectInfo.deviceManagerPhone"}})],1)]),a("el-col",{attrs:{span:20}},[t.insertProjectInfo.departmentName&&""!=t.insertProjectInfo.departmentName?a("el-col",{attrs:{span:11}},[a("div",{staticClass:"font-title is-required-b"},[t._v("项目管理员")]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",readonly:""},model:{value:t.insertProjectInfo.departmentName,callback:function(e){t.$set(t.insertProjectInfo,"departmentName",e)},expression:"insertProjectInfo.departmentName"}})],1)]):t._e(),a("el-col",{attrs:{span:11,offset:t.insertProjectInfo.departmentName&&""!=t.insertProjectInfo.departmentName?2:0}},[a("div",{staticClass:"font-title",class:{"is-required-b":!t.insertProjectInfo.departmentName||""==t.insertProjectInfo.departmentName}},[t._v("\n                                    "+t._s(t.insertProjectInfo.departmentName&&""!=t.insertProjectInfo.departmentName?"":"项目管理员")+"\n                                ")]),a("div",[a("dept-person-list",{ref:"selectDept",attrs:{choiceDept:t.insertProjectInfo.departmentId,choicePerson:t.insertProjectInfo.userId,choicePersonName:t.insertProjectInfo.userName},on:{deptSelectPerson:t.getSelectPerson}})],1)])],1),t._e()],1),a("el-col",{staticClass:"mt-10",attrs:{span:23}},t._l(t.projectUploadImgList,function(e,o){return a("el-col",{key:o,attrs:{span:6}},[a("div",{staticClass:"upload-img-box project-img"},[a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeUploadImgItem(o)}}}),a("div",{staticClass:"left-top-desc",domProps:{innerHTML:t._s(e.imgName)}}),a("img",{attrs:{src:e.maxPic,alt:""}})])])}),1)],1)],1),a("div",{staticClass:"deep-bottom-box",staticStyle:{"margin-top":"26px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.projectInsertComfirmSubmit()}}},[t._v("确 定")]),a("el-button",{staticClass:"greenBtn",on:{click:t.closeProjectPuple}},[t._v("取 消")])],1)],1)],1):t._e(),t.dialogProjectMore?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"更多配置",visible:t.dialogProjectMore,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"660px","before-close":function(){return t.dialogProjectMore=!1}},on:{"update:visible":function(e){t.dialogProjectMore=e}}},[a("div",{staticClass:"each-item",staticStyle:{"padding-left":"10px","min-height":"120px"}},[a("el-row",[a("el-col",{attrs:{span:22}},[t._v("基础配置")])],1),a("el-row",{staticClass:"mb-10"},[a("el-col",{staticStyle:{"font-size":"16px"},attrs:{span:5}},[t._v("微信支付账号")]),a("el-col",{attrs:{span:17}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择微信支付账号"},model:{value:t.payAccountInfo.paymentAccountWxId,callback:function(e){t.$set(t.payAccountInfo,"paymentAccountWxId",e)},expression:"payAccountInfo.paymentAccountWxId"}},t._l(t.editProjectPayAccount,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),a("el-row",{staticClass:"mb-10"},[a("el-col",{staticStyle:{"font-size":"16px"},attrs:{span:5}},[t._v("允许线上预定")]),a("el-col",{attrs:{span:17}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.payAccountInfo.allowReserve,callback:function(e){t.$set(t.payAccountInfo,"allowReserve",e)},expression:"payAccountInfo.allowReserve"}},t._l(t.permitReserveList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),a("el-row",{staticClass:"mb-10"},[a("el-col",{staticStyle:{"font-size":"16px"},attrs:{span:5}},[t._v("允许线上签约")]),a("el-col",{attrs:{span:17}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.payAccountInfo.allowOnlineSign,callback:function(e){t.$set(t.payAccountInfo,"allowOnlineSign",e)},expression:"payAccountInfo.allowOnlineSign"}},t._l(t.permitSigningList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.comfrimSubmitProjectAccount}},[t._v("确 定")]),a("el-button",{staticClass:"greenBtn",on:{click:function(e){t.dialogProjectMore=!1}}},[t._v("取 消")])],1)])],1):t._e(),t.dialogVisibleTemp?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"合同模板",visible:t.dialogVisibleTemp,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1000px","before-close":t.removeDialogVisibleTemp},on:{"update:visible":function(e){t.dialogVisibleTemp=e}}},[a("div",{staticStyle:{height:"60px","line-height":"60px","font-size":"19px","padding-left":"20px"}},[t._v("编辑合同 "+t._s(t.contractTempInfo.templateName))]),a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:22,offset:1}},[a("quill-editor",{model:{value:t.contractTempInfo.message,callback:function(e){t.$set(t.contractTempInfo,"message",e)},expression:"contractTempInfo.message"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisibleTemp=!1}}},[t._v("确 定")]),a("el-button",{staticClass:"greenBtn",on:{click:t.removeDialogVisibleTemp}},[t._v("取 消")])],1)],1)],1):t._e(),t.dialogSignIncomeCheck?a("div",{staticClass:"my-puple-contract"},[a("el-dialog",{attrs:{title:"请先核对收支",visible:t.dialogSignIncomeCheck,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1060px","before-close":function(){return t.dialogSignIncomeCheck=!1}},on:{"update:visible":function(e){t.dialogSignIncomeCheck=e}}},[a("el-row",[a("el-row",{staticClass:"each-item person-info"},[a("transition-group",{attrs:{name:"el-zoom-in-top"}},t._l(t.signIncomeCheckList,function(e,o){return a("el-col",{key:o,attrs:{span:24}},[a("div",{staticStyle:{height:"40px","line-height":"40px","margin-bottom":"10px"}},[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"choice-exit-type"},[a("div",{class:{"is-choice":"income"==e.type},on:{click:function(e){return t.choiceSignMoneyType("income",o)}}},[t._v("收")]),a("div",{class:{"is-choice":"expend"==e.type},on:{click:function(e){return t.choiceSignMoneyType("expend",o)}}},[t._v("支")])])]),a("el-col",{attrs:{span:2}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"类型"},on:{change:function(e){return t.changeSignIncomePayType(o)}},model:{value:e.payType,callback:function(o){t.$set(e,"payType",o)},expression:"item.payType"}},t._l(t.exitBillList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:3}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"金额",clearable:""},on:{blur:function(e){return t.inputCheckIncomeMoney(o)}},model:{value:e.money,callback:function(o){t.$set(e,"money",o)},expression:"item.money"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:4}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"收款日期","value-format":"yyyy-MM-dd"},on:{blur:t.calculateIncomeMoney},model:{value:e.receiveDate,callback:function(o){t.$set(e,"receiveDate",o)},expression:"item.receiveDate"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:6}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.moneyDuring,callback:function(o){t.$set(e,"moneyDuring",o)},expression:"item.moneyDuring"}})],1),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:2}},[a("el-button",{staticClass:"greenBtn",staticStyle:{position:"relative"},attrs:{size:"small"},on:{click:function(e){return t.signIncomeDescribe(o)}}},[t._v("描述\n                                        "),e.describe&&""!=e.describe?a("i",{staticClass:"el-icon-check",staticStyle:{position:"absolute",bottom:"2px"}}):t._e()])],1),a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-remove-outline",on:{click:function(e){return t.removeSignIncomeList(o)}}}),o==t.signIncomeCheckList.length-1?a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.insertSignIncomeList}}):t._e()]),a("el-col",{staticStyle:{"text-align":"right","padding-right":"20px",color:"#f3893b",cursor:"pointer"},attrs:{span:2}},[e.isExpand?a("span",{on:{click:function(e){return t.expandIncomeTable(o,!1)}}},[t._v("明细"),a("i",{staticClass:"el-icon-arrow-up"})]):a("span",{on:{click:function(e){return t.expandIncomeTable(o,!0)}}},[t._v("明细"),a("i",{staticClass:"el-icon-arrow-down"})])])],1),a("transition",{attrs:{name:"el-zoom-in-top"}},[e.isExpand?a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:20}},[a("div",{staticClass:"income-table"},[a("div",{staticClass:"income-table-header"},[a("div",[t._v("序号")]),a("div",[t._v("费用类型")]),a("div",[t._v("金额")])]),a("div",{staticClass:"income-table-body"},[a("div",{staticClass:"income-table-list"},[a("div",[t._v("1")]),a("div",[t._v(t._s(e.payTypeName||"-"))]),a("div",[t._v(t._s(e.money||0))])])])])]):t._e()],1)],1)}),1),a("el-col",{attrs:{span:24}},[t._v("\n                        第一期总计："),a("span",{staticStyle:{color:"#F3893B"}},[t._v(t._s(t.checkIncomeInfo.totalMoney||0))]),t._v("元\n                    ")])],1)],1),a("div",{staticClass:"deep-bottom-box",staticStyle:{"margin-top":"26px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.comfirmSignIncomeCheck}},[t._v("确 定")])],1)],1)],1):t._e(),t.dialogIncomeDescribeLabel?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"描述",visible:t.dialogIncomeDescribeLabel,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"460px","before-close":t.closeIncomeDescribe},on:{"update:visible":function(e){t.dialogIncomeDescribeLabel=e}}},[a("div",{staticClass:"room-puple-detail"},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:6,maxRows:8},placeholder:"请添加描述内容"},model:{value:t.describeLable.newVal,callback:function(e){t.$set(t.describeLable,"newVal",e)},expression:"describeLable.newVal"}}),a("div",{staticClass:"right-space-btn mt-10"},[a("el-button",{attrs:{type:"primary"},on:{click:t.choicecloseIncomeDescribe}},[t._v("保存")])],1)],1)])],1):t._e(),t.dialogVisibleLastTemp?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"上一份模板",visible:t.dialogVisibleLastTemp,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1200px","before-close":t.removeDialogVisibleTemp},on:{"update:visible":function(e){t.dialogVisibleLastTemp=e}}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("div",{staticStyle:{height:"60px","line-height":"60px","font-size":"19px","padding-left":"20px"}},[t._v(t._s(t.contractTempInfo.templateName))])]),a("el-col",{attrs:{span:11,offset:1}},[a("div",{staticStyle:{height:"60px","line-height":"60px","font-size":"19px","padding-left":"20px"}},[t._v("预览")])])],1),a("el-row",{staticClass:"each-item"},[a("el-col",{attrs:{span:11}},[a("quill-editor",{model:{value:t.contractTempInfo.message,callback:function(e){t.$set(t.contractTempInfo,"message",e)},expression:"contractTempInfo.message"}})],1),a("el-col",{attrs:{span:11,offset:1}},[a("div",{staticClass:"contract-editor-show ql-editor",domProps:{innerHTML:t._s(t.contractTempInfo.message)}})])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisibleLastTemp=!1}}},[t._v("确 定")]),a("el-button",{staticClass:"greenBtn",on:{click:t.removeDialogVisibleTemp}},[t._v("取 消")])],1)],1)],1):t._e(),t.bigImg.isShow?a("div",{staticClass:"show-big-img"},[a("i",{staticClass:"el-icon-close",on:{click:function(e){t.bigImg.isShow=!1}}}),a("div",{staticClass:"big-img-content"})]):t._e(),t.dialogChangePasswd?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"change"==t.password.mode?"修改密码":"重置密码",visible:t.dialogChangePasswd,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"660px","before-close":function(){return t.dialogChangePasswd=!1}},on:{"update:visible":function(e){t.dialogChangePasswd=e}}},[a("div",{staticClass:"my-puple-contract  mb-10"},["change"==t.password.mode?a("el-row",{staticClass:"mb-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:4}},[t._v("旧密码")]),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"password",placeholder:"请输入旧密码"},model:{value:t.password.old,callback:function(e){t.$set(t.password,"old",e)},expression:"password.old"}})],1)],1):t._e(),a("el-row",{staticClass:"mb-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:4}},[t._v("新密码")]),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:t.password.new1,callback:function(e){t.$set(t.password,"new1",e)},expression:"password.new1"}})],1)],1),a("el-row",{staticClass:"mb-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{span:4}},[t._v("确认密码")]),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:t.password.new2,callback:function(e){t.$set(t.password,"new2",e)},expression:"password.new2"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.comfirmSubmitChangePasswd}},[t._v("确定")]),a("el-button",{staticClass:"greenBtn",on:{click:function(e){t.dialogChangePasswd=!1}}},[t._v("取消")])],1)])],1):t._e(),t.timeoutLogin?a("div",{staticClass:"timeout-puple"},[a("div",{staticClass:"timeout-content"},[a("div",{staticClass:"login_box"},[t._m(0),a("div",{staticClass:"input_box"},[a("span",{staticClass:"icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.headerUsername,expression:"headerUsername"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.headerUsername},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.go(e)},input:function(e){e.target.composing||(t.headerUsername=e.target.value)}}})]),a("div",{staticClass:"input_box"},[a("span",{staticClass:"icon icon1"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPassword,expression:"headerPassword"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.headerPassword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.go(e)},input:function(e){e.target.composing||(t.headerPassword=e.target.value)}}})]),a("div",{staticClass:"input_box"},[a("span",{staticClass:"icon icon2"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.verify,expression:"verify"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.verify},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.go(e)},input:function(e){e.target.composing||(t.verify=e.target.value)}}})]),a("div",{staticClass:"clear input_box img_box"},[a("img",{staticClass:"verifyNum",attrs:{src:t.imgsrc},on:{click:t.changeVerify}}),a("span",{staticClass:"changebtn",on:{click:t.changeVerify}},[t._v("看不清，换一张")])]),a("button",{staticClass:"login_btn",on:{click:t.go,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.go(e)}}},[t._v(" 登录")])])])]):t._e(),t.dialogRoomInfo?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"房源信息："+t.contractInfo.orgName,visible:t.dialogRoomInfo,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1240px","before-close":function(){return t.dialogRoomInfo=!1}},on:{"update:visible":function(e){t.dialogRoomInfo=e}}},[a("div",{staticClass:"padding: 20px 30px;"},[a("div",{staticClass:"has-top-tab"},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"收支",name:"pay"}})],1)],1),a("div",{staticClass:"water"},[a("el-table",{key:"pay",ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.houseIncomeTable,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"lesseeName",align:"center",label:"承租人"}}),a("el-table-column",{attrs:{prop:"payerName",align:"center",label:"付款人姓名"}}),a("el-table-column",{attrs:{prop:"payerPhone",align:"center",label:"电话"}}),a("el-table-column",{attrs:{prop:"condition.text",align:"center",label:"状态"}}),a("el-table-column",{attrs:{prop:"billNo",align:"center",label:"账单编号"}}),a("el-table-column",{attrs:{prop:"type.text",align:"center",label:"收费类型"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"金额"}}),a("el-table-column",{attrs:{prop:"duringTime",align:"center",label:"费用周期"}}),a("el-table-column",{attrs:{prop:"prePayTime",align:"center",label:"预/实收时间"}}),a("el-table-column",{attrs:{prop:"operator",align:"center",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!=e.row.billId&&void 0!=e.row.billId&&1==e.row.status.val&&1==e.row.income.val?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(o){return t.roomReceiveMoneyFunc(e.row)}}},[t._v("收款")]):""!=e.row.billId&&void 0!=e.row.billId&&1==e.row.status.val&&0==e.row.income.val?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(o){return t.roomPayMoneyFunc(e.row)}}},[t._v("付款")]):t._e(),1===e.row.conditionVal?a("span",{staticClass:"greenFont tabOperteBtn",on:{click:function(o){return t.changeRoomPrice(e.row)}}},[t._v("修改")]):t._e()]}}],null,!1,373802109)})],1)],1),a("div",{staticClass:"el-page"},[a("el-pagination",{attrs:{background:"","current-page":t.houseIncomeCurrentPage,"page-sizes":[10,20,30,40,50],"page-size":t.houseIncomePageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.houseIncomeTotal},on:{"size-change":t.handleHouseIncomeSizeChange,"current-change":t.handleHouseIncomeCurrentChange}})],1)])])],1):t._e(),t.roomReceiveMoney?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:t.payOrIncome.title,visible:t.roomReceiveMoney,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"700px","before-close":function(){return t.roomReceiveMoney=!1}},on:{"update:visible":function(e){t.roomReceiveMoney=e}}},[a("div",{staticClass:"my-puple-contract"},[a("div",{staticClass:"basic-info"},[a("div",{staticClass:"inner-set-width"},[t._v("房源地址")]),t._v(" "+t._s(t.payOrIncome.orgName))]),a("div",{staticClass:"basic-info"},[a("div",{staticClass:"inner-set-width"},[t._v("承 租 人")]),t._v(" "+t._s(t.payOrIncome.lesseeName)+" "+t._s(t.payOrIncome.payerName)+" "+t._s(t.payOrIncome.payerPhone))]),a("el-row",{staticClass:"mt-10",staticStyle:{"font-size":"14px"}},[a("el-col",{staticClass:"is-required-b",staticStyle:{"font-weight":"bold"},attrs:{span:24}},[t._v(t._s(t.payOrIncome.manTitle))]),a("el-col",{staticClass:"pr-10",attrs:{span:8}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"姓名",clearable:"",readonly:""},model:{value:t.payOrIncome.payerName,callback:function(e){t.$set(t.payOrIncome,"payerName",e)},expression:"payOrIncome.payerName"}})],1),a("el-col",{staticClass:"pr-10",attrs:{span:8}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"手机号",clearable:""},model:{value:t.payOrIncome.payerPhone,callback:function(e){t.$set(t.payOrIncome,"payerPhone",e)},expression:"payOrIncome.payerPhone"}})],1),a("el-col",{staticClass:"pr-10",attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"支付日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.payOrIncome.payTime,callback:function(e){t.$set(t.payOrIncome,"payTime",e)},expression:"payOrIncome.payTime"}})],1)],1),a("div",[a("p",{staticClass:"is-required-b",staticStyle:{"font-weight":"bold"}},[t._v("收支信息")]),t._l(t.incomeCurrentList,function(e,o){return t.incomeCurrentList.length>0?a("el-row",{key:o,staticStyle:{"font-size":"14px","margin-bottom":"10px"}},[a("el-col",{attrs:{span:1}},[a("span",[a("el-checkbox",{on:{change:function(o){return t.moneySelectChange(e)}}})],1)]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[t._v(" "+t._s(e.prePayTime)+" ")]),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"init-font-color"},[t._v(t._s(e.condition.text))])]),a("el-col",{attrs:{span:16}},[a("span",{staticClass:"init-font-color"},[t._v(t._s(e.type.text)+t._s(e.price||0)+"元")])])],1),""==t.incomeCurrentList[o].imgId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:8,offset:1}},[a("el-upload",{attrs:{action:"",multiple:!1,"before-upload":t.getIncomeUploadImg,"show-file-list":!0,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getIncomeUploadImgOrigin("current",o)}}},[a("span",[t._v("添加图片")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:8,offset:1}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.fileName)}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeIncomeUploadImgOrigin("current",o)}}})])])],1):t._e()})],2),a("div",[t.incomeHistoryList.length>0?a("p",{staticStyle:{color:"#d1ccc8"}},[t._v("系统检测到 "+t._s(t.incomeHistoryList[0].prePayTime||"")+" 前未处理应收费用")]):t._e(),t._l(t.incomeHistoryList,function(e,o){return a("el-row",{key:o,staticStyle:{"font-size":"14px","margin-bottom":"10px"}},[a("el-col",{attrs:{span:1}},[a("span",[a("el-checkbox",{on:{change:function(o){return t.moneySelectChange(e)}}})],1)]),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[t._v(" "+t._s(e.prePayTime)+" ")]),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"init-font-color"},[t._v(t._s(e.condition.text))])]),a("el-col",{attrs:{span:16}},[a("span",{staticClass:"init-font-color"},[t._v(t._s(e.type.text)+t._s(e.price||0)+"元")])])],1),""==t.incomeHistoryList[o].imgId?a("el-col",{staticClass:"person-info-ceil",attrs:{span:8,offset:1}},[a("el-upload",{attrs:{action:"",multiple:!1,"show-file-list":!0,"before-upload":t.getIncomeUploadImg,accept:"image"}},[a("div",{staticClass:"input-pic-box",on:{click:function(e){return t.getIncomeUploadImgOrigin("history",o)}}},[a("span",[t._v("添加图片")]),a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("el-col",{staticClass:"person-info-ceil",attrs:{span:8,offset:1}},[a("div",{staticClass:"input-pic-box already-has-img"},[a("span",{domProps:{innerHTML:t._s(e.fileName)}}),a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.removeIncomeUploadImgOrigin("history",o)}}})])])],1)})],2),a("div",{staticStyle:{height:"46px","line-height":"46px"}},[a("span",{staticStyle:{float:"right","font-size":"16px"}},[t._v("合计："),a("span",{staticStyle:{color:"#f3893b"}},[t._v(t._s(t.payOrIncome.totalMoney))]),t._v(" 元")])]),a("div",{staticStyle:{overflow:"hidden"}},[a("el-col",{attrs:{span:12}},[a("div",[a("p",{staticStyle:{"font-weight":"bold"}},[t._v("付款方式")]),a("el-row",[a("el-col",{attrs:{span:23}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择付款方式"},model:{value:t.payOrIncome.payType,callback:function(e){t.$set(t.payOrIncome,"payType",e)},expression:"payOrIncome.payType"}},t._l(t.incomePayTypeList,function(t){return a("el-option",{key:t.val,attrs:{label:t.text,value:t.val}})}),1)],1)],1)],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("p",{staticStyle:{"font-weight":"bold"}},[t._v("备注")]),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入备注",clearable:""},model:{value:t.payOrIncome.label,callback:function(e){t.$set(t.payOrIncome,"label",e)},expression:"payOrIncome.label"}})],1)],1)],1)])],1),t.incomeOtherList.length>0?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticStyle:{float:"right"}},[a("span",{staticClass:"init-font-color"},[t._v("查看其他费用 ")]),a("i",{staticClass:"el-icon-arrow-down"})])])],1),a("el-row",[a("el-col",{attrs:{span:14,offset:10}},[a("div",{staticClass:"pr-10",staticStyle:{"text-align":"right",border:"1px solid #e6e6e6"}},[a("div",[t._v("以下费用将向深圳市忽略有限公司线下收取")]),t._l(t.incomeOtherList,function(e,o){return a("el-col",{key:o},[a("el-col",{attrs:{span:9}},[t._v(t._s(e.prePayTime))]),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"red-color"},[t._v(t._s(e.condition.text))])]),a("el-col",{staticClass:"red-color",attrs:{span:4}},[t._v(t._s(e.type.text))]),a("el-col",{staticClass:"red-color",attrs:{span:7}},[t._v(t._s(e.price||0)+"元")])],1)}),a("div",{staticStyle:{"font-size":"18px"}},[t._v("\n                                    需收合计："),a("span",{staticClass:"red-color"},[t._v(t._s(t.payOrIncome.otherMoney))]),t._v(" 元\n                                ")])],2)])],1)],1):t._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.roomReceiveMoneySubmit}},[t._v(t._s(t.payOrIncome.title))])],1)])],1):t._e(),t.RoomPayInfoEdit?a("div",{staticClass:"my-puple"},[a("el-dialog",{attrs:{title:"修改",visible:t.RoomPayInfoEdit,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"600px","before-close":function(){return t.RoomPayInfoEdit=!1}},on:{"update:visible":function(e){t.RoomPayInfoEdit=e}}},[a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[t._v("租金：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入租金",clearable:"",disabled:""},model:{value:t.roomPayEditInfo.originRentPay,callback:function(e){t.$set(t.roomPayEditInfo,"originRentPay",e)},expression:"roomPayEditInfo.originRentPay"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{staticClass:"is-required-b",attrs:{span:4}},[t._v("金额：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入金额",clearable:""},model:{value:t.roomPayEditInfo.newPay,callback:function(e){t.$set(t.roomPayEditInfo,"newPay",e)},expression:"roomPayEditInfo.newPay"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"18px"}},[a("el-col",{attrs:{span:4}},[t._v("备注：")]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:"请输入备注"},model:{value:t.roomPayEditInfo.label,callback:function(e){t.$set(t.roomPayEditInfo,"label",e)},expression:"roomPayEditInfo.label"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.comfirmSubmitRoomPrice}},[t._v("提 交")])],1)])],1):t._e()])}),s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h1",{staticClass:"login_title"},[o("span",{staticStyle:{color:"#F3893B"}},[t._v("星河盟客")]),t._v(" · 公寓管理系统")])}],c=(o("c9f4"),o("ad5d")),l=o("4878"),d=o("f24a"),p=o.n(d),h=o("90b9"),m=o("b881"),u=o.n(m),f=o("729c"),g=o("48aa"),I={name:"blue-header",props:["list","user"],components:{BaiduMap:c["a"],BmNavigation:l["BmNavigation"],BmLocalSearch:l["BmLocalSearch"],VueUeditorWrap:p.a,quillEditor:m["quillEditor"],deptPersonList:g["a"]},data(){return{brandInfo:"",headerCount:0,useInfo:{},dialogInsertHouse:!1,dialogCustomerSigning:!1,dialogInsertProject:!1,dialogVisibleTemp:!1,dialogVisibleLastTemp:!1,dialogChangePasswd:!1,dialogSignIncomeCheck:!1,dialogIncomeDescribeLabel:!1,dialogRoomInfo:!1,houseIncomeTable:[],houseIncomePageSize:10,houseIncomeCurrentPage:1,houseIncomeTotal:0,roomReceiveMoney:!1,incomeHistoryList:[],incomePayTypeList:[],incomeCurrentList:[],incomeOtherList:[],payOrIncome:{title:"确认收款",roomId:"",billId:"",billDetailId:"",orgName:"",lesseeName:"",payerName:"",payerPhone:"",payTime:"",totalMoney:"",otherMoney:"",payType:"",label:"",imgIndex:"",imgMode:"",income:null},RoomPayInfoEdit:!1,roomPayEditInfo:{billDetailId:"",originRentPay:"",newPay:"",label:""},signIncomeCheckList:[{type:"income",payType:"",payTypeName:"",money:"",receiveDate:"",moneyDuring:[],describe:"",isExpand:!1}],checkIncomeInfo:{compareDate:"",totalMoney:0},exitBillList:[],describeLable:{index:0,originVal:"",newVal:""},hostAddress:"",projectList:[],roomList:[{roomName:"",floor:"",totalFloor:"",towardId:"",acreage:""}],faceDirectionList:[],housingPattern:{room:"",parlour:"",toilet:"",kitchen:"",balcony:""},livingTypeList:[],roomTypeList:[],decorationList:[],payTypeList:[],roomServiceList:[],roomServiceCheckeds:[],roomServiceCheckAll:!1,adss:"",roomDeviceList:[],roomDeviceCheckeds:[],roomServiceDeviceAll:!1,houseUploadImgList:[],insertHouseInfo:{title:"新增房源",mode:"insert",roomId:"",project:"",address:"",roomType:"",decoration:"",priceInfo:{monthPrice:"",lowPrice:"",livingType:""},roomService:"",roomDevice:"",roomDescribe:"",roomImg:""},Numbers:"",cityList:[],provinceList:[],mapInfo:{location:"广东",id:"",longitude:"",latitude:""},insertProjectInfo:{deviceManagerPhone:"",provinceId:"",provinceListShow:!1,cityId:"",projectComfirmTitle:"",project:"",projectName:"",orgId:"",address:"",roomService:[],hotLine:"",roomDescribe:"",imgType:{name:"厨房",value:"4"},roomImg:[],userId:"",userName:"",departmentId:"",departmentName:""},dialogProjectMore:!1,payAccountInfo:{paymentAccountWxId:"",allowReserve:"",allowOnlineSign:""},permitReserveList:[],permitSigningList:[],editProjectPayAccount:[],projectServiceCheckAll:!1,projectServiceCheckeds:[],projectServiceList:[],projectUploadImgList:[],contractInfo:{title:"新增租客合同",contractMode:"insert",orgName:"",contractId:"",roomId:"",roomReserveId:"",type:0,lessee:0,signatureType:"",templateContent:"",waterSurplus:"",electronicSurplus:"",waterSurplusData:"",waterDeviceId:"",electronicSurplusData:"",electronicDeviceId:"",contractStartData:"",contractData:"",payType:"",rentPrice:"",lastPrice:"",originRentPrice:"",rentLowPrice:"",deliveryMethod:"",payPrice:"",totalPayPrice:"",infoRentPrice:"",infoPayPrice:"",reservePrice:"",infoTotalMoney:"",inheritDeposit:"",isExtended:!0,addtionTotalMoney:"",allTotalMoney:"",riseMode:"",riseRate:"",discountChoice:"",payWay:"",includeDeposit:"",addtionContent:"",fileId:"",waterFee:{feeType:"1",included:1,payType:"1",personName:""},electricFee:{feeType:"2",included:1,payType:"1",personName:""},propertyFee:{feeType:"3",included:1,payType:"1",personName:""},emergeName:"",emergePhone:""},contractPersonInfo:{personName:"",gender:"",phone:"",cardType:"",cardNo:"",frontPicId:"",frontPicUrl:"",frontPicName:"",backPicId:"",backPicUrl:"",backPicName:"",otherPicId:"",otherPicUrl:"",otherPicName:"",bank:"",backCardNo:"",discount:""},contractEnterpriseInfo:{enterpriseId:"",rentPayType:"",bank:"",bankNo:"",frontPicId:"",frontPicUrl:"",frontPicName:"",backPicId:"",backPicUrl:"",backPicName:"",otherPicId:"",otherPicUrl:"",otherPicName:""},contractPersonList:[{personName:"",gender:"",phone:"",cardType:"",cardNo:"",payRent:"",frontPicId:"",frontPicName:"",frontPicUrl:"",backPicId:"",backPicName:"",backPicUrl:"",otherPicId:"",otherPicName:"",otherPicUrl:"",bank:"",bankCardNo:""}],contractEnterpriseList:[{personName:"",gender:"",phone:"",cardType:"",cardNo:"",payRent:"",frontPicId:"",frontPicUrl:"",frontPicName:"",backPicId:"",backPicUrl:"",backPicName:"",otherPicId:"",otherPicUrl:"",otherPicName:"",bank:"",bankCardNo:""}],contractAdditPFees:[{feeContent:"",payOne:"",totalMoney:""}],contractAdditEFees:[{feeContent:"",payOne:"",totalMoney:"",payType:"",payRent:"0"}],contractPayType:[{name:"个人",value:"0"},{name:"企业",value:"1"}],signatureTypeList:[{name:"当前签约",value:"1"},{name:"历史签约",value:"2"}],dialogVisibleHandle:!1,cardTypeList:[],contractRoomList:[],contractTemplateList:[],loadingReqRoom:!1,bankNameList:[],enterpriseList:[],contractUploadInfo:{choiceMode:"",itemName:"",index:""},discountList:[],personRentRiseYear:[],uploadFile:{name:"",fileId:"",url:""},depositTypeList:[],depositMonetList:[],msg:77,contractTempInfo:{id:"",message:"请输入内容",templateName:"",type:"1",url:"",myConfig:{autoHeightEnabled:!1,initialFrameHeight:480,initialFrameWidth:"100%",serverUrl:"http://35.201.165.105:8000/controller.php",UEDITOR_HOME_URL:"UEditor/"}},additionPayList:[{name:"一次性收取",val:0}],fromRemoteInsert:!1,roomHasReserved:{name:"",phone:"",orgName:""},bigImg:{isShow:!1,url:""},subMitType:"",password:{mode:"change",old:"",new1:"",new2:""},setProjectModes:"",timeoutLogin:!1,imgsrc:"",headerUsername:"",headerPassword:"",verify:"",canClear:!0,isAlert:!1}},created(){this.$store.getters.getLoginInfo.isLogin&&(this.getProvince(),this.updeteLogo())},mounted(){this.$root.Bus.$on("changeSelec",t=>{t&&this.getBillGenerateInfo(t)})},watch:{"$store.getters.getPeojectList"(){this.projectList=this.$store.getters.getPeojectList},"$store.getters.gettaCity"(){this.cityList=JSON.parse(JSON.stringify(this.$store.getters.gettaCity));for(var t=0;t<this.cityList.length;t++)"广东"==this.cityList[t].cityName&&(this.insertProjectInfo.project=this.cityList[t].id,this.mapInfo.location="广东",this.mapInfo.id=this.cityList[t].id)},"$store.getters.getProjectInfo.projectId"(){"edit"==this.$store.getters.getProjectInfo.mode&&""!=this.$store.getters.getProjectInfo.projectId&&(this.insertProjectInfo.project=this.$store.getters.getProjectInfo.projectId,this.insertProjectInfo.cityId=this.$store.getters.getProjectInfo.cityId,this.insertProjectInfo.provinceId=this.$store.getters.getProjectInfo.provinceId,this.changeProvinceList(),this.enterInsertProject("edit"))},"$store.getters.getHouseInfo.roomId"(){"edit"==this.$store.getters.getHouseInfo.mode&&""!=this.$store.getters.getHouseInfo.roomId&&(this.insertHouseInfo.roomId=this.$store.getters.getHouseInfo.roomId,this.enterInsertHouse("edit"))},"$store.getters.getContractInof.count"(){this.contractInitData(),"edit"==this.$store.getters.getContractInof.mode?(this.contractInfo.title="编辑租客合同",this.enterInsertConcat("eidt")):"insert"==this.$store.getters.getContractInof.mode?(this.contractInfo.title="签约租客合同",this.contractInfo.roomId=this.$store.getters.getContractInof.roomId,this.contractInfo.contractId=this.$store.getters.getContractInof.contractId,this.enterInsertConcat("insert")):"detail"==this.$store.getters.getContractInof.mode?(this.contractInfo.title="合同详情",this.contractInfo.contractId=this.$store.getters.getContractInof.contractId,this.enterInsertConcat("detail")):(this.contractInfo.title="续签租客合同",this.contractInfo.contractId=this.$store.getters.getContractInof.contractId,this.enterInsertConcat("extend"))},"contractInfo.contractData"(){var t=0;if(this.contractInfo.contractData&&this.contractInfo.contractData.length>4){this.personRentRiseYear=[],t=parseInt(this.contractInfo.contractData.substring(0,4));const o=new Date;let a=o.getFullYear(),n=t-a;if(n>0)for(var e=0;e<n;e++)this.personRentRiseYear.push(e+1);"detail"!=this.contractInfo.contractMode&&this.getDiscountList()}else this.contractInfo.discountChoice="",this.discountList=[]},"contractInfo.contractStartData"(){this.getContractMonthHas(),"detail"!=this.contractInfo.contractMode&&this.getDiscountList(),this.contractInfo.roomId&&""!=this.contractInfo.roomId&&""!==this.contractInfo.deliveryMethod&&this.getContractMoney(),this.contractInfo.contractStartData&&""!=this.contractInfo.contractStartData&&"2"==this.contractInfo.signatureType?this.contractInfo.signatureType="":"1"==this.contractInfo.signatureType&&this.getContractStartData()},"$store.getters.getLoginInfo.count"(){!this.$store.getters.getLoginInfo.isLogin&&this.$store.getters.getLoginInfo.showNav&&(localStorage["user"]&&""!=localStorage["user"]?(this.timeoutLogin=!0,this.canClear&&(localStorage.removeItem("user"),this.canClear=!1),this.changeVerify()):this.canClear&&(this.$router.push({path:"/login"}),this.$store.commit("setLogin",{isLogin:!1,showNav:!1})))},"$route.name"(){this.headerCount++;var t=localStorage["user"]&&""!=localStorage["user"]?localStorage["user"]:"";if(""!=t){let c=JSON.parse(t),l=c.resourceList||[],d=c.headerResource||{};for(var e=[],o=0;o<l.length;o++)if(l[o].childList&&l[o].childList.length>0)for(var n=0;n<l[o].childList.length;n++)l[o].childList[n].url==this.$route.path&&(e=l[o].childList[n].childList||[]);var i=[];if(e.length>0)for(var r=0;r<e.length;r++)i.push(e[r].code||"");if(this.headerCount<=2){var s=[];if(d.code&&""!=d.code&&s.push(d.code),d.childList&&d.childList.length>0)for(r=0;r<d.childList.length;r++)s=s.concat(d.childList[r].codeList||[]);a["default"].prototype.$headerAuth=s}a["default"].prototype.$authority=i}},"$store.getters.getBillInfo.count"(){var t=JSON.parse(this.$store.getters.getBillInfo.item);this.changeRoomPrice(t)}},methods:{comfirmSubmitRoomPrice(){if(""==this.roomPayEditInfo.newPay)return this.$message({message:"请输入金额！",type:"error"});this.$http.post("/api/bill/updatePrice",{roomId:this.payOrIncome.roomId,billDetailId:this.roomPayEditInfo.billDetailId,oldPrice:this.roomPayEditInfo.originRentPay,newPrice:this.roomPayEditInfo.newPay,info:this.roomPayEditInfo.label}).then(t=>{var e=t.data;0==e.errorCode&&setTimeout(()=>{this.$message({message:"编辑成功！",type:"success"}),this.RoomPayInfoEdit=!1,this.getRoomRecordTable()},1e3)}).catch(function(t){console.log(t)})},changeRoomPrice(t){this.RoomPayInfoEdit=!0,this.roomPayEditInfo.originRentPay=t.price,this.roomPayEditInfo.billDetailId=t.billDetailId},roomReceiveMoneySubmit(){if(void 0==this.payOrIncome.payTime||""==this.payOrIncome.payTime||null==this.payOrIncome.payTime)return this.$message({message:"请选择支付日期！",type:"error"});if(void 0==this.payOrIncome.payType||""==this.payOrIncome.payType)return this.$message({message:"请选择支付类型！",type:"error"});var t=[],e=[];if(this.incomeCurrentList.length>0)for(var o=0;o<this.incomeCurrentList.length;o++)this.incomeCurrentList[o].isSelect&&t.push({billDetailId:this.incomeCurrentList[o].billDetailId,fileId:this.incomeCurrentList[o].imgId});if(this.incomeHistoryList.length>0)for(o=0;o<this.incomeHistoryList.length;o++)this.incomeHistoryList[o].isSelect&&e.push({billDetailId:this.incomeHistoryList[o].billDetailId,fileId:this.incomeHistoryList[o].imgId});var a={roomId:this.payOrIncome.roomId,time:this.payOrIncome.payTime,price:this.payOrIncome.totalMoney,current:t,history:e,info:this.payOrIncome.label,offlinePayType:this.payOrIncome.payType};this.$http.post("/api/bill/complete",a).then(t=>{var e=t.data;0==e.errorCode&&setTimeout(()=>{this.$message({message:"编辑成功！",type:"success"}),this.roomReceiveMoney=!1,this.getRoomRecordTable()},1e3)}).catch(function(t){console.log(t)})},getRoomRecordTable(){var t=`/api/bill/findDetails?currentPage=${this.houseIncomeCurrentPage}&pageSize=${this.houseIncomePageSize}`;this.$http.get(t,{params:{roomId:this.contractInfo.roomId,orgId:this.contractInfo.orgId}}).then(t=>{var e=t.data;if(0==e.errorCode){e.data.content.map((t,e,o)=>{"record"!=this.accountActiveTab&&(void 0==t.billId?t.itemck=!1:t.itemck=!0),t.check=!1,t.inx=e}),this.houseIncomeTable=JSON.parse(JSON.stringify(e.data.content)),this.houseIncomeTotal=e.data.total;for(var o=0;o<this.houseIncomeTable.length;o++)""!=this.houseIncomeTable[o].startTime&&(this.houseIncomeTable[o].startTime=this.houseIncomeTable[o].startTime.substring(0,10)),""!=this.houseIncomeTable[o].endTime&&(this.houseIncomeTable[o].endTime=this.houseIncomeTable[o].endTime.substring(0,10)),""!=this.houseIncomeTable[o].prePayTime&&(this.houseIncomeTable[o].prePayTime=this.houseIncomeTable[o].prePayTime.substring(0,10)),this.houseIncomeTable[o].duringTime=this.houseIncomeTable[o].startTime+"~"+this.houseIncomeTable[o].endTime,this.houseIncomeTable[o].count=Number(o)+1,this.houseIncomeTable[o].conditionVal=this.houseIncomeTable[o].condition.val;this.dialogRoomInfo=!0}}).catch(function(t){console.log(t)})},handleHouseIncomeSizeChange(t){this.houseIncomeCurrentPage=1,this.houseIncomePageSize=t,this.getRoomRecordTable()},handleHouseIncomeCurrentChange(t){this.houseIncomeCurrentPage=t,this.getRoomRecordTable()},roomReceiveMoneyFunc(t){this.payOrIncome.title="确认收款",this.payOrIncome.manTitle="付款人",this.payOrIncome.roomId=t.roomId,this.payOrIncome.billId=t.billId,this.payOrIncome.billDetailId=t.billDetailId,this.payOrIncome.orgName=t.orgName,this.payOrIncome.lesseeName=t.lesseeName,this.payOrIncome.payerName=t.payerName,this.payOrIncome.payerPhone=t.payerPhone,this.payOrIncome.payTime=t.payTime,this.payOrIncome.payType="",this.getMoneyInfoDetail()},roomPayMoneyFunc(t){this.payOrIncome.title="确认付款",this.payOrIncome.manTitle="收款人",this.payOrIncome.roomId=t.roomId,this.payOrIncome.billId=t.billId,this.payOrIncome.billDetailId=t.billDetailId,this.payOrIncome.orgName=t.orgName,this.payOrIncome.lesseeName=t.lesseeName,this.payOrIncome.payerName=t.payerName,this.payOrIncome.payerPhone=t.payerPhone,this.payOrIncome.payTime=t.payTime,this.payOrIncome.payType="",this.getMoneyInfoDetail()},moneySelectChange(t){t.isSelect=!t.isSelect;var e=0;if(this.incomeCurrentList.length>0)for(var o=0;o<this.incomeCurrentList.length;o++)this.incomeCurrentList[o].isSelect&&(1==this.incomeCurrentList[o].income.val?e+=this.incomeCurrentList[o].price:e-=this.incomeCurrentList[o].price);if(this.incomeHistoryList.length>0)for(o=0;o<this.incomeHistoryList.length;o++)this.incomeHistoryList[o].isSelect&&(1==this.incomeHistoryList[o].income.val?e+=this.incomeHistoryList[o].price:e-=this.incomeHistoryList[o].price);this.payOrIncome.totalMoney=Number(e).toFixed(2)},getMoneyInfoDetail(){this.$http.get("/api/bill/findUnpaidDetails",{params:{roomId:this.payOrIncome.roomId,billId:this.payOrIncome.billId,billDetailId:this.payOrIncome.billDetailId}}).then(t=>{var e=t.data;if(0==e.errorCode&&e.result){this.incomeCurrentList=e.data.current||[],this.incomeHistoryList=e.data.history||[],this.incomeOtherList=e.data.other||[];var o=0;if(this.incomeCurrentList.length>0)for(var a=0;a<this.incomeCurrentList.length;a++)this.incomeCurrentList[a].imgId="",this.incomeCurrentList[a].fileName="",this.incomeCurrentList[a].isSelect=!1;if(this.incomeHistoryList.length>0)for(a=0;a<this.incomeHistoryList.length;a++)this.incomeHistoryList[a].imgId="",this.incomeHistoryList[a].fileName="",this.incomeHistoryList[a].isSelect=!1;if(this.incomeOtherList.length>0)for(a=0;a<this.incomeOtherList.length;a++)this.incomeOtherList[a].imgId="",this.incomeOtherList[a].fileName="",1==this.incomeOtherList[a].income.val?o+=this.incomeOtherList[a].price:o-=this.incomeOtherList[a].price;this.payOrIncome.totalMoney=Number(0).toFixed(2),this.payOrIncome.otherMoney=o,this.roomReceiveMoney=!0,this.getIncomePayTypeList()}}).catch(function(t){console.log(t)})},getIncomePayTypeList(){this.$http.get("/api/bill/findOfflinePayTypes").then(t=>{var e=t.data;0==e.errorCode&&(this.incomePayTypeList=e.data||[])}).catch(function(t){console.log(t)})},getIncomeUploadImg(t){const e=t.size/1024/1024<3;if(!e)return this.$message({message:"上传图片大小不能超过 3MB!",type:"error"});let o=new FormData;o.append("file",t),this.$http({method:"post",url:"./api/file/uploadthumbCompress",data:o}).then(e=>{var o=e.data;if(0==o.errorCode){var a=this.payOrIncome.imgIndex,n={};"current"==this.payOrIncome.imgMode?(n=this.incomeCurrentList[a],n.imgId=o.data.id,n.fileName=t.name,this.$set(this.incomeCurrentList,a,n)):"history"==this.payOrIncome.imgMode?(n=this.incomeHistoryList[a],n.imgId=o.data.id,n.fileName=t.name,this.$set(this.incomeHistoryList,a,n)):(n=this.incomeOtherList[a],n.imgId=o.data.id,n.fileName=t.name,this.$set(this.incomeOtherList,a,n))}})},getIncomeUploadImgOrigin(t,e){this.payOrIncome.imgMode=t,this.payOrIncome.imgIndex=e},removeIncomeUploadImgOrigin(t,e){var o={};"current"==t?(o=this.incomeCurrentList[e],o.imgId="",o.fileName="",this.$set(this.incomeCurrentList,e,o)):"history"==t&&(o=this.incomeHistoryList[e],o.imgId="",o.fileName="",this.$set(this.incomeHistoryList,e,o))},updeteLogo(){window.localStorage["brandInfo"]&&this.$set(this,"brandInfo",JSON.parse(window.localStorage["brandInfo"]).brandLogoUrl)},changeVerify(){this.imgsrc="./api/auth/verify_image?time="+(new Date).getTime()},go(){if(!this.headerUsername)return this.isAlert=!0,this.$message({message:"请输入用户名!",type:"error"});if(!this.headerPassword)return this.$message({message:"请输入密码!",type:"error"});if(!this.verify)return this.$message({message:"请输入验证码!",type:"error"});var t={password:this.headerPassword,username:this.headerUsername,verifyCode:this.verify};this.$http.post("/api/auth/login",t).then(t=>{if(0==t.data.errorCode){for(var e=t.data.data,o=e.resourceList||[],a=0;a<o.length;a++)"/"==o[a].url?o[a].iconClass="el-icon-s-home":"/contract"==o[a].url?o[a].iconClass="el-icon-s-check":"/account"==o[a].url?o[a].iconClass="el-icon-s-order":"/operate"==o[a].url?o[a].iconClass="el-icon-s-marketing":"/statistics"==o[a].url?o[a].iconClass="el-icon-s-data":"/dailyRent"==o[a].url?o[a].iconClass="el-icon-s-shop":"/setting"==o[a].url?o[a].iconClass="el-icon-s-tools":o[a].iconClass="el-icon-menu";e.resourceList=o,localStorage["user"]=JSON.stringify(e),this.$message({showClose:!0,message:"登录成功",type:"success"}),setTimeout(()=>{location.reload()},800)}else this.changeVerify(),this.verify=""})},initInsertHouse(){this.houseGetServiceList(),this.houseGetFaceDirectList(),this.houseGetRoomTypeList(),this.houseGetDecorationList(),this.houseGetRoomDeviceList(),this.houseGetPayTypeList(),this.getPeojectList("")},initInsertProject(){this.houseGetServiceList(),this.projectGetServiceList()},initInsertConcat(){this.uploadFile.name="",this.uploadFile.fileId="",this.uploadFile.url="",this.getCardTypeList(),this.getBankNameList(),this.getEnterpriseList(),this.houseGetPayTypeList(),this.depositTypeList=[]},changeProvinceList(){let t=this;this.$http.get(`/api/org/getCity?pid=${t.insertProjectInfo.provinceId}&type=2`).then(e=>{t.cityList=e.data.data})},getPeojectList(t){this.$http.get("/api/room/getOrgListForAddRoom",{params:{cityId:t}}).then(t=>{var e=t.data;0==e.errorCode&&(this.projectList=e.data||[],""!=this.insertHouseInfo.project&&this.houseChoiceProject())}).catch(function(t){console.log(t)})},houseChoiceProject(){for(var t in this.insertHouseInfo.address="",this.projectList)this.projectList[t].orgId==this.insertHouseInfo.project&&(this.insertHouseInfo.address=this.projectList[t].address)},houseInsertRoom(){this.roomList.push({roomName:"",floor:"",totalFloor:"",towardId:"",acreage:""})},houseDeleteRoom(t){this.roomList.length>1&&this.roomList.splice(t,1)},houseGetServiceList(){this.$http.get("/api/room/getAllRoomService").then(t=>{var e=t.data;0==e.errorCode&&(this.roomServiceList=e.data||[])}).catch(function(t){console.log(t)})},houseGetRoomTypeList(){this.$http.get("/api/room/getRoomType").then(t=>{var e=t.data;0==e.errorCode&&(this.roomTypeList=e.data||[])}).catch(function(t){console.log(t)})},houseGetDecorationList(){this.$http.get("/api/room/getRoomDecoration").then(t=>{var e=t.data;0==e.errorCode&&(this.decorationList=e.data||[])}).catch(function(t){console.log(t)})},houseGetFaceDirectList(){this.$http.get("/api/room/getRoomToward").then(t=>{var e=t.data;0==e.errorCode&&(this.faceDirectionList=e.data||[])}).catch(function(t){console.log(t)})},houseGetRoomDeviceList(){this.$http.get("/api/room/getAllRoomConfig").then(t=>{var e=t.data;0==e.errorCode&&(this.roomDeviceList=e.data||[])}).catch(function(t){console.log(t)})},houseGetPayTypeList(){this.$http.get("/api/room/getRoomDeliveryMethod").then(t=>{var e=t.data;0==e.errorCode&&(this.payTypeList=e.data||[])}).catch(function(t){console.log(t)})},houseUploadImgPreview(t){const e=t.size/1024/1024<3;if(!e)return this.$message({message:"上传图片大小不能超过 3MB!",type:"error"});if(this.houseUploadImgList.length>24)return this.$message({message:"最多只能上传24张图片!",type:"error"});let o=new FormData;o.append("file",t),this.$http({method:"post",url:"./api/file/uploadthumbCompress",data:o}).then(t=>{var e=t.data;if(0==e.errorCode){if(this.houseUploadImgList.length>24)return this.$message({message:"最多只能上传24张图片!",type:"error"});this.houseUploadImgList.push({id:e.data.id,minPic:e.data.thumb_1,maxPic:e.data.thumb_2,originPic:e.data.url})}})},removeUploadImgItem(t){this.dialogInsertHouse?this.houseUploadImgList.splice(t,1):this.dialogInsertProject&&this.projectUploadImgList.splice(t,1)},getCheckedChoiceVal(t,e){var o=[];if(t.length<1)return o;for(var a=0;a<t.length;a++)for(var n=0;n<e.length;n++)t[a]==e[n].name&&(this.dialogInsertHouse?o.push(e[n].roomCodeId):o.push(e[n].orgCodeId));return o},setCheckedChoiceAll(t,e="all"){if("all"==e){for(var o=[],a=0;a<t.length;a++)o.push(t[a].name);return o}return[]},setNewCheckedChoiceAll(t,e="all"){if("all"==e){for(var o=[],a=0;a<t.length;a++)o.push(t[a].orgServiceId);return o}return[]},handleCheckAllChange(t){"service"==t?(this.roomServiceCheckAll=!this.roomServiceCheckAll,this.roomServiceCheckeds=this.setCheckedChoiceAll(this.roomServiceList,this.roomServiceCheckAll?"all":"none")):(this.roomServiceDeviceAll=!this.roomServiceDeviceAll,this.roomDeviceCheckeds=this.setCheckedChoiceAll(this.roomDeviceList,this.roomServiceDeviceAll?"all":"none"))},closeInsertHousePuple(){this.dialogInsertHouse=!1,this.$store.commit("setHouseMode",{mode:"insert",roomId:""})},closeDialogCustomerSigning(){this.contractInfo.roomId="",this.contractInfo.contractId="",this.fromRemoteInsert=!1,this.dialogCustomerSigning=!1,this.contractInitData()},closeProjectPuple(){this.dialogInsertProject=!1,this.$store.commit("setProjectMode",{mode:"insert",projectId:""})},enterInsertHouse(t="insert"){"insert"==t?(this.insertHouseInfo.title="新增房间",this.insertHouseInfo.mode="insert",this.roomList=[{roomName:"",floor:"",totalFloor:"",towardId:"",acreage:""}],this.housingPattern.room="",this.housingPattern.parlour="",this.housingPattern.toilet="",this.housingPattern.kitchen="",this.housingPattern.balcony="",this.roomServiceCheckAll=!1,this.roomServiceDeviceAll=!1,this.roomServiceCheckeds=[],this.roomDeviceCheckeds=[],this.houseUploadImgList=[],this.insertHouseInfo.project="",this.insertHouseInfo.address="",this.insertHouseInfo.roomType="",this.insertHouseInfo.decoration="",this.insertHouseInfo.priceInfo.monthPrice="",this.insertHouseInfo.priceInfo.lowPrice="",this.insertHouseInfo.priceInfo.livingType="",this.insertHouseInfo.roomService="",this.insertHouseInfo.roomDevice="",this.insertHouseInfo.roomDescribe="",this.insertHouseInfo.roomImg=""):(this.insertHouseInfo.title="编辑房间",this.insertHouseInfo.mode="edit",this.getEditHouseInfo()),this.initInsertHouse(),this.dialogInsertHouse=!0},getEditHouseInfo(){this.$http.get("/api/room/getRoomInfo",{params:{roomId:this.insertHouseInfo.roomId}}).then(t=>{var e=t.data;if(0==e.errorCode){if(this.roomList=[],this.roomList.push({roomName:e.data.roomName,floor:e.data.floor,totalFloor:e.data.totalFloor,towardId:e.data.towardId,acreage:e.data.acreage}),this.housingPattern.room=e.data.bedroom,this.housingPattern.parlour=e.data.hall,this.housingPattern.toilet=e.data.toilet,this.housingPattern.kitchen=e.data.kitchen,this.housingPattern.balcony=e.data.balcony,this.insertHouseInfo.project=e.data.orgId,this.insertHouseInfo.roomType=e.data.roomType,this.insertHouseInfo.decoration=e.data.roomDecoration,this.insertHouseInfo.roomDescribe=e.data.info,this.insertHouseInfo.priceInfo.monthPrice=e.data.price,this.insertHouseInfo.priceInfo.lowPrice=e.data.lowPrice,this.insertHouseInfo.priceInfo.livingType=e.data.deliveryMethod,e.data.roomSericeList&&e.data.roomSericeList.length>0)for(var o=0;o<e.data.roomSericeList.length;o++)this.roomServiceCheckeds.push(e.data.roomSericeList[o].name);if(e.data.roomConfigList&&e.data.roomConfigList.length>0)for(o=0;o<e.data.roomConfigList.length;o++)this.roomDeviceCheckeds.push(e.data.roomConfigList[o].name);this.houseUploadImgList=[];for(o=0;o<e.data.roomImg.length;o++)this.houseUploadImgList.push({id:e.data.roomImg[o].id,minPic:e.data.roomImg[o].thumb_1,maxPic:e.data.roomImg[o].thumb_2,originPic:e.data.roomImg[o].url})}}).catch(function(t){console.log(t)})},houseInsertComfirmSubmit(){if(""==this.insertHouseInfo.project)return this.$message({message:"项目不能为空!",type:"error"});if(""==this.insertHouseInfo.roomType)return this.$message({message:"房屋类型不能为空!",type:"error"});if(""==this.insertHouseInfo.decoration)return this.$message({message:"请选择装修情况!",type:"error"});if(""==this.insertHouseInfo.roomDescribe)return this.$message({message:"房源描述不能为空!",type:"error"});if(this.houseUploadImgList.length<1)return this.$message({message:"请上传房屋图片!",type:"error"});if(this.roomServiceCheckeds.length>0){let o=[];o=this.getCheckedChoiceVal(this.roomServiceCheckeds,this.roomServiceList);for(var t=[],e=0;e<o.length;e++)-1==t.indexOf(o[e])&&t.push(o[e]);this.insertHouseInfo.roomService=t.join(",")}else this.insertHouseInfo.roomService="";if(this.roomDeviceCheckeds.length>0){let o=[];o=this.getCheckedChoiceVal(this.roomDeviceCheckeds,this.roomDeviceList);for(t=[],e=0;e<o.length;e++)-1==t.indexOf(o[e])&&t.push(o[e]);this.insertHouseInfo.roomDevice=t.join(",")}else this.insertHouseInfo.roomDevice="";if(this.insertHouseInfo.roomImg=[],this.houseUploadImgList.length>0){let t=[];for(var o=0;o<this.houseUploadImgList.length;o++)t.push(this.houseUploadImgList[o].id);this.insertHouseInfo.roomImg=t.join(",")}else this.insertHouseInfo.roomImg="";var a={orgId:this.insertHouseInfo.project,roomInfoList:this.roomList,bedroom:this.housingPattern.room,hall:this.housingPattern.parlour,toilet:this.housingPattern.toilet,kitchen:this.housingPattern.kitchen,balcony:this.housingPattern.balcony,typeId:this.insertHouseInfo.roomType,decorationId:this.insertHouseInfo.decoration,price:this.insertHouseInfo.priceInfo.monthPrice,lowPrice:this.insertHouseInfo.priceInfo.lowPrice,deliveryMethod:this.insertHouseInfo.priceInfo.livingType,roomServiceIds:this.insertHouseInfo.roomService,roomConfigIds:this.insertHouseInfo.roomDevice,info:this.insertHouseInfo.roomDescribe,imgIds:this.insertHouseInfo.roomImg},n="";"insert"==this.insertHouseInfo.mode?n="/api/room/addRoom":(n="/api/room/updateRoom",a.roomId=this.insertHouseInfo.roomId),this.$http.post(n,a).then(t=>{var e=t.data;0==e.errorCode&&("insert"==this.insertHouseInfo.mode?this.$message({message:"新增成功！",type:"success"}):(this.$message({message:"编辑成功！",type:"success"}),this.$store.commit("setStoreEdit",{count:1,which:"house"})),setTimeout(()=>{this.closeInsertHousePuple()},1e3))}).catch(function(t){console.log(t)})},getSelectPerson(t){this.insertProjectInfo.userId=t.userId,this.insertProjectInfo.userName=t.employeeName,this.insertProjectInfo.departmentId=t.departmentId,this.insertProjectInfo.departmentName=t.departmentName||""},async enterInsertProject(t="insert"){if(this.getProvince(),"insert"==t)this.insertProjectInfo.cityId="",this.insertProjectInfo.projectComfirmTitle="新增",this.subMitType="insert",this.insertProjectInfo.project="",this.insertProjectInfo.deviceManagerPhone="",this.mapInfo.longitude="",this.insertProjectInfo.provinceId="",this.mapInfo.latitude="",this.projectUploadImgList=[],this.projectServiceCheckeds=[],this.projectServiceCheckAll=!1,this.insertProjectInfo.projectName="",this.insertProjectInfo.address="",this.insertProjectInfo.roomService=[],this.insertProjectInfo.hotLine="",this.insertProjectInfo.imgType.name="厨房",this.insertProjectInfo.imgType.value="4",this.insertProjectInfo.roomDescribe="",this.insertProjectInfo.roomImg=[],this.initInsertProject(),this.insertProjectInfo.provinceListShow=!0,this.insertProjectInfo.userId="",this.insertProjectInfo.userName="",this.insertProjectInfo.departmentId="",this.insertProjectInfo.departmentName="",this.dialogInsertProject=!0;else{this.insertProjectInfo.provinceListShow=!1,this.subMitType="upde",this.insertProjectInfo.projectComfirmTitle="编辑";let t=await this.$http.get(`/api/org/getOrgInfo?orgId=${this.insertProjectInfo.project}`);if(t=t.data,0===t.errorCode){this.mapInfo.longitude=t.data.longitude,this.mapInfo.latitude=t.data.latitude,console.log(this.mapInfo),t.data.orgImg.map((t,e,o)=>{t.maxPic=t.url,t.id=t.pubFileId,t.imgVal=t.orgPicType,0===t.orgPicType?t.imgName="环境":1===t.orgPicType?t.imgName="楼道":2===t.orgPicType?t.imgName="客厅":3===t.orgPicType?t.imgName="卧室":4===t.orgPicType?t.imgName="厨房":5===t.orgPicType?t.imgName="卫生间":6===t.orgPicType?t.imgName="户型图":t.imgName="其他"}),this.projectUploadImgList=[],this.projectUploadImgList=t.data.orgImg,this.projectServiceCheckeds=[];for(let e=0;e<t.data.orgService.length;e++)this.projectServiceCheckeds.push(t.data.orgService[e].name);this.insertProjectInfo.deviceManagerPhone=t.data.deviceManagerPhone,this.insertProjectInfo.orgId=t.data.orgId,this.projectServiceCheckAll=!1,this.insertProjectInfo.projectName=t.data.orgName,this.insertProjectInfo.address=t.data.address,this.insertProjectInfo.roomService=[],this.insertProjectInfo.hotLine=t.data.phone,this.insertProjectInfo.imgType.name="厨房",this.insertProjectInfo.imgType.value="4",this.insertProjectInfo.roomDescribe=t.data.info,this.insertProjectInfo.roomImg=[],this.initInsertProject(),this.dialogInsertProject=!0,this.$nextTick(()=>{this.insertProjectInfo.userId=t.data.managerId||"",this.insertProjectInfo.userName=t.data.managerName||"",this.insertProjectInfo.departmentId=t.data.departmentId||"",this.insertProjectInfo.departmentName=t.data.departmentName||""})}}this.getProvince()},projectGetServiceList(){this.$http.get("/api/org/getOrgService").then(t=>{var e=t.data;0==e.errorCode&&(this.projectServiceList=e.data||[])}).catch(function(t){console.log(t)})},projectCheckAllChange(){this.projectServiceCheckAll=!this.projectServiceCheckAll,this.projectServiceCheckeds=this.setCheckedChoiceAll(this.roomServiceList,this.projectServiceCheckAll?"all":"none"),console.log(this.projectServiceCheckeds)},getUploadImgType(t){t=t||window.event;var e=t.target||t.srcElement;this.insertProjectInfo.imgType.name=e.innerHTML,this.insertProjectInfo.imgType.value=e.id},projectUploadImgPreview(t){const e=t.size/1024/1024<3;if(!e)return this.$message({message:"上传图片大小不能超过 3MB!",type:"error"});if(this.houseUploadImgList.length>24)return this.$message({message:"最多只能上传24张图片!",type:"error"});for(var o=0,a=0;a<this.projectUploadImgList.length;a++)this.insertProjectInfo.imgType.name==this.projectUploadImgList[a].imgName&&o++;if(o>2)return this.$message({message:"同种类型只能上传3张图片!",type:"error"});let n=new FormData;n.append("file",t),this.$http({method:"post",url:"./api/file/uploadthumbCompress",data:n}).then(t=>{var e=t.data;if(0==e.errorCode){if(this.houseUploadImgList.length>24)return this.$message({message:"最多只能上传24张图片!",type:"error"});for(var o=0,a=0;a<this.projectUploadImgList.length;a++)this.insertProjectInfo.imgType.name==this.projectUploadImgList[a].imgName&&o++;if(o>2)return this.$message({message:"同种类型只能上传3张图片!",type:"error"});this.projectUploadImgList.push({id:e.data.id,minPic:e.data.thumb_1,maxPic:e.data.thumb_2,originPic:e.data.url,imgName:this.insertProjectInfo.imgType.name,imgVal:this.insertProjectInfo.imgType.value})}})},changeChoiceProjectVal(t){for(var e=0;e<this.cityList.length;e++){if(t===this.cityList[e].id){this.adss=this.cityList[e].cityName;break}this.cityList[e].id==this.insertProjectInfo.project&&(this.mapInfo.location=this.cityList[e].cityName,this.mapInfo.id=this.cityList[e].id)}},mapPaintPolyDot(t){t=t||window.event;this.mapInfo.longitude=t.point.lng,this.mapInfo.latitude=t.point.lat},converToQQMap(t,e){if(""==t&&""==e)return{lng:"",lat:""};var o=52.35987755982988,a=t-.0065,n=e-.006,i=Math.sqrt(a*a+n*n)-2e-5*Math.sin(n*o),r=Math.atan2(n,a)-3e-6*Math.cos(a*o),s=i*Math.cos(r),c=i*Math.sin(r);return{lng:s,lat:c}},projectInsertComfirmSubmit(){let t=/^[0-9]$/;if(this.insertProjectInfo.hotLine){if(this.insertProjectInfo.hotLine.length<=0)return void this.$message({message:"请输入社区预约电话",type:"warning"});if(t.test(this.insertProjectInfo.hotLine))return void this.$message({message:"社区预约电话格式不正确",type:"warning"})}if(!this.insertProjectInfo.hotLine)return void this.$message({message:"请输入社区预约电话",type:"warning"});if(this.insertProjectInfo.deviceManagerPhone){if(this.insertProjectInfo.deviceManagerPhone.length<=0)return void this.$message({message:"请输入抄表人电话号",type:"warning"});if(!Object(h["c"])(this.insertProjectInfo.deviceManagerPhone))return void this.$message({message:"抄表人员电话格式不正确",type:"warning"})}if(!this.insertProjectInfo.deviceManagerPhone)return void this.$message({message:"请输入抄表人电话号",type:"warning"});if(this.projectServiceCheckeds.length>0){let t=this.getCheckedChoiceVal(this.projectServiceCheckeds,this.projectServiceList);this.insertProjectInfo.roomService=t}if(this.projectUploadImgList.length>0){for(var e=[],o=0;o<this.projectUploadImgList.length;o++)e.push({orgPicType:this.projectUploadImgList[o].imgVal,pubFileId:this.projectUploadImgList[o].id});this.insertProjectInfo.roomImg=e}var a={deviceManagerPhone:this.insertProjectInfo.deviceManagerPhone,cityId:this.insertProjectInfo.cityId,orgName:this.insertProjectInfo.projectName,address:this.insertProjectInfo.address,longitude:this.mapInfo.longitude,latitude:this.mapInfo.latitude,serviceIds:this.insertProjectInfo.roomService,phone:this.insertProjectInfo.hotLine,info:this.insertProjectInfo.roomDescribe,imgList:this.insertProjectInfo.roomImg,managerId:this.insertProjectInfo.userId};let n="";"upde"==this.subMitType?(n="/api/org/updateOrg",a.orgId=this.insertProjectInfo.orgId):n="/api/org/addOrg",this.$http.post(`${n}`,a).then(t=>{var e=t.data;0==e.errorCode&&(this.$store.commit("setStoreEdit",{count:1,which:"project"}),this.$message({message:"成功！",type:"success"}),setTimeout(()=>{this.$emit("setProjectMode"),this.$store.commit("setProjectMode",{mode:"insert",projectId:""}),this.dialogInsertProject=!1},1e3))}).catch(function(t){console.log(t)})},dialogProjectMoreAccount(){var t=0;this.$http.get("/api/org/findOrgPayment",{params:{orgId:this.insertProjectInfo.orgId}}).then(e=>{var o=e.data;if(0==o.errorCode){t++,this.editProjectPayAccount=o.data||[],this.payAccountInfo.paymentAccountWxId="";for(var a=0;a<this.editProjectPayAccount.length;a++)"1"==this.editProjectPayAccount[a].selected&&(this.payAccountInfo.paymentAccountWxId=this.editProjectPayAccount[a].id);2==t&&(this.dialogProjectMore=!0)}}).catch(function(t){console.log(t)}),this.$http.get("/api/org/findOrgReserveAndSigningVo",{params:{orgId:this.insertProjectInfo.orgId}}).then(e=>{var o=e.data;if(0==o.errorCode){t++,this.permitReserveList=o.data.reserve||[],this.permitSigningList=o.data.signing||[],this.payAccountInfo.allowReserve="2",this.payAccountInfo.allowOnlineSign="2";for(var a=0;a<2;a++)"1"==this.permitReserveList[a].selected&&(this.payAccountInfo.allowReserve=this.permitReserveList[a].id),"1"==this.permitSigningList[a].selected&&(this.payAccountInfo.allowOnlineSign=this.permitSigningList[a].id);2==t&&(this.dialogProjectMore=!0)}}).catch(function(t){console.log(t)})},comfrimSubmitProjectAccount(){var t=0;this.$http.post("/api/org/editOrgPayment",{orgId:this.insertProjectInfo.orgId,paymentAccountWxId:this.payAccountInfo.paymentAccountWxId}).then(e=>{var o=e.data;0==o.errorCode&&(t++,2==t&&(this.$message({message:"修改成功！",type:"success"}),this.dialogProjectMore=!1))}).catch(function(t){console.log(t)}),this.$http.post("/api/org/editOrgReserveAndSigningVo",{orgId:this.insertProjectInfo.orgId,reserve:this.payAccountInfo.allowReserve,signing:this.payAccountInfo.allowOnlineSign}).then(e=>{var o=e.data;0==o.errorCode&&(t++,2==t&&(this.$message({message:"修改成功！",type:"success"}),this.dialogProjectMore=!1))}).catch(function(t){console.log(t)})},changeSignatureType(){setTimeout(()=>{if(this.contractInfo.contractStartData&&""!=this.contractInfo.contractStartData){let t=this.compareTwoData();this.$set(this.contractInfo,"waterSurplusData",t),this.$set(this.contractInfo,"electronicSurplusData",t),this.dialogVisibleHandle=!0}else"1"==this.contractInfo.signatureType&&this.getContractStartData()},10)},cancelHandleWatch(){this.contractInfo.waterDeviceId="",this.contractInfo.electronicDeviceId="",this.contractInfo.waterSurplus="",this.contractInfo.electronicSurplus="",this.contractInfo.signatureType="",this.dialogVisibleHandle=!1},handleWatchData(t){if(void 0==this.contractInfo.roomId||""==this.contractInfo.roomId)return this.$message({message:"请选择相应的房间信息！",type:"error"});var e={roomId:this.contractInfo.roomId};"water"==t?(e.meterTime=this.contractInfo.waterSurplusData,this.contractInfo.waterSurplusData&&""!=this.contractInfo.waterSurplusData&&(e.meterTime+=" 00:00:00"),e.deviceType="2"):(e.meterTime=this.contractInfo.electronicSurplusData,this.contractInfo.electronicSurplusData&&""!=this.contractInfo.electronicSurplusData&&(e.meterTime+=" 00:00:00"),e.deviceType="1"),this.$http.get("/api/deviceManage/getDeviceDailyReading",{params:e}).then(e=>{var o=e.data;0==o.errorCode&&("water"==t?(this.$set(this.contractInfo,"waterSurplus",o.data.surplus||""),this.contractInfo.waterDeviceId=o.data.deviceId||""):(this.$set(this.contractInfo,"electronicSurplus",o.data.surplus||""),this.contractInfo.electronicDeviceId=o.data.deviceId||""))}).catch(function(t){console.log(t)})},comfirmHandleWatch(){return void 0==this.contractInfo.waterSurplus||""==this.contractInfo.waterSurplus?this.$message({message:"水表余数不能为空！",type:"error"}):void 0==this.contractInfo.electronicSurplus||""==this.contractInfo.electronicSurplus?this.$message({message:"电表余数不能为空！",type:"error"}):void(this.dialogVisibleHandle=!1)},compareTwoData(){let t=new Date,e=t.getFullYear(),o=t.getMonth()+1,a=e+"-"+o+"-01",n=this.contractInfo.contractStartData,i=new Date(a).getTime();return n=new Date(n).getTime(),i-n>=0?a:this.contractInfo.contractStartData},getContractStartData(){var t=new Date,e=t.getFullYear(),o=t.getMonth()+1,a=t.getDate();o>=1&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a),this.$set(this.contractInfo,"contractStartData",e+"-"+o+"-"+a)},enterInsertConcat(t="insert"){if(this.initInsertConcat(),this.contractInfo.contractMode=t,this.dialogCustomerSigning=!0,"detail"!=this.contractInfo.contractMode&&"extend"!=this.contractInfo.contractMode||(this.getContractDetail(),this.changeRoomName()),"insert"==this.contractInfo.contractMode){if(""!=this.contractInfo.roomId){this.contractInfo.roomReserveId=this.$store.getters.getContractInof.reserveId||"";var e=this.contractInfo.roomId;this.changeRoomName(),this.fromRemoteInsert=!0,this.contractInitData(),this.getRoomReserveInfo(e)}else""!=this.contractInfo.contractId?(this.fromRemoteInsert=!0,this.changeRoomName(),this.getContractDetail()):(this.fromRemoteInsert=!1,this.contractInitData());this.getContractStartData()}this.getContractMonthHas()},getContractMonthHas(){let t=new Date(this.contractInfo.contractStartData).valueOf(),e=Object(h["f"])(t),o=e.substring(0,4),a=e.substring(5,7),n=e.substring(8,10),i=this.getMonthDayTotal(o,a-1);this.contractInfo.monthHasDay=i-n+1},getMonthDayTotal(t,e){let o=e+1,a=new Date(t,o,0);return a.getDate()},getRoomReserveInfo(t){this.$http.get("/api/contract/room",{params:{roomId:t}}).then(t=>{var e=t.data;0==e.errorCode&&(this.contractInfo.roomId=e.data.roomId,this.contractInfo.orgName=e.data.orgAndRoomName,this.roomHasReserved.orgName=e.data.orgName,this.roomHasReserved.name=e.data.reserveName,this.roomHasReserved.phone=e.data.reservePhone,this.contractInfo.roomReserveId=e.data.roomReserveId||"")}).catch(function(t){console.log(t)})},insertLivePerson(){0==this.contractInfo.lessee?this.contractPersonList.push({personName:"",gender:"",phone:"",cardType:"",cardNo:"",payRent:"",frontPicId:"",frontPicName:"",backPicId:"",backPicName:"",otherPicId:"",otherPicName:"",bank:"",bankCardNo:""}):this.contractEnterpriseList.push({personName:"",gender:"",phone:"",cardType:"",cardNo:"",payRent:"",frontPicId:"",frontPicName:"",backPicId:"",backPicName:"",otherPicId:"",otherPicName:"",bank:"",bankCardNo:"",bank:"",bankCardNo:""})},removeLivePerson(t){this.contractPersonList.length>1&&0==this.contractInfo.lessee?this.contractPersonList.splice(t,1):this.contractEnterpriseList.length>1&&1==this.contractInfo.lessee&&("1"==this.contractEnterpriseList[t].payRent&&(this.contractInfo.waterFee.included="",this.contractInfo.electricFee.included="",this.contractInfo.propertyFee.included=""),this.contractEnterpriseList.splice(t,1))},changeLivePersonName(t){"1"==this.contractEnterpriseList[t].payRent&&(this.contractInfo.waterFee.personName=this.contractEnterpriseList[t].personName,this.contractInfo.electricFee.personName=this.contractEnterpriseList[t].personName,this.contractInfo.propertyFee.personName=this.contractEnterpriseList[t].personName)},choiceContractData(t){this.contractInfo.payType=t;let e=this.contractInfo.contractStartData&&""!=this.contractInfo.contractStartData?this.contractInfo.contractStartData.substring(0,4):"",o=this.contractInfo.contractStartData&&""!=this.contractInfo.contractStartData?this.contractInfo.contractStartData.substring(5,7):"",a=this.contractInfo.contractStartData&&""!=this.contractInfo.contractStartData?this.contractInfo.contractStartData.substring(8,10):"";if(""!=e&&""!=o&&""!=a){o=parseInt(o)+parseInt(t),o>12&&(e=parseInt(e)+1,o-=12),o<10&&(o="0"+o);var n=new Date(e,o,0),i=n.getDate();i<a&&28!=i&&(a-=i,a="0"+a,o=parseInt(t)+1,o>12&&(e=parseInt(e)+1,o-=12),o<10&&(o="0"+o));var r=Object(h["h"])("before",e+"-"+o+"-"+a,-1);this.$set(this.contractInfo,"contractData",r)}},getCardTypeList(){this.$http.get("/api/contract/card_types").then(t=>{var e=t.data;if(0==e.errorCode&&(this.cardTypeList=e.data||[],this.cardTypeList.length>0))for(var o=0;o<this.cardTypeList.length;o++)this.cardTypeList[o].val=this.cardTypeList[o].val+""}).catch(function(t){console.log(t)})},changeContractTempVal(){if(""!=this.contractInfo.templateId)for(var t=0;t<this.contractTemplateList.length;t++)this.contractInfo.templateId==this.contractTemplateList[t].contractTemplateId&&(this.contractTempInfo.message=this.contractTemplateList[t].templateContent)},choiceContractEnterprise(){for(var t=0;t<this.enterpriseList.length;t++)this.enterpriseList[t].enterpriseId==this.contractEnterpriseInfo.enterpriseId&&(this.contractEnterpriseInfo.bank=this.enterpriseList[t].bankType,this.contractEnterpriseInfo.bankNo=this.enterpriseList[t].bankAccount);this.contractEnterpriseInfo.enterpriseId&&""!=this.contractEnterpriseInfo.enterpriseId||(this.contractEnterpriseInfo.bank="",this.contractEnterpriseInfo.bankNo="")},isPayTypeMode(t){var e=!1;switch(t){case"water":"1"!=this.contractInfo.waterFee.payType&&(e=!0);break;case"electronic":"1"!=this.contractInfo.electricFee.payType&&(e=!0);break;default:"1"!=this.contractInfo.propertyFee.payType&&(e=!0);break}if(e){for(var o=0,a=0;a<this.contractEnterpriseList.length;a++)"1"!=this.contractEnterpriseList[a].payRent&&o++;if(this.contractEnterpriseList.length==o){switch(t){case"water":this.contractInfo.waterFee.payType="";break;case"electronic":this.contractInfo.electricFee.payType="";break;default:this.contractInfo.propertyFee.payType="";break}return this.$message({message:"请选择缴纳居住人!",type:"error"})}}},getContractTempList(){this.$http.get("/api/contract_template/access_list",{params:{roomId:this.contractInfo.roomId}}).then(t=>{var e=t.data;0==e.errorCode&&(this.contractTemplateList=e.data||[])}).catch(function(t){console.log(t)})},getEnterpriseList(){this.$http.get("/api/enterprise/list",{params:{enterpriseName:""}}).then(t=>{var e=t.data;0==e.errorCode&&(this.enterpriseList=e.data||[])}).catch(function(t){console.log(t)})},getBankNameList(){this.$http.get("/api/enterprise/banks",{params:{bankName:""}}).then(t=>{var e=t.data;0==e.errorCode&&(this.bankNameList=e.data||[])}).catch(function(t){console.log(t)})},getRoomNameList(t){this.$http.get("/api/contract/room/list",{params:{orgOrRoomName:t}}).then(t=>{var e=t.data;0==e.errorCode&&(this.loadingReqRoom=!1,this.contractRoomList=e.data||[])}).catch(function(t){console.log(t)})},remoteRequestRoom(t){""!==t?(this.loadingReqRoom=!0,this.getRoomNameList(t)):(this.contractInfo.roomId="",this.contractRoomList=[])},changeRoomName(){""!=this.contractInfo.roomId&&this.$http.get("/api/contract/room",{params:{roomId:this.contractInfo.roomId}}).then(t=>{var e=t.data;0==e.errorCode&&(this.contractInfo.roomId=e.data.roomId,this.contractPersonInfo.personName=e.data.reserveName,this.contractPersonInfo.phone=e.data.reservePhone,this.contractPersonInfo.cardType=e.data.reserveCardType,this.contractPersonInfo.cardNo=e.data.reserveCardNo,this.contractInfo.roomReserveId=e.data.roomReserveId||"",this.contractInfo.payType=e.data.deliveryMethod,this.contractInfo.originRentPrice=this.contractInfo.lastPrice=this.contractInfo.rentPrice=e.data.rental,this.contractInfo.rentLowPrice=e.data.lowPrice,this.getContractTempList(),this.getDiscountList())}).catch(function(t){console.log(t)})},changeRentPriceFunc(){var t=Number(this.contractInfo.rentPrice),e=String(t).indexOf(".")+1;String(t).length;if(e>0&&(t=t.toFixed(2)),this.$set(this.contractInfo,"rentPrice",t),("extend"==this.contractInfo.contractMode||this.fromRemoteInsert)&&""!=this.contractInfo.rentLowPrice){if(this.contractInfo.rentPrice<this.contractInfo.rentLowPrice)return this.$set(this.contractInfo,"rentPrice",this.contractInfo.lastPrice),this.$message.error(`租金值不能小于租金的最小值${this.contractInfo.rentLowPrice}!`);this.contractInfo.lastPrice=this.contractInfo.rentPrice}this.getContractMoney(),this.getDiscountList()},contractUploadImg(t){const e=t.size/1024/1024<3;if(!e)return this.$message({message:"上传图片大小不能超过 3MB!",type:"error"});let o=new FormData;o.append("file",t),this.$http({method:"post",url:"./api/file/uploadthumbCompress",data:o}).then(e=>{var o=e.data;if(0==o.errorCode)if("enterprise"==this.contractUploadInfo.choiceMode&&"-1"==this.contractUploadInfo.index)"front"==this.contractUploadInfo.itemName?(this.contractEnterpriseInfo.frontPicId=o.data.id,this.contractEnterpriseInfo.frontPicUrl=o.data.thumb_2,this.contractEnterpriseInfo.frontPicName=t.name):"back"==this.contractUploadInfo.itemName?(this.contractEnterpriseInfo.backPicId=o.data.id,this.contractEnterpriseInfo.backPicUrl=o.data.thumb_2,this.contractEnterpriseInfo.backPicName=t.name):(this.contractEnterpriseInfo.otherPicId=o.data.id,this.contractEnterpriseInfo.otherPicUrl=o.data.thumb_2,this.contractEnterpriseInfo.otherPicName=t.name);else if("enterprise"==this.contractUploadInfo.choiceMode&&this.contractUploadInfo.index>=0){var a=this.contractUploadInfo.index;"front"==this.contractUploadInfo.itemName?(this.contractEnterpriseList[a].frontPicId=o.data.id,this.contractEnterpriseList[a].frontPicUrl=o.data.thumb_2,this.contractEnterpriseList[a].frontPicName=t.name):"back"==this.contractUploadInfo.itemName?(this.contractEnterpriseList[a].backPicId=o.data.id,this.contractEnterpriseList[a].backPicUrl=o.data.thumb_2,this.contractEnterpriseList[a].backPicName=t.name):(this.contractEnterpriseList[a].otherPicId=o.data.id,this.contractEnterpriseList[a].otherPicUrl=o.data.thumb_2,this.contractEnterpriseList[a].otherPicName=t.name)}else if("person"==this.contractUploadInfo.choiceMode&&this.contractUploadInfo.index>=0){a=this.contractUploadInfo.index;"front"==this.contractUploadInfo.itemName?(this.contractPersonList[a].frontPicId=o.data.id,this.contractPersonList[a].frontPicUrl=o.data.thumb_2,this.contractPersonList[a].frontPicName=t.name):"back"==this.contractUploadInfo.itemName?(this.contractPersonList[a].backPicId=o.data.id,this.contractPersonList[a].backPicUrl=o.data.thumb_2,this.contractPersonList[a].backPicName=t.name):(this.contractPersonList[a].otherPicId=o.data.id,this.contractPersonList[a].otherPicUrl=o.data.thumb_2,this.contractPersonList[a].otherPicName=t.name)}})},getUploadImgOrigin(t,e,o){this.contractUploadInfo.choiceMode=t,this.contractUploadInfo.itemName=e,this.contractUploadInfo.index=o},removeUploadImgOrigin(t,e,o){"enterprise"==t&&"-1"==o?"front"==e?(this.contractEnterpriseInfo.frontPicId="",this.contractEnterpriseInfo.frontPicUrl="",this.contractEnterpriseInfo.frontPicName=""):"back"==e?(this.contractEnterpriseInfo.backPicId="",this.contractEnterpriseInfo.backPicUrl="",this.contractEnterpriseInfo.backPicName=""):(this.contractEnterpriseInfo.otherPicId="",this.contractEnterpriseInfo.otherPicUrl="",this.contractEnterpriseInfo.otherPicName=""):"enterprise"==t&&o>=0?"front"==e?(this.contractEnterpriseList[o].frontPicId="",this.contractEnterpriseList[o].frontPicUrl="",this.contractEnterpriseList[o].frontPicName=""):"back"==e?(this.contractEnterpriseList[o].backPicId="",this.contractEnterpriseList[o].backPicUrl="",this.contractEnterpriseList[o].backPicName=""):(this.contractEnterpriseList[o].otherPicId="",this.contractEnterpriseList[o].otherPicUrl="",this.contractEnterpriseList[o].otherPicName=""):"person"==t&&o>=0&&("front"==e?(this.contractPersonList[o].frontPicId="",this.contractPersonList[o].frontPicUrl="",this.contractPersonList[o].frontPicName=""):"back"==e?(this.contractPersonList[o].backPicId="",this.contractPersonList[o].backPicUrl="",this.contractPersonList[o].backPicName=""):(this.contractPersonList[o].otherPicId="",this.contractPersonList[o].otherPicUrl="",this.contractPersonList[o].otherPicName=""))},clearDiscountRadio(){for(var t=0;t<this.discountList.length;t++){var e=this.discountList[t];e.isSelect="0",this.$set(this.discountList,t,e)}this.contractInfo.discountChoice="",this.getContractMoney()},changeContractLessee(){this.contractInfo.discountChoice="",this.getDiscountList()},getDiscountList(){this.contractInfo.contractData&&""!=this.contractInfo.contractData?this.$http.get("/api/discount/list",{params:{roomId:this.contractInfo.roomId,lessee:this.contractInfo.lessee,month:"",startTime:this.contractInfo.contractStartData,endTime:this.contractInfo.contractData}}).then(t=>{var e=t.data;if(0==e.errorCode){this.discountList=e.data||[];for(var o=0;o<this.discountList.length;o++)this.contractInfo.discountChoice==this.discountList[o].discountId?this.discountList[o].isSelect="1":this.discountList[o].isSelect="0",this.discountList[o].lessMongy=((1-this.discountList[o].discountRate)*this.contractInfo.rentPrice).toFixed(2);this.getContractMoney()}}).catch(function(t){console.log(t)}):(this.contractInfo.discountChoice="",this.discountList=[])},setPersonPayMoney(t){for(var e=0;e<this.contractEnterpriseList.length;e++)t==e?(this.contractEnterpriseList[t].payRent="1",this.contractInfo.waterFee.personName=this.contractEnterpriseList[t].personName,this.contractInfo.electricFee.personName=this.contractEnterpriseList[t].personName,this.contractInfo.propertyFee.personName=this.contractEnterpriseList[t].personName):this.contractEnterpriseList[e].payRent="0"},changeAddtionRentPerson(t){for(var e=0;e<this.contractAdditEFees.length;e++)t==e?this.contractAdditEFees[t].payRent="1":this.contractAdditEFees[e].payRent="0"},changeDiscountMode(t){for(var e=0;e<this.discountList.length;e++)if(t==e){var o=this.discountList[t];o.isSelect="1",this.$set(this.discountList,t,o),this.contractInfo.discountChoice=this.discountList[e].discountId}else this.discountList[e].isSelect="0";this.getContractMoney()},downloadFileFunc(t){""!=t&&window.open(t)},deleteAddtionFeeList(t,e){"person"==t?this.contractAdditPFees.length>1&&this.contractAdditPFees.splice(e,1):this.contractAdditEFees.length>1&&this.contractAdditEFees.splice(e,1)},insertAddtionFeeList(t){"person"==t?this.contractAdditPFees.push({feeContent:"",payOne:"",totalMoney:""}):this.contractAdditEFees.push({feeContent:"",payOne:"",totalMoney:"",payType:"",payRent:"0"})},contractUploadFile(t){let e=new FormData;e.append("file",t),this.$http({method:"post",url:"./api/file/uploadDoc",data:e}).then(e=>{var o=e.data;0==o.errorCode&&(this.uploadFile.name=t.name,this.uploadFile.fileId=o.data.id,this.uploadFile.url=o.data.url)})},clearInputContract(){var t=this.contractInfo.title,e=this.contractInfo.contractMode,o=this.contractInfo.orgName,a=this.contractInfo.contractId,n=this.contractInfo.roomId,i=this.contractInfo.originRentPrice,r=this.contractInfo.rentLowPrice,s=this.contractInfo.contractData,c=this.contractInfo.contractStartData;this.contractInitData(),this.contractInfo.title=t,this.contractInfo.contractMode=e,this.contractInfo.orgName=o,this.contractInfo.contractId=a,this.contractInfo.roomId=n,this.contractInfo.rentPrice=i,this.contractInfo.lastPrice=i,this.contractInfo.originRentPrice=i,this.contractInfo.rentLowPrice=r,this.$set(this.contractInfo,"contractData",s),this.$set(this.contractInfo,"contractStartData",c)},contractInitData(){this.contractInfo={title:"新增租客合同",contractMode:"insert",orgName:"",contractId:"",roomId:"",type:0,lessee:0,templateContent:"",payType:"",rentPrice:"",lastPrice:"",originRentPrice:"",rentLowPrice:"",deliveryMethod:"",payPrice:"",totalPayPrice:"",inheritDeposit:"",isExtended:!0,infoRentPrice:"",infoPayPrice:"",reservePrice:"",infoTotalMoney:"",addtionTotalMoney:"",allTotalMoney:"",riseMode:"",riseRate:"",discountChoice:"",payWay:"",includeDeposit:"",addtionContent:"",fileId:"",waterFee:{feeType:"1",included:1,payType:"1",personName:""},electricFee:{feeType:"2",included:1,payType:"1",personName:""},propertyFee:{feeType:"3",included:1,payType:"1",personName:""}},this.contractPersonInfo={personName:"",gender:"",phone:"",cardType:"",cardNo:"",frontPicId:"",frontPicName:"",backPicId:"",backPicName:"",otherPicId:"",otherPicName:"",bank:"",backCardNo:"",discount:""},this.contractEnterpriseInfo={enterpriseId:"",rentPayType:"",bank:"",bankNo:"",frontPicId:"",frontPicName:"",backPicId:"",backPicName:"",otherPicId:"",otherPicName:""},this.contractPersonList=[{personName:"",gender:"",phone:"",cardType:"",cardNo:"",payRent:"",frontPicId:"",frontPicName:"",backPicId:"",backPicName:"",otherPicId:"",otherPicName:"",bank:"",bankCardNo:""}],this.contractEnterpriseList=[{personName:"",gender:"",phone:"",cardType:"",cardNo:"",payRent:"",frontPicId:"",frontPicName:"",backPicId:"",backPicName:"",otherPicId:"",otherPicName:"",bank:"",bankCardNo:""}],this.contractAdditPFees=[{feeContent:"",payOne:"",totalMoney:""}],this.contractAdditEFees=[{feeContent:"",payOne:"",totalMoney:"",payType:"",payRent:"0"}],this.personRentRiseYear=[],this.discountList=[]},changeSelec(t){alert(t)},getNextDate(t,e){var o=new Date(t);o.setDate(o.getDate()+e);var a=o.getFullYear(),n=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,i=o.getDate()<10?"0"+o.getDate():o.getDate();return a+"-"+n+"-"+i},getContractDetail(){this.$http.get("/api/contract/detail",{params:{contractId:this.contractInfo.contractId}}).then(t=>{var e=t.data;if(0==e.errorCode){this.contractInfo.roomId=e.data.roomId,this.contractInfo.type=e.data.type,this.contractInfo.lessee=e.data.lessee,this.contractInfo.orgName=e.data.orgAndRoomName||e.data.orgName;var o="";"extend"==this.contractInfo.contractMode?(o=this.getNextDate(e.data.endTime,1),this.$set(this.contractInfo,"contractData","")):(o=e.data.startTime,this.$set(this.contractInfo,"contractData",e.data.endTime)),this.$set(this.contractInfo,"contractStartData",o),this.contractInfo.emergeName=e.data.emergencyContact||"",this.contractInfo.emergePhone=e.data.emergencyPhone||"";for(var a=e.data.otherDeposits||[],n=0;n<a.length;n++)this.depositTypeList.push({type:a[n].type.val,amount:a[n].amount});if(this.contractTempInfo.id=e.data.contractId,this.contractInfo.rentPrice=e.data.rental,this.contractInfo.deliveryMethod=e.data.deliveryMethod,this.contractInfo.isExtended=!(!e.data.inheritDeposit||1!=e.data.inheritDeposit),this.contractInfo.inheritDeposit=e.data.deposit,this.contractInfo.discountChoice=e.data.discountId,this.contractInfo.addtionContent=e.data.info,this.uploadFile.fileId=e.data.fileId,this.uploadFile.url=e.data.fileUrl,e.data.additionalFees&&e.data.additionalFees.length>0)if(0==this.contractInfo.lessee){this.contractAdditPFees=[];for(n=0;n<e.data.additionalFees.length;n++)this.contractAdditPFees.push({feeContent:e.data.additionalFees[n].feeName,payOne:e.data.additionalFees[n].cycle,totalMoney:e.data.additionalFees[n].price})}else{this.contractAdditEFees=[];for(n=0;n<e.data.additionalFees.length;n++)this.contractAdditEFees.push({feeContent:e.data.additionalFees[n].feeName,payOne:e.data.additionalFees[n].cycle,totalMoney:e.data.additionalFees[n].price})}if(this.contractTempInfo.message=e.data.econtractContent,0==this.contractInfo.lessee){if(e.data.personList&&e.data.personList.length>0){this.contractPersonList=[];for(n=0;n<e.data.personList.length;n++)this.contractPersonList.push({personName:e.data.personList[n].personName,gender:e.data.personList[n].gender,phone:e.data.personList[n].phone,cardType:e.data.personList[n].cardType+"",cardNo:e.data.personList[n].cardNo,frontPicId:e.data.personList[n].cardFrontPic||"",frontPicUrl:e.data.personList[n].cardFrontPicUrl||"",frontPicName:e.data.personList[n].cardFrontPicName||"",backPicId:e.data.personList[n].cardBackPic||"",backPicUrl:e.data.personList[n].cardBackPicUrl||"",backPicName:e.data.personList[n].cardBackPicName||"",otherPicId:e.data.personList[n].otherCertificatePic||"",otherPicUrl:e.data.personList[n].otherCertificatePicUrl||"",otherPicName:e.data.personList[n].otherCertificatePicName||"",payRent:"",bank:"",bankCardNo:""});this.contractPersonList[0].bank=e.data.bank,this.contractPersonList[0].bankCardNo=e.data.bankNo}this.contractPersonInfo.personName=e.data.lesseePerson.personName,this.contractPersonInfo.gender=e.data.lesseePerson.gender,this.contractPersonInfo.phone=e.data.lesseePerson.phone,this.contractPersonInfo.cardType=e.data.lesseePerson.cardType+"",this.contractPersonInfo.cardNo=e.data.lesseePerson.cardNo,this.contractEnterpriseInfo.frontPicName=e.data.lesseePerson.cardFrontPicName||"",this.contractEnterpriseInfo.frontPicId=e.data.lesseePerson.cardFrontPic||"",this.contractEnterpriseInfo.frontPicUrl=e.data.lesseePerson.cardFrontPicUrl||"",this.contractEnterpriseInfo.backPicId=e.data.lesseePerson.cardBackPic||"",this.contractEnterpriseInfo.backPicName=e.data.lesseePerson.cardBackPicName||"",this.contractEnterpriseInfo.backPicUrl=e.data.lesseePerson.cardBackPicUrl||"",this.contractEnterpriseInfo.otherPicId=e.data.lesseePerson.otherCertificatePic||"",this.contractEnterpriseInfo.otherPicName=e.data.lesseePerson.otherCertificatePicName||"",this.contractEnterpriseInfo.otherPicUrl=e.data.lesseePerson.otherCertificatePicUrl||"",this.contractPersonInfo.bank=e.data.bank,this.contractPersonInfo.backCardNo=e.data.bankNo,this.contractPersonInfo.discount=e.data.discountRate,this.contractInfo.riseMode=e.data.riseYear,this.contractInfo.riseRate=e.data.risePercent&&""!=e.data.risePercent?parseFloat(100*e.data.risePercent).toFixed(2):"",this.contractInfo.discountChoice=e.data.discountId,this.uploadFile.name=e.data.fileName||"",this.uploadFile.url=e.data.fileUrl,this.uploadFile.fileId=e.data.fileId}else{if(e.data.personList&&e.data.personList.length>0){this.contractEnterpriseList=[];for(n=0;n<e.data.personList.length;n++)this.contractEnterpriseList.push({personName:e.data.personList[n].personName,gender:e.data.personList[n].gender,phone:e.data.personList[n].phone,cardType:e.data.personList[n].cardType+"",cardNo:e.data.personList[n].cardNo,frontPicId:e.data.personList[n].cardFrontPic||"",frontPicUrl:e.data.personList[n].cardFrontPicUrl||"",frontPicName:e.data.personList[n].cardFrontPicName||"",backPicId:e.data.personList[n].cardBackPic||"",backPicUrl:e.data.personList[n].cardBackPicUrl||"",backPicName:e.data.personList[n].cardBackPicName||"",otherPicId:e.data.personList[n].otherCertificatePic||"",otherPicUrl:e.data.personList[n].otherCertificatePicUrl||"",otherPicName:e.data.personList[n].otherCertificatePicName||"",payRent:e.data.personList[n].master,bank:"",bankCardNo:""});this.contractEnterpriseList[0].bank=e.data.bank,this.contractEnterpriseList[0].bankCardNo=e.data.bankNo}this.contractEnterpriseInfo.rentPayType=e.data.rentPayType+"",this.contractEnterpriseInfo.enterpriseId=e.data.enterpriseId,this.contractEnterpriseInfo.bank=e.data.bank,this.contractEnterpriseInfo.bankNo=e.data.bankNo;var i=e.data&&e.data.lesseePerson?e.data.lesseePerson:{};this.contractEnterpriseInfo.frontPicName=i.cardFrontPicName||"",this.contractEnterpriseInfo.frontPicId=i.cardFrontPic||"",this.contractEnterpriseInfo.frontPicUrl=i.cardFrontPicUrl||"",this.contractEnterpriseInfo.backPicId=i.cardBackPic||"",this.contractEnterpriseInfo.backPicName=i.cardBackPicName||"",this.contractEnterpriseInfo.backPicUrl=i.cardBackPicUrl||"",this.contractEnterpriseInfo.otherPicId=i.otherCertificatePic||"",this.contractEnterpriseInfo.otherPicName=i.otherCertificatePicName||"",this.contractEnterpriseInfo.otherPicUrl=i.otherCertificatePicUrl||"";var r=e.data&&e.data.waterFee?e.data.waterFee:{},s=e.data&&e.data.electricFee?e.data.electricFee:{},c=e.data&&e.data.propertyFee?e.data.propertyFee:{};this.contractInfo.waterFee.included=r.included,this.contractInfo.waterFee.payType=r.payType+"",this.contractInfo.electricFee.included=s.included,this.contractInfo.electricFee.payType=s.payType+"",this.contractInfo.propertyFee.included=c.included,this.contractInfo.propertyFee.payType=c.payType+"";for(var l=0,d=!1,p=0,h=0;h<this.contractEnterpriseList.length;h++)"1"!=this.contractEnterpriseList[h].payRent?l++:(p=h,d=!0);l!=this.contractEnterpriseList.length&&d&&(this.contractInfo.waterFee.personName=this.contractEnterpriseList[p].personName,this.contractInfo.electricFee.personName=this.contractEnterpriseList[p].personName,this.contractInfo.propertyFee.personName=this.contractEnterpriseList[p].personName,this.setPersonPayMoney(p))}"detail"!=this.contractInfo.contractMode&&"extend"!=this.contractInfo.contractMode&&(this.contractInfo.inheritDeposit=0),"extend"==this.contractInfo.contractMode&&(this.contractInfo.isExtended=!0),this.getContractTempList(),this.getDepositMonetList(),this.getDiscountList()}}).catch(function(t){console.log(t)})},generateBill(){this.$root.Bus.$emit("brgenerateBill")},getBillGenerateInfo(t){this.$http("/api/bill/getBillGenerateInfo",{method:"get",params:{orgId:t}}).then(t=>{this.Numbers=t.data.data.error+t.data.data.normal})},getUserIdCardInfo(){if(0==this.contractPersonInfo.cardType&&this.contractPersonInfo.cardNo&&this.contractPersonInfo.cardNo.length>0){var t=this.contractPersonInfo.cardNo.substring(0,5);if("xnsfz"!=t&&!Object(h["a"])(this.contractPersonInfo.cardNo))return this.$message({message:"请输入承租人合法的身份证！",type:"error"})}},getUserCompareIdCardInfo(t,e){if("person"==t){if(0==this.contractPersonList[e].cardType&&this.contractPersonList[e].cardNo&&this.contractPersonList[e].cardNo.length>0){var o=this.contractPersonList[e].cardNo.substring(0,5);if("xnsfz"!=o&&!Object(h["a"])(this.contractPersonList[e].cardNo))return this.$message({message:`请输入合法的同住人${this.contractPersonList[e].personName}身份证！`,type:"error"})}}else if(0==this.contractEnterpriseList[e].cardType&&this.contractEnterpriseList[e].cardNo&&this.contractEnterpriseList[e].cardNo.length>0){o=this.contractEnterpriseList[e].cardNo.substring(0,5);if("xnsfz"!=o&&!Object(h["a"])(this.contractEnterpriseList[e].cardNo))return this.$message({message:`请输入合法的居住人${this.contractEnterpriseList[e].personName}身份证！`,type:"error"})}},getExitBillList(){this.$http.get("/api/bill/billDetailTypes").then(t=>{var e=t.data;0==e.errorCode&&(this.exitBillList=e.data)}).catch(function(t){console.log(t)})},getPreContractBillDetail(){var t=[];if(0==this.contractInfo.lessee){if(this.contractPersonList.length>0)for(var e=0;e<this.contractPersonList.length;e++)t.push({personName:this.contractPersonList[e].personName,gender:this.contractPersonList[e].gender,phone:this.contractPersonList[e].phone,cardType:this.contractPersonList[e].cardType,cardNo:this.contractPersonList[e].cardNo,cardFrontPic:this.contractPersonList[e].frontPicId,cardBackPic:this.contractPersonList[e].backPicId,otherCertificatePic:this.contractPersonList[e].otherPicId,master:""})}else for(e=0;e<this.contractEnterpriseList.length;e++)this.contractEnterpriseList.length>0&&t.push({personName:this.contractEnterpriseList[e].personName,gender:this.contractEnterpriseList[e].gender,phone:this.contractEnterpriseList[e].phone,cardType:this.contractEnterpriseList[e].cardType,cardNo:this.contractEnterpriseList[e].cardNo,cardFrontPic:this.contractEnterpriseList[e].frontPicId,cardBackPic:this.contractEnterpriseList[e].backPicId,otherCertificatePic:this.contractEnterpriseList[e].otherPicId,master:"1"==this.contractEnterpriseList[e].payRent?1:0});if(""==this.contractInfo.contractData)return this.$message({message:"合同期限不能为空!",type:"error"});if(this.contractInfo.emergeName&&""!=this.contractInfo.emergeName&&(""==this.contractInfo.emergePhone||void 0==this.contractInfo.emergePhone))return this.$message({message:"紧急联系人手机不能为空!",type:"error"});if(this.contractInfo.emergePhone&&""!=this.contractInfo.emergePhone&&(""==this.contractInfo.emergeName||void 0==this.contractInfo.emergeName))return this.$message({message:"紧急联系人姓名不能为空!",type:"error"});if(0==this.contractInfo.lessee){if(""==this.contractPersonInfo.gender||void 0==this.contractPersonInfo.gender)return this.$message({message:"承租人性别不能为空!",type:"error"});if(0==this.contractPersonInfo.cardType&&this.contractPersonInfo.cardNo&&this.contractPersonInfo.cardNo.length>0){var o=this.contractPersonInfo.cardNo.substring(0,5);if("xnsfz"!=o&&!Object(h["a"])(this.contractPersonInfo.cardNo))return this.$message({message:"请输入承租人合法的身份证！",type:"error"})}}var a=0==this.contractInfo.lessee?"同住人":"居住人";for(e=0;e<t.length;e++)if(""!=t[e].personName||""!=t[e].gender||""!=t[e].phone||""!=t[e].cardType||""!=t[e].cardNo||""!=t[e].cardFrontPic||""!=t[e].cardBackPic||""!=t[e].otherCertificatePic){if(""==t[e].cardType||void 0==t[e].cardType)return this.$message({message:`请选择${a}证件类型!`,type:"error"});if(""==t[e].cardNo||void 0==t[e].cardNo)return this.$message({message:`请输入${a}证件号码!`,type:"error"});if(""==t[e].gender||void 0==t[e].gender)return this.$message({message:`${a}性别不能为空!`,type:"error"});if(""==t[e].personName||void 0==t[e].personName)return this.$message({message:`${a}姓名不能为空!`,type:"error"});if(""==t[e].phone||void 0==t[e].phone)return this.$message({message:`${a}手机号不能为空!`,type:"error"});if(""==t[e].cardFrontPic||void 0==t[e].cardFrontPic)return this.$message({message:`请选择${a}证件正面照片!`,type:"error"});if(""==t[e].cardBackPic||void 0==t[e].cardBackPic)return this.$message({message:`请选择${a}证件反面照片!`,type:"error"});if("0"==t[e].cardType&&t[e].cardNo&&t[e].cardNo.length>0&&!Object(h["a"])(t[e].cardNo))return this.$message({message:`请输入合法的${a}${t[e].personName}身份证！`,type:"error"})}var n=0;for(e=0;e<this.discountList.length;e++)1==this.discountList[e].isSelect&&(n=this.discountList[e].lessMongy||0);var i=[];for(e=0;e<this.depositTypeList.length;e++)i.push({type:this.depositTypeList[e].type,amount:this.depositTypeList[e].amount});var r=1;if(1==this.contractInfo.lessee)for(e=0;e<this.contractEnterpriseList.length;e++)1==this.contractEnterpriseList[e].payRent&&(r=0);var s=Number(this.contractInfo.payPrice-this.contractInfo.inheritDeposit),c=String(s).indexOf(".")+1;String(s).length;c>0&&(s=s.toFixed(2));var l={rentPayType:0==this.contractInfo.lessee?0:r,rental:this.contractInfo.rentPrice-n,originalRental:this.contractInfo.rentPrice,deposit:this.contractInfo.payPrice,actualDeposit:this.contractInfo.isExtended?s:this.contractInfo.payPrice,startTime:this.contractInfo.contractStartData,endTime:this.contractInfo.contractData,otherDeposits:i,front:this.contractInfo.reservePrice,riseYear:this.contractInfo.riseMode,risePercent:this.contractInfo.riseRate};this.$http.post("/api/contract/findPreContractBillDetail",l).then(t=>{var e=t.data;if(0==e.errorCode){this.dialogSignIncomeCheck=!0,this.signIncomeCheckList=[];for(var o=e.data||[],a=0;a<o.length;a++){var n=[];o[a].startTime&&o[a].endTime&&(n.push(o[a].startTime),n.push(o[a].endTime)),this.signIncomeCheckList.push({ascription:o[a].ascription?o[a].ascription.val:"",type:o[a].income&&1==o[a].income.val?"income":"expend",payType:o[a].type?o[a].type.val:"",payTypeName:o[a].type&&o[a].type.text?o[a].type.text:"",money:o[a].price,originalPrice:o[a].originalPrice||"",receiveDate:o[a].prePayTime,moneyDuring:n,total:o[a].total||"",current:o[a].current||"",payNow:o[a].payNow?o[a].payNow.val:"",describe:o[a].info,isExpand:!1})}this.calculateIncomeMoney()}}).catch(function(t){console.log(t)})},enterSignIncomeCheck(){this.getExitBillList(),this.checkIncomeInfo.compareDate=this.contractInfo.contractStartData,this.getPreContractBillDetail()},expandIncomeTable(t,e){var o=this.signIncomeCheckList[t];o.isExpand=e,this.$set(this.signIncomeCheckList,t,o)},insertSignIncomeList(){this.signIncomeCheckList.push({ascription:this.signIncomeCheckList[this.signIncomeCheckList.length-1].ascription,type:"income",payType:"",payTypeName:"",money:"",originalPrice:"",receiveDate:"",moneyDuring:[],total:"",current:"",payNow:"",describe:"",isExpand:!1})},removeSignIncomeList(t){this.signIncomeCheckList.length>1&&(this.signIncomeCheckList.splice(t,1),this.calculateIncomeMoney())},choiceSignMoneyType(t,e){var o=this.signIncomeCheckList[e];o.type=t,this.$set(this.signIncomeCheckList,e,o),this.calculateIncomeMoney()},signIncomeDescribe(t){this.describeLable.originVal=this.describeLable.newVal=this.signIncomeCheckList[t].describe,this.describeLable.index=t,this.dialogIncomeDescribeLabel=!0},closeIncomeDescribe(){this.describeLable.newVal=this.describeLable.originVal,this.dialogIncomeDescribeLabel=!1},choicecloseIncomeDescribe(){this.signIncomeCheckList[this.describeLable.index].describe=this.describeLable.newVal,this.dialogIncomeDescribeLabel=!1},changeSignIncomePayType(t){for(var e=this.signIncomeCheckList[t],o=0;o<this.exitBillList.length;o++)e.payType==this.exitBillList[o].val&&(e.payTypeName=this.exitBillList[o].text);this.$set(this.signIncomeCheckList,t,e)},inputCheckIncomeMoney(t){var e=Number(this.signIncomeCheckList[t].money),o=String(e).indexOf(".")+1;String(e).length;o>0&&(e=e.toFixed(2)),this.signIncomeCheckList[t].money=e,this.calculateIncomeMoney()},calculateIncomeMoney(){for(var t=0,e=0;e<this.signIncomeCheckList.length;e++){var o=new Date(this.checkIncomeInfo.compareDate),a=new Date(this.signIncomeCheckList[e].receiveDate);this.signIncomeCheckList[e].payNow=2,this.signIncomeCheckList[e].receiveDate&&o.getTime()>=a.getTime()&&(this.signIncomeCheckList[e].payNow=1,"income"==this.signIncomeCheckList[e].type?t+=Number(this.signIncomeCheckList[e].money):t-=Number(this.signIncomeCheckList[e].money))}this.checkIncomeInfo.totalMoney=Number(t).toFixed(2)},comfirmSignIncomeCheck(){this.comfirmSubmitContract()},comfirmSubmitContract(){var t=[];if(0==this.contractInfo.lessee){if(this.contractPersonList.length>0)for(var e=0;e<this.contractPersonList.length;e++)t.push({personName:this.contractPersonList[e].personName,gender:this.contractPersonList[e].gender,phone:this.contractPersonList[e].phone,cardType:this.contractPersonList[e].cardType,cardNo:this.contractPersonList[e].cardNo,cardFrontPic:this.contractPersonList[e].frontPicId,cardBackPic:this.contractPersonList[e].backPicId,otherCertificatePic:this.contractPersonList[e].otherPicId,master:""})}else for(e=0;e<this.contractEnterpriseList.length;e++)this.contractEnterpriseList.length>0&&t.push({personName:this.contractEnterpriseList[e].personName,gender:this.contractEnterpriseList[e].gender,phone:this.contractEnterpriseList[e].phone,cardType:this.contractEnterpriseList[e].cardType,cardNo:this.contractEnterpriseList[e].cardNo,cardFrontPic:this.contractEnterpriseList[e].frontPicId,cardBackPic:this.contractEnterpriseList[e].backPicId,otherCertificatePic:this.contractEnterpriseList[e].otherPicId,master:"1"==this.contractEnterpriseList[e].payRent?1:0});if(""==this.contractInfo.contractData)return this.$message({message:"合同期限不能为空!",type:"error"});if(this.contractInfo.emergeName&&""!=this.contractInfo.emergeName&&(""==this.contractInfo.emergePhone||void 0==this.contractInfo.emergePhone))return this.$message({message:"紧急联系人手机不能为空!",type:"error"});if(this.contractInfo.emergePhone&&""!=this.contractInfo.emergePhone&&(""==this.contractInfo.emergeName||void 0==this.contractInfo.emergeName))return this.$message({message:"紧急联系人姓名不能为空!",type:"error"});var o=0==this.contractInfo.lessee?"同住人":"居住人";for(e=0;e<t.length;e++)if(""!=t[e].personName||""!=t[e].gender||""!=t[e].phone||""!=t[e].cardType||""!=t[e].cardNo||""!=t[e].cardFrontPic||""!=t[e].cardBackPic||""!=t[e].otherCertificatePic){if(""==t[e].cardType||void 0==t[e].cardType)return this.$message({message:`请选择${o}证件类型!`,type:"error"});if(""==t[e].cardNo||void 0==t[e].cardNo)return this.$message({message:`请输入${o}证件号码!`,type:"error"});if(""==t[e].gender||void 0==t[e].gender)return this.$message({message:`${o}性别不能为空!`,type:"error"});if(""==t[e].personName||void 0==t[e].personName)return this.$message({message:`${o}姓名不能为空!`,type:"error"});if(""==t[e].phone||void 0==t[e].phone)return this.$message({message:`${o}手机号不能为空!`,type:"error"});if(""==t[e].cardFrontPic||void 0==t[e].cardFrontPic)return this.$message({message:`请选择${o}证件正面照片!`,type:"error"});if(""==t[e].cardBackPic||void 0==t[e].cardBackPic)return this.$message({message:`请选择${o}证件反面照片!`,type:"error"});if("0"==t[e].cardType&&t[e].cardNo&&t[e].cardNo.length>0&&!Object(h["a"])(t[e].cardNo))return this.$message({message:`请输入合法的${o}${t[e].personName}身份证！`,type:"error"})}for(var a=[],n=0;n<this.depositTypeList.length;n++)this.depositTypeList[n].type&&""!=this.depositTypeList[n].type&&a.push({type:this.depositTypeList[n].type,amount:this.depositTypeList[n].amount});var i={roomId:this.contractInfo.roomId,type:this.contractInfo.type,lessee:this.contractInfo.lessee,emergencyContact:this.contractInfo.emergeName,emergencyPhone:this.contractInfo.emergePhone,startTime:this.contractInfo.contractStartData,endTime:this.contractInfo.contractData,personList:t,rentPrice:this.contractInfo.rentPrice,deliveryMethod:this.contractInfo.deliveryMethod,discountId:this.contractInfo.discountChoice,otherDeposits:a||[],extended:0,deposit:this.contractInfo.payPrice,inheritDeposit:this.contractInfo.isExtended?1:0,actualDeposit:this.contractInfo.isExtended?this.contractInfo.payPrice-this.contractInfo.inheritDeposit:this.contractInfo.payPrice,lesseePerson:{},info:this.contractInfo.addtionContent,fileId:this.uploadFile.fileId,eContractContent:this.contractTempInfo.message||""};if("extend"==this.contractInfo.contractMode&&(i.contractId=this.contractInfo.contractId,i.formerContractId=this.contractTempInfo.id,i.extended=1),"insert"==this.contractInfo.contractMode)if(void 0==this.contractInfo.waterSurplus||""==this.contractInfo.waterSurplus||void 0==this.contractInfo.electronicSurplus||""==this.contractInfo.electronicSurplus);else{i.history=1;var r=[];r.push({deviceId:this.contractInfo.waterDeviceId||"",surplus:this.contractInfo.waterSurplus,meterTime:this.contractInfo.waterSurplusData,deviceType:2}),r.push({deviceId:this.contractInfo.electronicDeviceId||"",surplus:this.contractInfo.electronicSurplus,meterTime:this.contractInfo.electronicSurplusData,deviceType:1}),i.deviceHistory=r}"insert"==this.contractInfo.contractMode&&this.fromRemoteInsert&&(i.roomReserveId=this.contractInfo.roomReserveId);var s=[];for(n=0;n<this.signIncomeCheckList.length;n++)s.push({ascription:this.signIncomeCheckList[n].ascription,type:this.signIncomeCheckList[n].payType,income:"income"==this.signIncomeCheckList[n].type?1:0,price:this.signIncomeCheckList[n].money,originalPrice:this.signIncomeCheckList[n].originalPrice,startTime:this.signIncomeCheckList[n].moneyDuring&&2==this.signIncomeCheckList[n].moneyDuring.length?this.signIncomeCheckList[n].moneyDuring[0]:"",endTime:this.signIncomeCheckList[n].moneyDuring&&2==this.signIncomeCheckList[n].moneyDuring.length?this.signIncomeCheckList[n].moneyDuring[1]:"",prePayTime:this.signIncomeCheckList[n].receiveDate,total:this.signIncomeCheckList[n].total,current:this.signIncomeCheckList[n].current,payNow:this.signIncomeCheckList[n].payNow,info:this.signIncomeCheckList[n].describe});if(i.preBillDetails=s,0==this.contractInfo.lessee){if(0==this.contractPersonInfo.cardType&&this.contractPersonInfo.cardNo&&this.contractPersonInfo.cardNo.length>0){var c=this.contractPersonInfo.cardNo.substring(0,5);if("xnsfz"!=c&&!Object(h["a"])(this.contractPersonInfo.cardNo))return this.$message({message:"请输入承租人合法的身份证！",type:"error"})}i.bank=this.contractPersonList[0].bank,i.bankNo=this.contractPersonList[0].bankCardNo,i.lesseePerson.personName=this.contractPersonInfo.personName,i.lesseePerson.gender=this.contractPersonInfo.gender,i.lesseePerson.phone=this.contractPersonInfo.phone,i.lesseePerson.cardType=this.contractPersonInfo.cardType,i.lesseePerson.cardNo=this.contractPersonInfo.cardNo,i.lesseePerson.cardFrontPic=this.contractEnterpriseInfo.frontPicId,i.lesseePerson.cardBackPic=this.contractEnterpriseInfo.backPicId,i.lesseePerson.otherCertificatePic=this.contractEnterpriseInfo.otherPicId,i.additionalFees=[];for(e=0;e<this.contractAdditPFees.length;e++)i.additionalFees.push({feeName:this.contractAdditPFees[e].feeContent,cycle:this.contractAdditPFees[e].payOne,price:this.contractAdditPFees[e].totalMoney,payType:"0"});i.riseYear=this.contractInfo.riseMode,i.risePercent=this.contractInfo.riseRate&&""!=this.contractInfo.riseRate?(parseFloat(this.contractInfo.riseRate)/100).toFixed(2):""}else{i.rentPayType=this.contractEnterpriseInfo.rentPayType+"",i.enterpriseId=this.contractEnterpriseInfo.enterpriseId,i.bank=this.contractEnterpriseInfo.bank,i.bankNo=this.contractEnterpriseInfo.bankNo,i.waterFee={},i.electricFee={},i.propertyFee={},i.waterFee.feeType="1",i.waterFee.included=this.contractInfo.waterFee.included+"",i.waterFee.payType=this.contractInfo.waterFee.payType,i.electricFee.feeType="2",i.electricFee.included=this.contractInfo.electricFee.included+"",i.electricFee.payType=this.contractInfo.electricFee.payType,i.propertyFee.feeType="3",i.propertyFee.included=this.contractInfo.propertyFee.included+"",i.propertyFee.payType=this.contractInfo.propertyFee.payType,i.additionalFees=[];for(e=0;e<this.contractAdditEFees.length;e++)i.additionalFees.push({feeName:this.contractAdditEFees[e].feeContent,cycle:this.contractAdditEFees[e].payOne,price:this.contractAdditEFees[e].totalMoney,payType:"1"});i.riseYear="",i.risePercent=""}this.$http.post("/api/contract/add",i).then(t=>{var e=t.data;0==e.errorCode&&(this.$message({message:`${"extend"==this.contractInfo.contractMode?"续签合同":"签约合同"}成功！`,type:"success"}),this.$store.commit("setStoreEdit",{count:"",which:"contract"}),setTimeout(()=>{this.dialogCustomerSigning=!1,this.dialogSignIncomeCheck=!1},1e3))}).catch(function(t){console.log(t)})},editContractTemplate(){this.$http.get("/api/contract_template/detail",{params:{templateId:this.contractInfo.templateId}}).then(t=>{var e=t.data;0==e.errorCode&&(this.contractTempInfo.id=e.data.contractTemplateId,this.contractTempInfo.message=e.data.templateContent,this.contractTempInfo.templateName=e.data.templateName,this.dialogVisibleTemp=!0)}).catch(function(t){console.log(t)})},removeDialogVisibleTemp(){this.$store.commit("setProjectMode",{mode:"insert",projectId:""}),this.contractTempInfo.id="",this.contractTempInfo.message="",this.contractTempInfo.templateName="",this.dialogVisibleTemp=!1,this.dialogVisibleLastTemp=!1},getLastContractDetail(){this.$http.get("/api/contract/recent_contract_detail",{params:{roomId:this.contractInfo.roomId}}).then(t=>{var e=t.data;0==e.errorCode&&(this.contractTempInfo.id=e.data.contractId,this.contractTempInfo.type=e.data.type,"0"==this.contractTempInfo.type?(this.contractTempInfo.url=e.data.fileUrl,window.open(this.contractTempInfo.url,"_self")):(this.contractTempInfo.message=e.data.econtractContent||"",this.dialogVisibleLastTemp=!0))}).catch(function(t){console.log(t)})},blurRewriteTotalMoney(){setTimeout(()=>{this.rewriteTotalMoney()},60)},rewriteTotalMoney(){var t=0;if(0==this.contractInfo.lessee)for(var e=0;e<this.contractAdditPFees.length;e++)t+=Number(this.contractAdditPFees[e].totalMoney);else for(e=0;e<this.contractAdditEFees.length;e++)t+=Number(this.contractAdditEFees[e].totalMoney);var o=this.contractInfo.infoTotalMoney+t;this.contractInfo.allTotalMoney=parseFloat(o).toFixed(2),this.$set(this.contractInfo,"addtionTotalMoney",parseFloat(t).toFixed(2)),this.$set(this.contractInfo,"allTotalMoney",this.contractInfo.allTotalMoney)},enterGetContractMoney(){setTimeout(()=>{this.getContractMoney()},80)},getContractMoney(){var t="";if(this.discountList.length>0)for(var e=0;e<this.discountList.length;e++)"1"==this.discountList[e].isSelect&&(t=this.discountList[e].discountId);var o=[];if(this.depositTypeList.length>0)for(e=0;e<this.depositTypeList.length;e++)this.depositTypeList[e].amount&&""!=this.depositTypeList[e].amount&&o.push(this.depositTypeList[e].amount);this.$http.get("/api/contract/price",{params:{roomId:this.contractInfo.roomId,deliveryMethod:this.contractInfo.deliveryMethod,discountId:t,rentPrice:this.contractInfo.rentPrice||"",startTime:this.contractInfo.contractStartData,otherDeposits:o.length>0?o.join(","):""}}).then(t=>{var e=t.data;0==e.errorCode&&(this.contractInfo.totalPayPrice=e.data.totalDepositPrice,this.$set(this.contractInfo,"payPrice",e.data.depositPrice),this.$set(this.contractInfo,"totalPayPrice",e.data.totalDepositPrice),this.$set(this.contractInfo,"infoRentPrice",e.data.rentPrice),this.$set(this.contractInfo,"reservePrice",e.data.reservePrice),this.$set(this.contractInfo,"infoPayPrice",(e.data.rentAndDepositPrice-e.data.rentPrice).toFixed(1)),this.$set(this.contractInfo,"infoTotalMoney",e.data.rentAndDepositPrice),this.rewriteTotalMoney())}).catch(function(t){console.log(t)})},addRental(){this.$root.Bus.$emit("addRental")},showBigImg(t){""!=t&&(this.bigImg.isShow=!0,this.bigImg.url=t,this.$nextTick(()=>{var t=document.querySelectorAll(".big-img-content")[0];t.style.background="url("+this.bigImg.url+") no-repeat center center",t.style.backgroundSize="contain"}))},doLogout(){this.$http.get("/api/auth/logout").then(t=>{if(0==t.data.errorCode){localStorage.removeItem("user");let t="";window.localStorage["brandInfo"]&&(t=JSON.parse(window.localStorage["brandInfo"])),localStorage.removeItem("brandInfo"),this.$message({showClose:!0,message:"注销成功",type:"success"}),setTimeout(()=>{this.$store.commit("setLogin",{isLogin:!1}),t&&t.brandLogogram?this.$router.push({path:"/login",query:{brand:t.brandLogogram}}):this.$router.push({path:"/login"})},800)}})},showChangePassword(t){this.dialogChangePasswd=!0,this.password.mode=t,this.password.old="",this.password.new1="",this.password.new2=""},getProvince(){this.$http.get("/api/org/getCity?pid=1&type=1").then(t=>{0===t.data.errorCode&&(this.provinceList=t.data.data,this.cityList=[])})},comfirmSubmitChangePasswd(){var t={};if("change"==this.password.mode){if(""==this.password.old)return this.$message({message:"请输入旧密码！",type:"error"});var e="";localStorage["user"]&&""!=localStorage["user"]&&(e=JSON.parse(localStorage["user"]).userId||""),t.userId=e,t.oldPassword=this.password.old}if(""==this.password.new1)return this.$message({message:"请输入新密码！",type:"error"});if(""==this.password.new2)return this.$message({message:"请输入确认密码！",type:"error"});if(this.password.new1!=this.password.new2)return this.$message({message:"两次密码不一致！",type:"error"});var o=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,a=o.test(this.password.new1);if(!a)return this.$message({message:"请输入6~16位包含字母和数字的密码！",type:"error"});t.newPassword=this.password.new1,t.newPasswordConfirm=this.password.new2;var n="/api/auth/editorSysUserPassword";"init"==this.password.mode&&(n="/api/auth/resetSysUserPassword"),this.$http.post(n,t).then(t=>{var e=t.data;0==e.errorCode&&setTimeout(()=>{this.$message({message:`${"change"==this.password.mode?"密码修改成功！":"密码重置成功！"}`,type:"success"}),this.dialogChangePasswd=!1},1e3)}).catch(function(t){console.log(t)})},showProjectManage(){this.$store.commit("setProManage",{isShow:!0})},showInsertDept(){this.$store.commit("setDeptInfo",{isShow:!0})},showInsertRole(){this.$store.commit("setRoleAdd",{isShow:!0})},showAddMember(){this.$store.commit("setMemberAdd",{isShow:!0})},showRealRoom(t){this.$store.commit("setRealRoom",{from:t,isShow:!0})},getDepositMonetList(){this.$http.get("/api/bill/getOtherDeposit").then(t=>{var e=t.data;0==e.errorCode&&(this.depositMonetList=e.data||[])}).catch(function(t){console.log(t)})},insertMoneyTypeList(){0==this.depositMonetList.length&&this.getDepositMonetList(),this.depositTypeList.push({type:"",amount:""})},deleteMoneyTypeList(t){this.depositTypeList.splice(t,1),this.getContractMoney()},changeDepositMonetChoice(t){for(var e=0;e<this.depositTypeList.length;e++)if(e!=t&&this.depositTypeList[e].type==this.depositTypeList[t].type)return this.depositTypeList[t].type="",this.$message({type:"error",message:"租金押金不能选择重复！!"})},insertVRIdNum(){for(var t=["0","1","2","3","4","5","6","7","8","9"],e="",o=0;o<12;o++){var a=Math.ceil(9*Math.random());e+=t[a]}this.contractPersonInfo.cardNo="xnsfz"+e}}},y=I,v=(o("aa84"),o("6691")),b=Object(v["a"])(y,r,s,!1,null,null,null),P=b.exports,k={name:"app",components:{BlueHeader:P},data(){return{menuList:[],listDetail:[],menuActiveNum:"1",isLogin:!1,userInfo:{name:"",icon:"",userId:""},brand:""}},mounted(){},created(){this.getUserLogin(),this.initVuexData()},watch:{"$store.getters.getLoginInfo.count"(){this.$store.getters.getLoginInfo.isLogin?(this.isLogin=!0,this.getUserLogin()):this.$store.getters.getLoginInfo.showNav?this.isLogin=!0:this.isLogin=!1}},updated(){this.$nextTick(()=>{this.$refs.BlueHeader.updeteLogo()})},methods:{setProjectMode(){this.$root.Bus.$emit("setProjectMode")},locationWhichRouter(){var t=window.location.hash;if(this.isLogin=!1,t.length>0){var e=t.substring(1),o=e.split("/");if(o.length>=2){if(""!=o[1]){for(var a=0;a<this.menuList.length;a++)if(this.menuList[a].url=="/"+o[1]&&(this.listDetail=this.menuList[a].childList,this.menuActiveNum=a+1+""),this.menuList[a].childList&&this.menuList[a].childList.length>0)for(var n=0;n<this.menuList[a].childList.length;n++)this.menuList[a].childList[n].url=="/"+o[1]&&(this.listDetail=this.menuList[a].childList,this.menuActiveNum=a+1+"")}else for(a=0;a<this.menuList.length;a++)"/"==this.menuList[a].url&&(this.listDetail=this.menuList[a].childList,this.menuActiveNum=a+1+"");this.isLogin=!0,this.menuListDetail(this.menuActiveNum-1)}}},menuListDetail(t){this.listDetail=this.menuList[t].childList},initVuexData(){"#/login"!=window.location.hash&&this.$store.dispatch("getApartment")},getUserLogin(){if(this.$route.query.brand?this.$route.query.brand:"",localStorage["user"]&&""!=localStorage["user"])if(this.$store.getters.getLoginInfo.isLogin){if(this.$store.getters.getLoginInfo.count<=1){var t=JSON.parse(localStorage["user"]);this.userInfo.name=t.employeeName||"",this.userInfo.icon=t.headimgUrl||"",this.menuList=t.resourceList||[],this.locationWhichRouter(),this.$store.dispatch("getApartment")}this.isLogin=!0}else this.isLogin=!1;else if(this.isLogin=!1,this.menuList=[],this.$store.commit("setLogin",{isLogin:!1,showNav:!1}),-1!=window.location.href.indexOf("?")){let t=window.location.href.indexOf("?"),e=window.location.href.slice(t+1,window.location.href.length),o=e.indexOf("="),a=e.slice(o+1,e.length);-1!=o&&a.length>0?this.$router.push({path:"/login",query:{brand:a}}):this.$router.push({path:"/login"})}else this.$router.push({path:"/login"})}}},C=k,L=(o("7c55"),Object(v["a"])(C,n,i,!1,null,null,null)),w=L.exports,S=o("8b48");a["default"].use(S["a"]);var T=new S["a"]({routes:[{path:"/",name:"index",component:()=>o.e("chunk-5219bbb0").then(o.bind(null,"a652")),meta:{pageTitle:""}},{path:"/device",name:"device",component:()=>o.e("chunk-32921417").then(o.bind(null,"4c85")),meta:{pageTitle:"设备管理"}},{path:"/reserveHouse",name:"reserveHouse",component:()=>o.e("chunk-6fd87afa").then(o.bind(null,"7f5b")),meta:{pageTitle:"预约看房"}},{path:"/contract",name:"contract",component:()=>o.e("chunk-02c7e01e").then(o.bind(null,"4f80")),meta:{pageTitle:"合同管理"}},{path:"/contract/reserve",name:"reserve",component:()=>o.e("chunk-2f309c45").then(o.bind(null,"8544")),meta:{pageTitle:"预定管理"}},{path:"/account",name:"account",component:()=>o.e("chunk-7f3a4fd3").then(o.bind(null,"e215")),meta:{pageTitle:"财务管理"}},{path:"/operate",name:"operate",component:()=>Promise.all([o.e("chunk-2c6ce4e1"),o.e("chunk-62b3165c")]).then(o.bind(null,"5e27")),meta:{pageTitle:"资讯"}},{path:"/operate/advertisement",name:"advertisement",component:()=>Promise.all([o.e("chunk-2c6ce4e1"),o.e("chunk-7a28594e")]).then(o.bind(null,"1778")),meta:{pageTitle:"广告"}},{path:"/operate/service",name:"service",component:()=>Promise.all([o.e("chunk-2c6ce4e1"),o.e("chunk-5827461f")]).then(o.bind(null,"718d")),meta:{pageTitle:"服务"}},{path:"/operate/suggestion",name:"suggestion",component:()=>o.e("chunk-6231b2e7").then(o.bind(null,"131b")),meta:{pageTitle:"投诉建议"}},{path:"/operate/invoice",name:"invoice",component:()=>o.e("chunk-523a7fdb").then(o.bind(null,"3577")),meta:{pageTitle:"申请发票"}},{path:"/statistics",name:"statistics",component:()=>o.e("chunk-673097b0").then(o.bind(null,"7aa9b")),meta:{pageTitle:"项目统计"}},{path:"/statistics/finance",name:"finance",component:()=>o.e("chunk-0f22b4d0").then(o.bind(null,"0e84")),meta:{pageTitle:"财务统计"}},{path:"/statistics/sms",name:"smsStatic",component:()=>o.e("chunk-54e36cb5").then(o.bind(null,"87f3")),meta:{pageTitle:"短信统计"}},{path:"/dailyRent",name:"realRoom",component:()=>o.e("chunk-60bf9635").then(o.bind(null,"f901")),meta:{pageTitle:"房态管理"}},{path:"/dailyRent/orderList",name:"orderList",component:()=>o.e("chunk-3bf4a87e").then(o.bind(null,"8339")),meta:{pageTitle:"订单管理"}},{path:"/dailyRent/reportStatistics",name:"reportStatistics",component:()=>o.e("chunk-28f4237a").then(o.bind(null,"0e49")),meta:{pageTitle:"报表统计"}},{path:"/dailyRent/housingManage",name:"housingManage",component:()=>o.e("chunk-e945a432").then(o.bind(null,"ef8a")),meta:{pageTitle:"房型管理"}},{path:"/dailyRent/basicConfig",name:"basicConfig",component:()=>o.e("chunk-5c19a49b").then(o.bind(null,"ab71")),meta:{pageTitle:"基础配置"}},{path:"/setting",name:"deptManage",component:()=>o.e("chunk-8dd56872").then(o.bind(null,"8083")),meta:{pageTitle:"部门管理"}},{path:"/setting/roleManage",name:"roleManage",component:()=>o.e("chunk-7f5a4a72").then(o.bind(null,"2874")),meta:{pageTitle:"角色管理"}},{path:"/setting/memberManage",name:"memberManage",component:()=>o.e("chunk-872a2c72").then(o.bind(null,"df67c")),meta:{pageTitle:"员工管理"}},{path:"/setting/preferentialActivities",name:"preferentialActivities",component:()=>o.e("chunk-95bad6d6").then(o.bind(null,"fd34")),meta:{pageTitle:"优惠活动"}},{path:"/setting/user",name:"user",component:()=>o.e("chunk-017ceb90").then(o.bind(null,"d712")),meta:{pageTitle:"用户设置"}},{path:"/setting/device",name:"device",component:()=>o.e("chunk-15512961").then(o.bind(null,"3d98")),meta:{pageTitle:"设备配置"}},{path:"/setting/contract",name:"contract",component:()=>Promise.all([o.e("chunk-2c6ce4e1"),o.e("chunk-5310e9e2")]).then(o.bind(null,"d56e")),meta:{pageTitle:"合同模板"}},{path:"/setting/charge",name:"charge",component:()=>o.e("chunk-3dad52dc").then(o.bind(null,"5a8b")),meta:{pageTitle:"收费标准"}},{path:"/setting/supplier",name:"supplier",component:()=>o.e("chunk-afaf04c4").then(o.bind(null,"f1e6")),meta:{pageTitle:"供应商管理"}},{path:"/login",name:"login",component:()=>o.e("chunk-276ac746").then(o.bind(null,"dc3f")),meta:{pageTitle:"登录"}},{path:"/financeHouse",name:"financeHouse",component:()=>o.e("chunk-ab5985ec").then(o.bind(null,"4fe5")),meta:{pageTitle:"财务"}}]}),_=o("591a");a["default"].use(_["a"]);var x=new _["a"].Store({state:{aCity:[],projectList:[],projectListValue:"",roomNumList:[],apartmentList:[],projectInfo:{mode:"insert",projectId:"",cityId:"",provinceId:""},houseInfo:{mode:"insert",roomId:""},storeEditInfo:{count:1,which:"house"},contractInfo:{mode:"insert",count:1,contractId:"",roomId:"",reserveId:""},loginInfo:{isLogin:!1,showNav:!0,count:0},proManageInfo:{isShow:!1,count:0},deptInfo:{isShow:!1,count:0},roleAddInfo:{isShow:!1,count:0},memeberAddInfo:{isShow:!1},realRoomInfo:{isShow:!1,count:0,from:""},billInfo:{isShow:!1,item:"",count:0}},mutations:{setCity:(t,e)=>{var o=e&&e.length>0?e:[];o.map((t,e)=>{t.label=t.cityName,t.value=t.id}),t.aCity=o},setProject:async(t,e)=>{return new Promise((o,a)=>{t.projectList.length>0?a("err"):(typeof e=={}&&e.map(t=>{t.label=t.orgName,t.value=t.orgId}),t.projectList=e,o("succ"))})},setRoomNumList:(t,e)=>{t.roomNumList=e},setProjectMode:(t,e)=>{t.projectInfo.mode=e.mode||"insert",t.projectInfo.projectId=e.projectId,t.projectInfo.provinceId=e.provinceId,t.projectInfo.cityId=e.cityId},setApartmentList:(t,e)=>{t.apartmentList=e},setHouseMode:(t,e)=>{t.houseInfo.mode=e.mode||"insert",t.houseInfo.roomId=e.roomId},setStoreEdit:(t,e)=>{t.storeEditInfo.count+=1,t.storeEditInfo.which=e.which},setContractMode:(t,e)=>{t.contractInfo.contractId=e.contractId,t.contractInfo.roomId=e.roomId,t.contractInfo.reserveId=e.reserveId||"",t.contractInfo.count+=1,t.contractInfo.mode=e.mode},setLogin:(t,e)=>{t.loginInfo.isLogin=e.isLogin,t.loginInfo.showNav=e.showNav||!1,e.count&&"init"==e.count?t.loginInfo.count=0:t.loginInfo.count+=1},setProManage:(t,e)=>{t.proManageInfo.isShow=e.isShow,t.proManageInfo.count+=1},setDeptInfo:(t,e)=>{t.deptInfo.isShow=e.isShow,t.deptInfo.count+=1},setRoleAdd:(t,e)=>{t.roleAddInfo.isShow=e.isShow,t.roleAddInfo.count+=1},setMemberAdd:(t,e)=>{t.memeberAddInfo.isShow=e.isShow},setRealRoom:(t,e)=>{t.realRoomInfo.isShow=e.isShow,t.realRoomInfo.from=e.from,t.realRoomInfo.count+=1},setBillInfo:(t,e)=>{t.billInfo.isShow=e.isShow,t.billInfo.item=e.item,t.billInfo.count+=1}},actions:{getCity:async t=>{let e=await Object(f["a"])();t.commit("setCity",e.data.data)},getProject:async(t,e="")=>{let o=await Object(f["mb"])();t.commit("setProject",o.data.data)},getRoomNum:async(t,e)=>{let o=await Object(f["rb"])(e);t.commit("setRoomNumList",o.data.data)},getApartment:async(t,e)=>{let o=await Object(f["S"])(e);t.commit("setApartmentList",o.data.data)}},getters:{gettaCity:t=>{return t.aCity},getPeojectList:t=>{return t.projectList},getRoomNumList:t=>{return t.roomNumList},getProjectInfo:t=>{return t.projectInfo},getApartmentList:t=>{return t.apartmentList},getHouseInfo:t=>{return t.houseInfo},getStoreEdit:t=>{return t.storeEditInfo},getContractInof:t=>{return t.contractInfo},getLoginInfo:t=>{return t.loginInfo},getProjManaInfo:t=>{return t.proManageInfo},getDeptInfo:t=>{return t.deptInfo},getRoleAdd:t=>{return t.roleAddInfo},getMemberAdd:t=>{return t.memeberAddInfo},getRealRoom:t=>{return t.realRoomInfo},getBillInfo:t=>{return console.log("33333"),t.billInfo}}}),N=(o("9f45"),o("d390")),$=(o("0225"),o("20ad")),M=o.n($),D=(o("8720"),o("f753")),j=o.n(D);const R=function(t,e){if(!(this instanceof R))return new R(t,e);this.options=this.extend({noPrint:".no-print"},e),"string"===typeof t?this.dom=document.querySelector(t):(this.isDOM(t),this.dom=this.isDOM(t)?t:t.$el),this.init()};R.prototype={init:function(){var t=this.getStyle()+this.getHtml();this.writeIframe(t)},extend:function(t,e){for(var o in e)t[o]=e[o];return t},getStyle:function(){for(var t="",e=document.querySelectorAll("style,link"),o=0;o<e.length;o++)t+=e[o].outerHTML;return t+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",t},getHtml:function(){for(var t=document.querySelectorAll("input"),e=document.querySelectorAll("textarea"),o=document.querySelectorAll("select"),a=0;a<t.length;a++)"checkbox"==t[a].type||"radio"==t[a].type?1==t[a].checked?t[a].setAttribute("checked","checked"):t[a].removeAttribute("checked"):(t[a].type,t[a].setAttribute("value",t[a].value));for(var n=0;n<e.length;n++)"textarea"==e[n].type&&(e[n].innerHTML=e[n].value);for(var i=0;i<o.length;i++)if("select-one"==o[i].type){var r=o[i].children;for(var s in r)"OPTION"==r[s].tagName&&(1==r[s].selected?r[s].setAttribute("selected","selected"):r[s].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(t){var e,o,a=document.createElement("iframe"),n=document.body.appendChild(a);a.id="myIframe",a.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),e=n.contentWindow||n.contentDocument,o=n.contentDocument||n.contentWindow.document,o.open(),o.write(t),o.close();var i=this;a.onload=function(){i.toPrint(e),setTimeout(function(){document.body.removeChild(a)},100)}},toPrint:function(t){try{setTimeout(function(){t.focus();try{t.document.execCommand("print",!1,null)||t.print()}catch(e){t.print()}t.close()},10)}catch(e){console.log("err",e)}},isDOM:"object"===typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"===typeof t&&1===t.nodeType&&"string"===typeof t.nodeName}};const E={install:function(t,e){t.prototype.$print=R}};var O=E,F=null,H={};j.a.defaults.headers.token=localStorage["token"],j.a.interceptors.request.use(t=>{if(void 0==t.data&&(t.data={}),-1!=location.hash.indexOf("?"))var e=location.hash.slice(2,location.hash.indexOf("?"));else e=location.hash.slice(2);return t.headers.pagename=e,void 0!=t.data&&"self"!=t.data.loadingType&&(H[t.url]=!0,null===F)?("/api/auth/getSysRoleResourcesByPid"==t.url||(F=$["Loading"].service({fullscreen:!0})),t):t},t=>{return F.close(),Promise.reject(t)});var A=!0;j.a.interceptors.response.use(function(t){0===t.data.errorCode&&t.data.result||"30000"==t.data.errorCode||"40001"==t.data.errorCode||(F&&F.close(),$["Message"].error(t.data.message)),"40001"==t.data.errorCode&&F&&F.close(),"30000"==t.data.errorCode&&(F&&F.close(),$["Message"].error("登录超时，请重新登录"),localStorage["user"]&&""!=localStorage["user"]?(A=!1,x.commit("setLogin",{isLogin:!1,showNav:!0,count:1})):A&&setTimeout(()=>{x.commit("setLogin",{isLogin:!1,showNav:!1,count:1}),location.reload()},1e3));var e=t.config.url;if("undefined"!=t.data.errorCode){if(H[e]=!1,t.config.params&&!1===t.config.params.async)return t;for(let e in H)if(H[e])return t;F&&F.close(),F=null}return F&&F.close(),t},function(t){if(console.log(t),void 0!=t.response.status){let e=t.response.status;$["Message"].error(`请求失败，http状态码：${e}`)}else $["MessageBox"].alert("请求失败，接口错误","提示",{confirmButtonText:"确定",callback:()=>{},type:"warning"});return F.close(),Promise.reject(t)}),T.beforeEach((t,e,o)=>{Object(h["k"])("公寓系统"),"/login"==t.path?(x.commit("setLogin",{isLogin:!1,showNav:!1}),o()):localStorage["user"]&&""!=localStorage["user"]?(x.commit("setLogin",{isLogin:!0,showNav:!0}),o()):(x.commit("setLogin",{isLogin:!1,showNav:!1}),localStorage["requestUrl"]=t.fullPath,o("/login"))});o("ce52"),o("1543"),o("3040"),o("cac2"),o("1e58");a["default"].config.productionTip=!1,a["default"].component(N["a"].name,N["a"]),a["default"].use(M.a),a["default"].prototype.$http=j.a,a["default"].use(O),a["default"].use(u.a),a["default"].prototype.$headerAuth=[],a["default"].prototype.$authority=[];const U=a["default"].filter("filterMoney",function(t){return t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")});a["default"].prototype.$filter=U,localStorage["token"]="temp",localStorage["token"]&&new a["default"]({data:{Bus:new a["default"]},router:T,store:x,render:t=>t(w)}).$mount("#app")},"729c":function(t,e,o){"use strict";o.d(e,"jb",function(){return i}),o.d(e,"bb",function(){return r}),o.d(e,"lb",function(){return s}),o.d(e,"mb",function(){return c}),o.d(e,"cb",function(){return l}),o.d(e,"ab",function(){return d}),o.d(e,"db",function(){return p}),o.d(e,"x",function(){return h}),o.d(e,"g",function(){return m}),o.d(e,"Qb",function(){return u}),o.d(e,"y",function(){return f}),o.d(e,"qb",function(){return g}),o.d(e,"Cb",function(){return I}),o.d(e,"K",function(){return y}),o.d(e,"F",function(){return v}),o.d(e,"E",function(){return b}),o.d(e,"T",function(){return P}),o.d(e,"Ib",function(){return k}),o.d(e,"L",function(){return C}),o.d(e,"G",function(){return L}),o.d(e,"ib",function(){return w}),o.d(e,"j",function(){return S}),o.d(e,"t",function(){return T}),o.d(e,"Pb",function(){return _}),o.d(e,"Db",function(){return x}),o.d(e,"Ob",function(){return N}),o.d(e,"M",function(){return $}),o.d(e,"hb",function(){return M}),o.d(e,"Rb",function(){return D}),o.d(e,"Eb",function(){return j}),o.d(e,"Mb",function(){return R}),o.d(e,"W",function(){return E}),o.d(e,"b",function(){return O}),o.d(e,"xb",function(){return F}),o.d(e,"u",function(){return H}),o.d(e,"q",function(){return A}),o.d(e,"R",function(){return U}),o.d(e,"B",function(){return B}),o.d(e,"D",function(){return V}),o.d(e,"i",function(){return z}),o.d(e,"Hb",function(){return q}),o.d(e,"C",function(){return G}),o.d(e,"yb",function(){return K}),o.d(e,"N",function(){return W}),o.d(e,"P",function(){return Y}),o.d(e,"O",function(){return J}),o.d(e,"Q",function(){return Z}),o.d(e,"w",function(){return Q}),o.d(e,"c",function(){return X}),o.d(e,"H",function(){return tt}),o.d(e,"J",function(){return et}),o.d(e,"I",function(){return ot}),o.d(e,"kb",function(){return at}),o.d(e,"A",function(){return nt}),o.d(e,"s",function(){return it}),o.d(e,"l",function(){return rt}),o.d(e,"k",function(){return st}),o.d(e,"d",function(){return ct}),o.d(e,"nb",function(){return lt}),o.d(e,"pb",function(){return dt}),o.d(e,"ob",function(){return pt}),o.d(e,"z",function(){return ht}),o.d(e,"X",function(){return mt}),o.d(e,"m",function(){return ut}),o.d(e,"Z",function(){return ft}),o.d(e,"Lb",function(){return gt}),o.d(e,"f",function(){return It}),o.d(e,"Y",function(){return yt}),o.d(e,"e",function(){return vt}),o.d(e,"Nb",function(){return bt}),o.d(e,"r",function(){return Pt}),o.d(e,"zb",function(){return kt}),o.d(e,"Ab",function(){return Ct}),o.d(e,"Bb",function(){return Lt}),o.d(e,"v",function(){return wt}),o.d(e,"vb",function(){return St}),o.d(e,"ub",function(){return Tt}),o.d(e,"tb",function(){return _t}),o.d(e,"wb",function(){return xt}),o.d(e,"n",function(){return Nt}),o.d(e,"Jb",function(){return $t}),o.d(e,"Kb",function(){return Mt}),o.d(e,"p",function(){return Dt}),o.d(e,"U",function(){return jt}),o.d(e,"V",function(){return Rt}),o.d(e,"Gb",function(){return Et}),o.d(e,"eb",function(){return Ot}),o.d(e,"fb",function(){return Ft}),o.d(e,"gb",function(){return Ht}),o.d(e,"Fb",function(){return At}),o.d(e,"h",function(){return Ut}),o.d(e,"o",function(){return Bt}),o.d(e,"rb",function(){return Vt}),o.d(e,"S",function(){return zt}),o.d(e,"a",function(){return qt}),o.d(e,"sb",function(){return Gt});var a=o("f753"),n=o.n(a);const i=()=>{return n.a.get("/api/room/getRoomDeliveryMethod")},r=t=>{return n()("/api/information/getInformationPage",{method:"get",params:t})},s=t=>{return n.a.get(`/api/bill/getOrgList?${t}`)},c=()=>{return n.a.get("/api/bill/getOrgList")},l=()=>{return n.a.get("/api/information/getInformationTypes")},d=()=>{return n.a.get("/api/information/getInformationContentTypes")},p=t=>{return n.a.get(`/api/information/getInformationView?id=${t}`)},h=t=>{return n.a.post("/api/information/editorInformation",t)},m=t=>{return n.a.post("/api/information/addInformation",t)},u=t=>{return n.a.post("/api/file/uploadthumbCompress",t)},f=(t={})=>{return n.a.post("/api/information/editorInformationState",t)},g=(t={})=>{return n.a.get(`/api/room/getRoomByOrg?orgId=${t}`)},I=t=>{return n()("api/bill/findBillDetailAll",{method:"get",params:t})},y=t=>{return n()("api/bill/findCostTypes",{method:"get",params:t})},v=t=>{return n()("api/bill/findPayTypes",{method:"get",params:t})},b=t=>{return n()("api/bill/findOfflinePayTypes",{method:"get",params:t})},P=(t="")=>{return n()("/api/bill/getBillGenerateInfo",{method:"get",params:t})},k=t=>{return n.a.post("/api/bill/complete",t)},C=t=>{return n()("/api/bill/findUnpaidDetails",{method:"get",params:t})},L=t=>{return n()("/api/bill/findBillDetailTotal",{method:"get",params:t})},w=t=>{return n.a.get("/api/contract_template/page",{method:"get",params:t})},S=t=>{return n.a.post("/api/contract_template/add",t)},T=t=>{return n()("/api/contract_template/detail",{method:"get",params:t})},_=t=>{return n()("/api/contract_template/update",{method:"post",data:t})},x=(t={})=>{return n()("/api/bill/findDetails",{method:"get",params:t})},N=t=>{return n.a.post("/api/bill/updatePrice",t)},$=(t="")=>{return n()("/api/bill/generateBills",{method:"post",data:t})},M=t=>{return n()("/api/discount/page",{method:"get",params:t})},D=t=>{return n()("/api/discount/usage_page",{method:"get",params:t})},j=t=>{return n.a.get("/api/discount/lessee_types",{method:"post",data:t})},R=t=>{return n()("/api/discount/update",{method:"post",data:t})},E=t=>{return n()("/api/discount/detail",{method:"get",params:t})},O=t=>{return n()("/api/discount/add",{method:"post",data:t})};const F=t=>{return n()("/api/auth/getSysUserPage",{method:"get",params:t})},H=t=>{return n()("/api/auth/disableSysUser",{method:"post",data:t})},A=t=>{return n()("/api/auth/delSysUser",{method:"post",data:t})},U=t=>{return n()("/api/auth/getAllSysRole",{method:"get"})},B=t=>{return n()("/api/auth/editorSysUser",{method:"post",data:t})},V=t=>{return n()("/api/auth/enableSysUser",{method:"post",data:t})},z=t=>{return n()("/api/auth/addSysUser",{method:"post",data:t})},q=t=>{return n()("/api/auth/resetSysUserPassword",{method:"post",data:t})},G=t=>{return n()("/api/auth/editorSysUserPassword",{method:"post",data:t})},K=t=>{return n()("/api/auth/getSysUserView",{method:"GET",params:t})},W=t=>{return n()("/api/advertise/getAdvertisePage",{method:"get",params:t})},Y=t=>{return n.a.get("/api/advertise/getAdvertiseStates")},J=t=>{return n.a.get("/api/advertise/getAdvertisePlaces")},Z=t=>{return n()("/api/advertise/getAdvertiseView",{method:"get",params:t})},Q=t=>{return n()("/api/advertise/editorAdvertise",{method:"POST",data:t})},X=t=>{return n()("/api/advertise/addAdvertise",{method:"POST",data:t})},tt=t=>{return n.a.get("/api/bill/findStatistics",{method:"get",params:t})},et=t=>{return n.a.get("/api/room/findStatistics",{method:"get",params:t})},ot=t=>{return n.a.get("/api/smsStatistics/getSmsStatisticsPage",{method:"get",params:t})},at=t=>{return n()("/api/enterprise/page",{method:"get",params:t})},nt=t=>{return n()("/api/supplier/editorSupplier",{method:"post",data:t})},it=t=>{return n()("/api/enterprise/detail",{method:"get",params:t})},rt=()=>{return n.a.get("/api/enterprise/banks")},st=t=>{return n()("/api/enterprise/add_or_update",{method:"post",data:t})},ct=t=>{return n()("/api/enterprise/bank/add",{method:"post",data:t})},lt=t=>{return n()("/api/rates/getRatesList",{method:"get",params:t})},dt=t=>{return n()("/api/rates/getRatesView",{method:"get",params:t})},pt=t=>{return n()("/api/rates/getRatesTypes",{method:"get",params:t})},ht=t=>{return n()("/api/rates/editorRates",{method:"post",data:t})},mt=t=>{return n()("/api/deviceDeploy/getDeviceCategoryList",{method:"get",params:t})},ut=t=>{return n()("/api/deviceDeploy/batchNormalDevice",{method:"POST",data:t})},ft=t=>{return n.a.get("/api/deviceDeploy/getDeviceType")},gt=t=>{return n()("/api/deviceDeploy/undateDeviceCategory",{method:"post",data:t})},It=t=>{return n()("/api/deviceDeploy/addDeviceCategory",{method:"post",data:t})},yt=t=>{return n()("/api/deviceDeploy/getDeviceListByCategory",{method:"get",params:t})},vt=t=>{return n()("/api/deviceDeploy/addDevice",{method:"post",data:t})},bt=t=>{return n()("/api/deviceDeploy/updateDevice",{method:"post",data:t})},Pt=t=>{return n()("/api/deviceDeploy/deleteDevice",{method:"post",data:t})},kt=t=>{return n()("/api/work/getWorkPage",{method:"get",params:t})},Ct=t=>{return n()("/api/work/getWorkStates",{method:"get",params:t})},Lt=t=>{return n()("/api/work/getWorkView",{method:"get",params:t})},wt=t=>{return n()("/api/work/dispatch",{method:"post",data:t})},St=t=>{return n()("/api/supplier/getSupplierTypes",{method:"get",params:t})},Tt=t=>{return n()("/api/supplier/getSupplierListByType",{method:"get",params:t})},_t=t=>{return n()("/api/supplier/getSupplierList",{method:"GET",params:t})},xt=t=>{return n()("/api/supplier/getSupplierView",{method:"GET",params:t})},Nt=t=>{return n()("/api/work/closed",{method:"POST",data:t})},$t=t=>{return n()("/api/work/submitAmounted",{method:"POST",data:t})},Mt=t=>{return n()("/api/work/submitCompleted",{method:"POST",data:t})},Dt=t=>{return n()("/api/work/completed",{method:"POST",data:t})},jt=t=>{return n()("/api/complain/getComplainPage",{method:"GET",params:t})},Rt=t=>{return n()("/api/complain/getComplainState",{method:"GET",params:t})},Et=t=>{return n()("/api/complain/replyComplain",{method:"POST",data:t})},Ot=t=>{return n()("/api/invoice/getInvoicePage",{method:"get",params:t})},Ft=()=>{return n.a.get("/api/invoice/getInvoiceStateList")},Ht=()=>{return n.a.get("/api/invoice/getInvoiceType")},At=t=>{return n()("/api/invoice/markInvoice",{method:"post",data:t})},Ut=(t,e)=>{return n()(`${e}`,{method:"POST",data:t})},Bt=t=>{return n()("/api/bill/complePreRentf",{method:"POST",data:t})},Vt=t=>{return n.a.get(`/api/room/getRoomByOrg?${t}`)},zt=()=>{return n.a.get("/api/room/getRoomStructure")},qt=()=>{return n.a.get("/api/org/GetValidCity")},Gt=()=>{return n.a.get("/api/bill/getStatisticsOrgList")}},"7c55":function(t,e,o){"use strict";var a=o("9ce3"),n=o.n(a);n.a},"90b9":function(t,e,o){"use strict";o.d(e,"e",function(){return f}),o.d(e,"b",function(){return h}),o.d(e,"k",function(){return a}),o.d(e,"f",function(){return n}),o.d(e,"g",function(){return i}),o.d(e,"l",function(){return s}),o.d(e,"h",function(){return c}),o.d(e,"i",function(){return l}),o.d(e,"c",function(){return d}),o.d(e,"j",function(){return u}),o.d(e,"d",function(){return m}),o.d(e,"m",function(){return r}),o.d(e,"a",function(){return p});let a=function(t){document.title=t;let e=navigator.userAgent;if(/\bMicroMessenger\/([\d.]+)/.test(e)&&/ip(hone|od|ad)/i.test(e)){var o=document.createElement("iframe");o.style.display="none",o.onload=function(){setTimeout(function(){o.remove()},9)},document.body.appendChild(o)}},n=function(t){if(!t)return"";var e=new Date(t),o=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDate();n<10&&(n="0"+n);var i=e.getHours();i<10&&(i="0"+i);var r=e.getMinutes();r<10&&(r="0"+r);var s=e.getSeconds();return s<10&&(s="0"+s),o+"-"+a+"-"+n},i=function(t){if(!t)return"";var e=new Date(t),o=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDate();n<10&&(n="0"+n);var i=e.getHours();i<10&&(i="0"+i);var r=e.getMinutes();r<10&&(r="0"+r);var s=e.getSeconds();return s<10&&(s="0"+s),o+"-"+a+"-"+n+" "+i+":"+r+":"+s},r=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},s=function(t){var e=new Date(1e3*t),o=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",n=e.getDate()<10?"0"+e.getDate():e.getDate();return o+a+n},c=function(t,e,o){var a=new Date(e),n="";n="next"?new Date(a.getTime()+864e5*o):new Date(a.getTime()-864e5*o);var i=n.getFullYear(),r=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,s=n.getDate()<10?"0"+n.getDate():n.getDate();return i+"-"+r+"-"+s},l=function(t,e){let o=t.substring(0,4),a=t.substring(5,7),n=t.substring(8,10),i=e.substring(0,4),r=e.substring(5,7),s=e.substring(8,10),c=new Date(o,a,n),l=new Date(i,r,s);return(l.getTime()-c.getTime())/864e5};function d(t){var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;return e.test(t)}function p(t){for(var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=["1","0","X","9","8","7","6","5","4","3","2"],a=t+"",n=t[17],i=a.substring(0,17),r=i.split(""),s=r.length,c=0,l=0;l<s;l++)c+=r[l]*e[l];var d=c%11,p=o[d],h=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,m=h.test(t);return!(n!==p||!m)}function h(t){let e=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/;return e.test(t)}function m(t){var e=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;return e.test(t)}function u(t){return t.replace(/\s/g," ")}function f(t){var e,o,a,n=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),i=new Array("","拾","佰","仟"),r=new Array("","万","亿","兆"),s=new Array("角","分","毫","厘"),c="整",l="元",d=1e15,p="";if(""==t)return"";if(t=parseFloat(t),t>=d)return"";if(0==t)return p=n[0]+l+c,p;if(t=t.toString(),-1==t.indexOf(".")?(e=t,o=""):(a=t.split("."),e=a[0],o=a[1].substr(0,4)),parseInt(e,10)>0){for(var h=0,m=e.length,u=0;u<m;u++){var f=e.substr(u,1),g=m-u-1,I=g/4,y=g%4;"0"==f?h++:(h>0&&(p+=n[0]),h=0,p+=n[parseInt(f)]+i[y]),0==y&&h<4&&(p+=r[I])}p+=l}if(""!=o){var v=o.length;for(u=0;u<v;u++){f=o.substr(u,1);"0"!=f&&(p+=n[Number(f)]+s[u])}}return""==p?p+=n[0]+l+c:""==o&&(p+=c),p}},"9ce3":function(t,e,o){},a1a3:function(t,e,o){t.exports=o.p+"img/arrow-add-black.d18516a2.png"},aa84:function(t,e,o){"use strict";var a=o("f8b2"),n=o.n(a);n.a},ce52:function(t,e,o){},f8b2:function(t,e,o){}});